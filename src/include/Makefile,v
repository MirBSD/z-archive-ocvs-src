head	1.32;
access;
symbols
	tg-mergetmp-mirosx-1:1.32
	tg-mergefixes-1-branch:1.32.0.4
	tg-mergefixes-1-base:1.32
	MIROS_X:1.32.0.2
	MIROS_X_BASE:1.32
	tg-mergetmp-3:1.32
	MIRBSD_XP_MIRPPC:1.26.0.4
	MIRBSD_XP_SPARC_BASE:1.26
	MIRBSD_XP_SPARC:1.26.0.2
	cvs-200406230830:1.1.1.9
	MIRBSD_7quater:1.10
	cvs-200405160640:1.1.1.8
	cvs-200401271800:1.1.1.7
	cvs-200401261630:1.1.1.7
	cvs-200401021645:1.1.1.6
	MIRBSD_7_ALPHA:1.10.0.6
	MIRBSD_7:1.10.0.4
	cvs-200312222040:1.1.1.6
	MIRBSD_7ter:1.10
	MIRBSD_7_DEV:1.10.0.2
	cvs-200310020700:1.1.1.6
	cvs-200309271030:1.1.1.6
	cvs-200309251530:1.1.1.6
	cvs-200308302005:1.1.1.6
	cvs-200308171200:1.1.1.6
	ctm-3496:1.1.1.6
	ctm-3449:1.1.1.6
	ctm-3437:1.1.1.6
	cvs-200307191805:1.1.1.5
	ctm-3425:1.1.1.5
	cvs-200307091500:1.1.1.4
	ctm-3389:1.1.1.4
	cvs-200306291430:1.1.1.4
	ctm-3341:1.1.1.4
	MIRBSD_5:1.8
	cvs-200306082100:1.1.1.4
	ctm-3316:1.1.1.4
	ctm-3272:1.1.1.3
	cvs-200305131745:1.1.1.2
	ctm-3264:1.1.1.1
	cvs-200305071630:1.1.1.1
	ctm-3255:1.1.1.1
	MIRBSD_4:1.5
	ctm-3203:1.1.1.1
	cvs-20030410-1130:1.1.1.1
	ctm-3155:1.1.1.1
	ctm-3132:1.1.1.1
	openbsd:1.1.1;
locks; strict;
comment	@# @;


1.32
date	2004.12.12.18.02.28;	author tg;	state Exp;
branches;
next	1.31;

1.31
date	2004.12.09.19.23.35;	author tg;	state Exp;
branches;
next	1.30;

1.30
date	2004.11.30.20.54.11;	author tg;	state Exp;
branches;
next	1.29;

1.29
date	2004.11.30.17.04.16;	author tg;	state Exp;
branches;
next	1.28;

1.28
date	2004.11.15.16.23.24;	author tg;	state Exp;
branches;
next	1.27;

1.27
date	2004.11.14.16.14.30;	author tg;	state Exp;
branches;
next	1.26;

1.26
date	2004.09.29.15.56.30;	author tg;	state Exp;
branches;
next	1.25;

1.25
date	2004.08.12.11.28.39;	author tg;	state Stab;
branches;
next	1.24;

1.24
date	2004.08.11.23.22.39;	author tg;	state Exp;
branches;
next	1.23;

1.23
date	2004.06.23.16.58.40;	author tg;	state Exp;
branches;
next	1.22;

1.22
date	2004.06.23.08.41.04;	author tg;	state Exp;
branches;
next	1.21;

1.21
date	2004.06.14.00.25.47;	author tg;	state Exp;
branches;
next	1.20;

1.20
date	2004.05.22.00.26.07;	author tg;	state Exp;
branches;
next	1.19;

1.19
date	2004.05.21.21.20.10;	author tg;	state Exp;
branches;
next	1.18;

1.18
date	2004.05.07.01.39.29;	author tg;	state Exp;
branches;
next	1.17;

1.17
date	2004.03.21.16.07.29;	author tg;	state Exp;
branches;
next	1.16;

1.16
date	2004.03.07.21.40.56;	author tg;	state Exp;
branches;
next	1.15;

1.15
date	2004.03.02.09.50.11;	author tg;	state Exp;
branches;
next	1.14;

1.14
date	2004.03.02.09.18.43;	author tg;	state Exp;
branches;
next	1.13;

1.13
date	2004.01.27.17.41.48;	author tg;	state Exp;
branches;
next	1.12;

1.12
date	2004.01.11.16.41.34;	author tg;	state Exp;
branches;
next	1.11;

1.11
date	2003.12.21.15.30.44;	author tg;	state Exp;
branches;
next	1.10;

1.10
date	2003.07.22.16.06.30;	author tg;	state Exp;
branches;
next	1.9;

1.9
date	2003.07.18.19.19.22;	author tg;	state Exp;
branches;
next	1.8;

1.8
date	2003.06.06.18.27.36;	author tg;	state Exp;
branches;
next	1.7;

1.7
date	2003.05.22.14.07.08;	author tg;	state Exp;
branches;
next	1.6;

1.6
date	2003.05.13.18.21.21;	author tg;	state Exp;
branches;
next	1.5;

1.5
date	2003.04.06.15.10.59;	author tg;	state Exp;
branches;
next	1.4;

1.4
date	2003.03.30.00.28.09;	author tg;	state Exp;
branches;
next	1.3;

1.3
date	2003.03.29.22.47.21;	author tg;	state Exp;
branches;
next	1.2;

1.2
date	2003.03.25.21.51.59;	author tg;	state Exp;
branches;
next	1.1;

1.1
date	2003.03.22.17.44.46;	author tg;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2003.03.22.17.44.46;	author tg;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	2003.05.13.17.57.53;	author tg;	state Exp;
branches;
next	1.1.1.3;

1.1.1.3
date	2003.05.21.18.56.08;	author tg;	state Exp;
branches;
next	1.1.1.4;

1.1.1.4
date	2003.06.05.17.22.01;	author tg;	state Exp;
branches;
next	1.1.1.5;

1.1.1.5
date	2003.07.18.13.35.16;	author tg;	state Exp;
branches;
next	1.1.1.6;

1.1.1.6
date	2003.07.22.14.46.26;	author tg;	state Exp;
branches;
next	1.1.1.7;

1.1.1.7
date	2004.01.26.18.18.14;	author tg;	state Exp;
branches;
next	1.1.1.8;

1.1.1.8
date	2004.05.16.07.16.39;	author tg;	state Exp;
branches;
next	1.1.1.9;

1.1.1.9
date	2004.06.23.08.34.20;	author tg;	state Exp;
branches;
next	;


desc
@@


1.32
log
@go back from base-upon-ASF-httpd-1.3.33 to 1.3.29 then up via OpenBSD;
unmerge stuff not needed; shuffle stuff around, etc.
add some RCS IDs

builds, serves default pages on odem successfully
@
text
@# $MirBSD: src/include/Makefile,v 1.30 2004/11/30 20:54:11 tg Exp $
# $OpenBSD: Makefile,v 1.126 2004/05/17 22:11:32 drahn Exp $
# $NetBSD: Makefile,v 1.59 1996/05/15 21:36:43 jtc Exp $
# @@(#)Makefile	5.45.1.1 (Berkeley) 5/6/91

# The "rm -rf"s used below are safe because rm doesn't follow symbolic
# links.

.include <bsd.own.mk>

# Missing: mp.h
FILES=	a.out.h ar.h assert.h bitstring.h blf.h bm.h bsd_auth.h cast.h \
	cpio.h ctype.h curses.h db.h dbm.h des.h dirent.h disktab.h \
	dlfcn.h elf_abi.h err.h fnmatch.h fstab.h fts.h ftw.h getopt.h \
	glob.h grp.h ieeefp.h ifaddrs.h inttypes.h iso646.h kvm.h \
	langinfo.h libgen.h limits.h link.h link_aout.h link_elf.h \
	locale.h login_cap.h malloc.h math.h md4.h md5.h memory.h \
	mpool.h ndbm.h netdb.h netgroup.h nl_types.h nlist.h ohash.h \
	olf_abi.h paths.h poll.h pwd.h ranlib.h re_comp.h \
	readpassphrase.h regex.h resolv.h rmd160.h search.h setjmp.h \
	sgtty.h sha1.h sha2.h signal.h skipjack.h stab.h stdbool.h \
	stddef.h stdint.h stdio.h stdlib.h string.h strings.h struct.h \
	sysexits.h tar.h time.h ttyent.h tzfile.h unistd.h utime.h \
	utmp.h vis.h

MFILES=	float.h frame.h
LFILES=	errno.h fcntl.h syslog.h termios.h stdarg.h varargs.h

DIRS=	arpa protocols rpc
LDIRS=	altq crypto ddb dev isofs miscfs net netatalk netinet netinet6 \
	netipx netisdn netnatm nfs ntfs scsi sys ufs uvm

# Directories with an includes target
RDIRS=	../lib/libcdk ../lib/libcompat ../lib/libcurses ../lib/libedit \
	../lib/libevent ../lib/libexpat ../lib/libform ../lib/libkeynote \
	../lib/libmenu ../lib/libocurses ../lib/libossaudio ../lib/libpanel \
	../lib/libpcap ../lib/libpng ../lib/libpthread ../lib/librpcsvc \
	../lib/libsectok ../lib/libskey ../lib/libssl ../lib/libusbhid \
	../lib/libutil ../lib/libwrap ../lib/libz \
	../usr.bin/lex ../gnu/usr.sbin/sendmail \
	../sys/arch/${MACHINE}

# Places using Makefile that needs a prerequisite target met before includes
PRDIRS=	../lib/libcdk

NOOBJ=	yes

# Change SYS_INCLUDE in bsd.own.mk to "symlinks" if you don't want copies

prereq:
	@@for i in ${PRDIRS}; do \
		echo preparing in ${.CURDIR}/$$i; \
		cd ${.CURDIR}/$$i && ${MAKE} prereq; \
	done

includes:
	@@echo installing ${FILES}
	@@for i in ${FILES}; do \
		cmp -s $$i ${DESTDIR}/usr/include/$$i || \
		    ${INSTALL} ${INSTALL_COPY} -m 444 $$i ${DESTDIR}/usr/include/$$i; \
	done
	@@echo installing ${DIRS}
	@@for i in ${DIRS}; do \
		${INSTALL} -d -o ${BINOWN} -g ${BINGRP} -m 755 \
			${DESTDIR}/usr/include/$$i; \
		cd ${.CURDIR}/$$i && for j in *.[ih]; do \
			cmp -s $$j ${DESTDIR}/usr/include/$$i/$$j || \
			${INSTALL} ${INSTALL_COPY} -m 444 $$j ${DESTDIR}/usr/include/$$i/$$j; \
		done; \
	done
	@@rm -rf ${DESTDIR}/usr/include/openssl ${DESTDIR}/usr/include/ssl \
		${DESTDIR}/usr/libdata/perl5/site_perl/${MACHINE_ARCH}-openbsd/ssl \
		${DESTDIR}/usr/libdata/perl5/site_perl/${MACHINE_ARCH}-openbsd/openssl
	@@mkdir ${DESTDIR}/usr/include/openssl
	@@ln -sf openssl ${DESTDIR}/usr/include/ssl
	@@echo installing ${LFILES}
	@@for i in ${LFILES}; do \
		rm -f ${DESTDIR}/usr/include/$$i && \
		ln -s sys/$$i ${DESTDIR}/usr/include/$$i; \
	done
	@@echo installing ${MFILES}
	@@for i in ${MFILES}; do \
		rm -f ${DESTDIR}/usr/include/$$i && \
		ln -s machine/$$i ${DESTDIR}/usr/include/$$i; \
	done
	chown -R ${BINOWN}:${BINGRP} ${DESTDIR}/usr/include
	find ${DESTDIR}/usr/include -type f | \
		xargs chmod a=r
	find ${DESTDIR}/usr/include -type d | \
		xargs chmod u=rwx,go=rx
	@@for i in ${RDIRS}; do \
		echo installing in ${.CURDIR}/$$i; \
		cd ${.CURDIR}/$$i && ${MAKE} includes; \
	done

copies:
	@@echo copies: ${LDIRS}
	@@for i in ${LDIRS}; do \
		rm -rf ${DESTDIR}/usr/include/$$i && \
		${INSTALL} -d -o ${BINOWN} -g ${BINGRP} -m 755 \
			${DESTDIR}/usr/include/$$i ; \
	done
	cd ../sys; \
	pax -rw -pa -L \
	    $$(find ${LDIRS} -follow -type f -name '*.h' \
	    '!' -path 'dev/microcode/*' -print) ${DESTDIR}/usr/include
	cd ${DESTDIR}/usr/include && rm -rf ${MACHINE} ${MACHINE_ARCH} machine
	${INSTALL} -d -o ${BINOWN} -g ${BINGRP} -m 755 \
		${DESTDIR}/usr/include/${MACHINE}
	pax -rw -pa -s "|\.\./sys/arch/${MACHINE}/include||" \
	    ../sys/arch/${MACHINE}/include/*.h \
	    ${DESTDIR}/usr/include/${MACHINE}
	if test ${MACHINE} != ${MACHINE_ARCH} -a \
	    -d ../sys/arch/${MACHINE_ARCH}/include; then \
		${INSTALL} -d -o ${BINOWN} -g ${BINGRP} -m 755 \
    	    	    ${DESTDIR}/usr/include/${MACHINE_ARCH}; \
		pax -rw -pa -s "|\.\./sys/arch/${MACHINE_ARCH}/include||" \
		    ../sys/arch/${MACHINE_ARCH}/include/*.h \
		    ${DESTDIR}/usr/include/${MACHINE_ARCH}; \
	fi
	ln -sf ${MACHINE} ${DESTDIR}/usr/include/machine; \

symlinks:
	@@echo symlinks: ${LDIRS}
	@@for i in ${LDIRS}; do \
		rm -rf ${DESTDIR}/usr/include/$$i && \
		ln -s /sys/$$i ${DESTDIR}/usr/include/$$i; \
	done
	cd ${DESTDIR}/usr/include && rm -rf ${MACHINE} ${MACHINE_ARCH} machine
	ln -s /sys/arch/${MACHINE}/include ${DESTDIR}/usr/include/${MACHINE}
	if test ${MACHINE} != ${MACHINE_ARCH} -a \
	    -d ../sys/arch/${MACHINE_ARCH}/include ; then \
		ln -s /sys/arch/${MACHINE_ARCH}/include \
		    ${DESTDIR}/usr/include/${MACHINE_ARCH} ; \
	fi
	ln -sf ${MACHINE} ${DESTDIR}/usr/include/machine

includes: ${SYS_INCLUDE}

.PHONY: prereq includes copies symlink
.include <bsd.prog.mk>
@


1.31
log
@-YP
@
text
@a45 7
# Directories with an includes target that use Makefile.bsd-wrapper
WDIRS=	../usr.sbin/httpd

# Places using Makefile.bsd-wrapper that needs a prerequisite target met
# before includes
PWDIRS=	../usr.sbin/httpd

a54 4
	@@for i in ${PWDIRS}; do \
		echo preparing in ${.CURDIR}/$$i; \
		cd ${.CURDIR}/$$i && ${MAKE} -f Makefile.bsd-wrapper prereq; \
	done
a93 4
	done
	@@for i in ${WDIRS}; do \
		echo installing in ${.CURDIR}/$$i; \
		cd ${.CURDIR}/$$i && ${MAKE} -f Makefile.bsd-wrapper includes; \
@


1.30
log
@libedit:
* fix editline to behave like manpage states: try $PWD/.editrc
  before looking at $HOME/.editrc
* use $HOME/.etc/editrc instead of $HOME/.editrc
* <sys/cdefs.h>ify headers
* fix building of test
* simplify installation of headers
* beautify Makefile
* nuke dead trees

libreadline:
* remove

libedit:
* install libreadline wrapper headers to /usr/include/readline again
* take over

tested with a make build NOMAN=1^Hyes
@
text
@d1 1
a1 1
# $MirBSD: src/include/Makefile,v 1.29 2004/11/30 17:04:16 tg Exp $
d29 1
a29 1
DIRS=	arpa protocols rpc rpcsvc
@


1.29
log
@NOOBJ=.*$ -> NOOBJ=yes
@
text
@d1 1
a1 1
# $MirBSD: src/include/Makefile,v 1.28 2004/11/15 16:23:24 tg Exp $
d40 1
a40 1
	../usr.bin/lex ../gnu/lib/libreadline ../gnu/usr.sbin/sendmail \
@


1.28
log
@should work now, I'm through with a full snapshot
fix #if/#elif syntax, cc -> ${CC}, /usr/sbin/chmod -> /sbin/chmod,
add libexpat to make includes, sync for now
@
text
@d1 1
a1 1
# $MirBSD: src/include/Makefile,v 1.27 2004/11/14 16:14:30 tg Exp $
d53 1
a53 1
NOOBJ=	noobj
@


1.27
log
@librx is gone
@
text
@d1 1
a1 1
# $MirBSD: src/include/Makefile,v 1.26 2004/09/29 15:56:30 tg Exp $
d34 6
a39 6
RDIRS=	../lib/libpthread ../lib/libcdk ../lib/libcompat ../lib/libcurses \
	../lib/libform ../lib/libssl ../lib/libmenu ../lib/libpng \
	../lib/libocurses ../lib/libossaudio ../lib/libpanel ../lib/librpcsvc \
	../lib/libskey ../lib/libsectok ../lib/libedit ../lib/libpcap \
	../lib/libutil ../lib/libusbhid ../lib/libwrap ../lib/libz \
	../lib/libkeynote ../lib/libevent \
@


1.26
log
@prereq + includes for libcdk
reminded by sap@@, thanks
@
text
@d1 1
a1 1
# $MirBSD: src/include/Makefile,v 1.25 2004/08/12 11:28:39 tg Stab $
d39 1
a39 1
	../lib/libkeynote ../lib/libevent ../gnu/lib/librx \
@


1.25
log
@no objc or c++ in tree
@
text
@d1 1
a1 1
# $MirBSD: src/include/Makefile,v 1.24 2004/08/11 23:22:39 tg Exp $
d34 1
a34 1
RDIRS=	../lib/libpthread ../lib/libcompat ../lib/libcurses \
d44 1
a44 1
PRDIRS=
@


1.24
log
@binutils (bfd) includes are now installed together with the library
@
text
@d1 1
a1 1
# $MirBSD: src/include/Makefile,v 1.23 2004/06/23 16:58:40 tg Exp $
a47 8
.if ${HAS_GCC3:L} == "yes"
.  if ${NO_GOBJC:L} == "no"
WDIRS+=	../gnu/gcc/libobjc
.  endif
.  if ${NO_CXX:L} == "no"
WDIRS+=	../gnu/gcc/libstdc++-v3
.  endif
.endif
a51 8
.if ${HAS_GCC3:L} == "yes"
.  if ${NO_GOBJC:L} == "no"
PWDIRS+= ../gnu/gcc/libobjc
.  endif
.  if ${NO_CXX:L} == "no"
PWDIRS+= ../gnu/gcc/libstdc++-v3
.  endif
.endif
@


1.23
log
@* lalala, ABI change...
  change the calling convention for the mjd2tm and tm2mjd functions,
  to be
  - similar between themselfes
  - equal between kernel and userland
  - not using malloc
* add TAI stuff to the kernel, including leap seconds(!) :)
  -> we can soon(TM) set the RTC to UTC, even when
     having the kernel on dru^H^H^HLS^H^HTAI
* some Makefile adjustments for
  - new library stuff
  - bsd.cfwrap.mk
  - simplifications
* start fixing the build (still static, tho I didn't intend that...)
* add missing shlib version for libsupc++
@
text
@d1 1
a1 1
# $MirBSD: src/include/Makefile,v 1.22 2004/06/23 08:41:04 tg Exp $
d47 1
a47 1
WDIRS=	../usr.sbin/httpd ../gnu/usr.bin/binutils
d59 1
a59 1
PWDIRS=	../usr.sbin/httpd ../gnu/usr.bin/binutils
@


1.22
log
@merge
@
text
@d1 1
a1 1
# $MirBSD: src/include/Makefile,v 1.21 2004/06/14 00:25:47 tg Exp $
d49 6
a54 1
WDIRS+=	../gnu/gcc/libobjc ../gnu/gcc/libstdc++-v3
d61 6
a66 1
PWDIRS+=../gnu/gcc/libobjc ../gnu/gcc/libstdc++-v3
@


1.21
log
@First (probably not working[1]) attempt at modernizing the framework:
* MANZ, MANPS, NOPROFILE die (always set to false, false, true)
* Fortran generating code for <bsd.prog.mk> dies (pascal to follow)
* GLOBAL_AUTOCONF_CACHE dies (birth of <bsd.gnuwrap.mk> to follow...)
* sanitize my head and rewrite certain pieces of certain Makefiles
* move most mk.conf functionality out of there, so a system
  without mk.conf works really well(TM)
* attempt at synching docs with reality

[1] First update *.mk, then remove old mk.conf and mk.conf.local,
    then install new mk.conf and adapt it to suit your needs.

Why don't the OpenBSD people modernize parts of this? The indenting
is really really bad in places, and MANSUBDIR was... well. I have
done it with 1/3 of the code now, and it works. Even better.

There will definitively follow more ;-)
@
text
@d1 2
a2 2
# $MirBSD: src/include/Makefile,v 1.20 2004/05/22 00:26:07 tg Exp $
# $OpenBSD: Makefile,v 1.125 2004/03/08 23:31:51 drahn Exp $
@


1.20
log
@* don't do GCC3 includes if not HAS_GCC3
* sort FILES
@
text
@d1 1
a1 1
# $MirBSD: src/include/Makefile,v 1.19 2004/05/21 21:20:10 tg Exp $
a61 1
SYS_INCLUDE?=	copies
@


1.19
log
@merge includes; instead of using openbsd new md5.h just make mine
more compatible and add their new declarations
@
text
@d1 1
a1 1
# $MirBSD: src/include/Makefile,v 1.18 2004/05/07 01:39:29 tg Exp $
d15 5
a19 4
	glob.h grp.h ifaddrs.h inttypes.h iso646.h kvm.h langinfo.h \
	libgen.h limits.h locale.h login_cap.h malloc.h math.h md4.h \
	md5.h memory.h mpool.h ndbm.h netdb.h netgroup.h nlist.h nl_types.h \
	ohash.h olf_abi.h paths.h poll.h pwd.h ranlib.h re_comp.h \
d21 4
a24 3
	sgtty.h sha1.h sha2.h skipjack.h signal.h stab.h stdbool.h stddef.h \
	stdint.h stdio.h stdlib.h string.h strings.h struct.h sysexits.h \
	tar.h time.h ttyent.h tzfile.h unistd.h utime.h utmp.h vis.h
d26 1
a26 3
FILES+=	link.h link_aout.h link_elf.h ieeefp.h

MFILES=	float.h frame.h 
d47 4
a50 2
WDIRS=	../usr.sbin/httpd ../gnu/usr.bin/binutils ../gnu/gcc/libobjc \
	../gnu/gcc/libstdc++-v3
d54 4
a57 2
PWDIRS=	../usr.sbin/httpd ../gnu/usr.bin/binutils ../gnu/gcc/libobjc \
	../gnu/gcc/libstdc++-v3
@


1.18
log
@* write a <stdint.h> header in order to be more C99 compliant
  (not tested against C99 or in compilation yet)
  prodded by Bastian Blank
* while here, unify definition of NULL to ((void *)((_BSD_PTRDIFF_T_)0UL))
  whenever _BSD_PTRDIFF_T_ is available, as done in <sys/param.h> long ago
* while here, add RCS IDs and fix whitespace at end of line
@
text
@d1 2
a2 2
# $MirBSD: src/include/Makefile,v 1.17 2004/03/21 16:07:29 tg Exp $
# $OpenBSD: Makefile,v 1.123 2004/01/23 18:21:13 espie Exp $
@


1.17
log
@-vax
-netns
-netiso
-netccitt
+ntfs
@
text
@d1 1
a1 1
# $MirBSD: Makefile,v 1.16 2004/03/07 21:40:56 tg Exp $
d21 2
a22 2
	stdio.h stdlib.h string.h strings.h struct.h sysexits.h tar.h \
	time.h ttyent.h tzfile.h unistd.h utime.h utmp.h vis.h
@


1.16
log
@un-junk libpng and MirOSify
@
text
@d1 1
a1 1
# $MirBSD: Makefile,v 1.15 2004/03/02 09:50:11 tg Exp $
d24 1
a24 5
FILES+=	link.h link_aout.h link_elf.h

.if (${MACHINE_ARCH} != "vax")
FILES+= ieeefp.h
.endif
d30 2
a31 2
LDIRS=	altq crypto ddb dev isofs miscfs net netatalk netccitt netinet \
	netinet6 netipx netisdn netiso netnatm netns nfs scsi sys ufs uvm xfs
@


1.15
log
@fix path to libobjc, and also add libstdc++ to the prereq/includes system
fix weird GNU dependencies, while here
@
text
@d1 1
a1 1
# $MirBSD: Makefile,v 1.14 2004/03/02 09:18:43 tg Exp $
d39 1
a39 1
	../lib/libform ../lib/libssl ../lib/libmenu \
@


1.14
log
@welcome to the wonderful world of peace in MirOS,
Objective C and associated libraries/includes

thank you for being so nice to use standardized
make prereq / make includes mechanism

[x] test programme (hello world) runs
@
text
@d1 1
a1 1
# $MirBSD: Makefile,v 1.13 2004/01/27 17:41:48 tg Exp $
d51 2
a52 1
WDIRS=	../usr.sbin/httpd ../gnu/usr.bin/binutils ../gnu/lib/libobjc
d56 2
a57 1
PWDIRS=	../usr.sbin/httpd ../gnu/usr.bin/binutils ../gnu/lib/libobjc
@


1.13
log
@first part of mergeing OpenBSD and fixing whitespace and RCS IDs
@
text
@d1 4
a4 5
#	$MirBSD: Makefile,v 1.12 2004/01/11 16:41:34 tg Exp $
#	$OpenBSD: Makefile,v 1.123 2004/01/23 18:21:13 espie Exp $
#	$NetBSD: Makefile,v 1.59 1996/05/15 21:36:43 jtc Exp $

#	@@(#)Makefile	5.45.1.1 (Berkeley) 5/6/91
d51 1
a51 1
WDIRS=	../usr.sbin/httpd ../gnu/usr.bin/binutils
d55 1
a55 1
PWDIRS=	../usr.sbin/httpd ../gnu/usr.bin/binutils
@


1.12
log
@add librx
@
text
@d1 2
a2 2
#	$MirBSD: Makefile,v 1.11 2003/12/21 15:30:44 tg Exp $
#	$OpenBSD: Makefile,v 1.121 2003/07/21 21:13:18 millert Exp $
d10 2
a12 1

d31 2
a32 2
MFILES=	float.h frame.h stdarg.h varargs.h
LFILES=	errno.h fcntl.h syslog.h termios.h
d60 1
a60 2
# Change SYS_INCLUDE in mk.conf to "symlinks" if you don't want copies
.include <bsd.own.mk>
@


1.11
log
@wbx@@ wants sendmail libmilter includes installed
@
text
@d1 1
a1 1
#	$MirBSD: Makefile,v 1.10 2003/07/22 16:06:30 tg Exp $
d43 1
a43 1
	../lib/libkeynote ../lib/libevent \
@


1.10
log
@sync
@
text
@d1 1
a1 1
#	$MirBSD: Makefile,v 1.9 2003/07/18 19:19:22 tg Exp $
d44 1
a44 1
	../usr.bin/lex ../gnu/lib/libreadline \
@


1.9
log
@die, die, die!
@
text
@d1 2
a2 2
#	$MirBSD: Makefile,v 1.8 2003/06/06 18:27:36 tg Exp $
#	$OpenBSD: Makefile,v 1.118 2003/06/02 08:45:58 markus Exp $
d14 9
a22 9
	dlfcn.h elf_abi.h err.h fnmatch.h fstab.h fts.h getopt.h glob.h grp.h \
	ifaddrs.h inttypes.h iso646.h kvm.h langinfo.h libgen.h limits.h \
	locale.h login_cap.h malloc.h math.h md4.h md5.h memory.h mpool.h \
	ndbm.h netdb.h netgroup.h nlist.h nl_types.h ohash.h olf_abi.h \
	paths.h poll.h pwd.h ranlib.h re_comp.h readpassphrase.h regex.h \
	resolv.h rmd160.h search.h setjmp.h sgtty.h sha1.h sha2.h skipjack.h \
	signal.h stab.h stdbool.h stddef.h stdio.h stdlib.h string.h \
	strings.h struct.h sysexits.h tar.h time.h ttyent.h tzfile.h \
	unistd.h utime.h utmp.h vis.h
d51 1
a51 1
WDIRS=	../usr.sbin/httpd ../gnu/egcs/gcc ../gnu/usr.bin/binutils
@


1.8
log
@Merge OpenBSD-current
@
text
@d1 1
a1 1
#	$MirBSD: Makefile,v 1.7 2003/05/22 14:07:08 tg Exp $
d38 1
a38 1
RDIRS=	../lib/libpthread ../lib/libcom_err ../lib/libcompat ../lib/libcurses \
@


1.7
log
@merge CVS import stuff
@
text
@d1 2
a2 2
#	$MirBSD: Makefile,v 1.6 2003/05/13 18:21:21 tg Exp $
#	$OpenBSD: Makefile,v 1.117 2003/05/14 08:01:02 mho Exp $
d88 5
a92 2
	@@rm -f ${DESTDIR}/usr/include/openssl
	@@ln -sf ssl ${DESTDIR}/usr/include/openssl
@


1.6
log
@merge -current includes and devices
@
text
@d1 2
a2 2
#	$MirBSD: Makefile,v 1.5 2003/04/06 15:10:59 tg Exp $
#	$OpenBSD: Makefile,v 1.116 2003/05/09 02:17:18 millert Exp $
d59 1
a59 1
# Change SYS_INCLUDE in bsd.own.mk to "symlinks" if you don't want copies
@


1.5
log
@whoops... i4b is long gone, netisdn appeared.
@
text
@d1 2
a2 2
#	$MirBSD: Makefile,v 1.4 2003/03/30 00:28:09 tg Exp $
#	$OpenBSD: Makefile,v 1.115 2003/01/20 18:12:52 marc Exp $
d19 1
a19 1
	resolv.h rmd160.h search.h setjmp.h sgtty.h sha1.h skipjack.h \
@


1.4
log
@finally unbreak the tree

weird issue: Mar 30 00:23:40 n1 /bsd: ldso 2000 base failed trying a6000
not solved yet: distrib/sets/lists/
@
text
@d1 1
a1 1
#	$MirBSD: Makefile,v 1.3 2003/03/29 22:47:21 tg Exp $
d34 2
a35 2
LDIRS=	altq crypto ddb dev i4b isofs miscfs net netatalk netccitt netinet \
	netinet6 netipx netiso netnatm netns nfs scsi sys ufs uvm xfs
@


1.3
log
@no Fortran, Objective C and C++-v2 any more
@
text
@d1 1
a1 1
#	$MirBSD: Makefile,v 1.2 2003/03/25 21:51:59 tg Exp $
d7 1
a7 1
# The ``rm -rf''s used below are safe because rm doesn't follow symbolic
d34 2
a35 2
LDIRS=	crypto ddb dev isofs miscfs net netatalk netccitt netinet altq \
	netinet6 netipx netiso netnatm netns nfs scsi sys ufs uvm xfs i4b
a52 2
#../gnu/egcs/libio ../gnu/egcs/libstdc++

d123 2
a124 2
	    `find ${LDIRS} -follow -type f -name '*.h' \
	    '!' -path 'dev/microcode/*' -print` ${DESTDIR}/usr/include
@


1.2
log
@Import ISDN (i4b) into MirBSD
Done:
 - kernel support
 - (commented out) entries in GENERIC
 - MAKEDEV file with licence issues
 - isdnd

Not done:
 - testing
 - configuration files

Not planned:
 - more stuff from i4b (voicemail, fax, etc)
@
text
@d1 1
a1 1
#	$MirBSD$
d39 1
a39 1
	../lib/libcurses++ ../lib/libform ../lib/libssl ../lib/libmenu \
d51 3
a53 3
WDIRS=	../usr.sbin/httpd ../gnu/egcs/libio ../gnu/egcs/libstdc++ \
	../gnu/egcs/libf2c ../gnu/egcs/libobjc ../gnu/egcs/gcc \
	../gnu/usr.bin/binutils
d57 1
a57 1
PWDIRS=	../usr.sbin/httpd ../gnu/egcs/libf2c ../gnu/usr.bin/binutils
a63 7
.if ${KERBEROS:L} == "yes"
RDIRS+=	../kerberosIV/lib
PRDIRS+=../kerberosIV/lib/kadm ../kerberosIV/lib/krb
.endif
.if ${KERBEROS5:L} == "yes"
RDIRS+=	../kerberosV/lib
.endif
@


1.1
log
@Initial revision
@
text
@d1 1
d35 1
a35 1
	netinet6 netipx netiso netnatm netns nfs scsi sys ufs uvm xfs
@


1.1.1.1
log
@Import OpenBSD 3.3 source repository from CTM 3132 the first time
This opens an OpenBSD-mirabile (aka MirBSD) repository.

### MirBSD is:
# Copyright (c) 1982-2003 by Thorsten "mirabile" Glaser <x86@@ePost.de>
# Copyright © 1968-2003  The authors of And contributors to UNIX®, the
#       C Language, BSD/Berkeley Unix; 386BSD, NetBSD 1.1 and OpenBSD.
#
# Anyone who obtained a copy of this work is hereby permitted to freely use,
# distribute, modify, merge, sublicence, give away or sell it as long as the
# authors are given due credit and the following notice is retained:
#
# This work is provided "as is", with no explicit or implicit warranty what-
# soever. Use it only at your own risk. In no event may an author or contri-
# butor be held liable for any damage, directly or indirectly, that origina-
# ted through or is caused by creation or modification of this work.

MirBSD is my private tree. MirBSD does not differ very much from OpenBSD
and intentionally tracks OpenBSD. That's why it _is_ OpenBSD, just not the
official one. It's like with DarrenBSD.

At time of this writing, no advertising for MirBSD must be done,
because the advertising clause has not yet been sorted out.

http://templeofhate.com/tglaser/MirBSD/index.php
@
text
@@


1.1.1.2
log
@sync includes and devices to -current
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.116 2003/05/09 02:17:18 millert Exp $
d18 1
a18 1
	resolv.h rmd160.h search.h setjmp.h sgtty.h sha1.h sha2.h skipjack.h \
@


1.1.1.3
log
@Sync MirBSD main source tree against OpenBSD-current,
which should be fairly stable after the Hackathon now.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.117 2003/05/14 08:01:02 mho Exp $
d63 4
@


1.1.1.4
log
@Import latest OpenBSD CVS tree by CTM in order
to sync the base system and ports tree with Them.

This includes the recent licence changes as well - by
importing the changed base and re-applying the diffs
(with cvs up -j -j) they are inherited, and we're not
bound to the removed clauses any longer.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.118 2003/06/02 08:45:58 markus Exp $
d92 2
a93 5
	@@rm -rf ${DESTDIR}/usr/include/openssl ${DESTDIR}/usr/include/ssl \
		${DESTDIR}/usr/libdata/perl5/site_perl/${MACHINE_ARCH}-openbsd/ssl \
		${DESTDIR}/usr/libdata/perl5/site_perl/${MACHINE_ARCH}-openbsd/openssl
	@@mkdir ${DESTDIR}/usr/include/openssl
	@@ln -sf openssl ${DESTDIR}/usr/include/ssl
@


1.1.1.5
log
@Synchronize source tree with OpenBSD
note: due to recent changes in the codebase of OpenBSD,
out libcom_err will be incompatible with theirs...
but this is no issue because we don't provide a dynamically
linked one, and theirs won't be provided longer any more anyways.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.120 2003/07/15 19:18:00 deraadt Exp $
d37 1
a37 1
RDIRS=	../lib/libpthread ../lib/libcompat ../lib/libcurses \
d64 1
a64 1
RDIRS+= ../lib/libkrb5 ../lib/libgssapi ../lib/libkadm5srv
@


1.1.1.6
log
@Sync to OpenBSD 3.3-current
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.121 2003/07/21 21:13:18 millert Exp $
d13 9
a21 9
	dlfcn.h elf_abi.h err.h fnmatch.h fstab.h fts.h ftw.h getopt.h \
	glob.h grp.h ifaddrs.h inttypes.h iso646.h kvm.h langinfo.h \
	libgen.h limits.h locale.h login_cap.h malloc.h math.h md4.h \
	md5.h memory.h mpool.h ndbm.h netdb.h netgroup.h nlist.h nl_types.h \
	ohash.h olf_abi.h paths.h poll.h pwd.h ranlib.h re_comp.h \
	readpassphrase.h regex.h resolv.h rmd160.h search.h setjmp.h \
	sgtty.h sha1.h sha2.h skipjack.h signal.h stab.h stdbool.h stddef.h \
	stdio.h stdlib.h string.h strings.h struct.h sysexits.h tar.h \
	time.h ttyent.h tzfile.h unistd.h utime.h utmp.h vis.h
@


1.1.1.7
log
@Import OpenBSD as of today again (seems pretty stable, I hope)

Prominent changes: more bgpd, tcpmd5; tcpdump/isakmpd fixes
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.123 2004/01/23 18:21:13 espie Exp $
d9 1
a10 4
.include <bsd.own.mk>
USE_GCC3?=No

# Missing: mp.h
d29 2
a30 2
MFILES=	float.h frame.h 
LFILES=	errno.h fcntl.h syslog.h termios.h stdarg.h varargs.h
d50 3
a52 1
WDIRS=	../usr.sbin/httpd ../gnu/usr.bin/binutils
d56 1
a56 10
PWDIRS=	../usr.sbin/httpd ../gnu/usr.bin/binutils

.if ${USE_GCC3:L} == "yes"
WDIRS+= ../gnu/lib/libstdc++ ../gnu/usr.bin/gcc ../gnu/lib/libobjc
PWDIRS+= ../gnu/lib/libstdc++
.else
WDIRS+= ../gnu/egcs/libio ../gnu/egcs/libstdc++ \
	../gnu/egcs/libf2c ../gnu/egcs/libobjc ../gnu/egcs/gcc
PWDIRS+= ../gnu/egcs/libf2c
.endif
d61 1
@


1.1.1.8
log
@large-scale import of OpenBSD 3.5-current source base including many fixes
note: from now, we will not be binary compatible with OpenBSD apps any
longer (due to syscall numbering differences); both an OpenBSD compat and
a conversion tool for old MirOS #7 apps will be delivered later.

The src/ tree is locked from now.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.125 2004/03/08 23:31:51 drahn Exp $
d53 1
a53 4
WDIRS=	../usr.sbin/httpd
.if ${MACHINE_ARCH} != "arm"
WDIRS+=	../gnu/usr.bin/binutils
.endif
d57 1
a57 4
PWDIRS=	../usr.sbin/httpd
.if ${MACHINE_ARCH} != "arm"
PWDIRS+=	../gnu/usr.bin/binutils
.endif
d60 2
a61 3
WDIRS+= ../gnu/lib/libstdc++ ../gnu/usr.bin/gcc ../gnu/lib/libobjc \
	../gnu/lib/libf2c
PWDIRS+= ../gnu/lib/libstdc++ ../gnu/lib/libf2c
@


1.1.1.9
log
@We need more current includes for this to work, too.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.126 2004/05/17 22:11:32 drahn Exp $
d53 4
a56 1
WDIRS=	../usr.sbin/httpd ../gnu/usr.bin/binutils
d60 4
a63 1
PWDIRS=	../usr.sbin/httpd ../gnu/usr.bin/binutils
@


