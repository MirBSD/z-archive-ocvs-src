head	1.27;
access;
symbols
	tg-mergetmp-mirosx-1:1.27
	tg-mergefixes-1-branch:1.27.0.4
	tg-mergefixes-1-base:1.27
	MIROS_X:1.27.0.2
	MIROS_X_BASE:1.27
	tg-mergetmp-3:1.27
	MIRBSD_XP_MIRPPC:1.23.0.4
	MIRBSD_XP_SPARC_BASE:1.23
	MIRBSD_XP_SPARC:1.23.0.2
	MIRBSD_7quater:1.13
	cvs-200405160640:1.1.1.13
	cvs-200401271800:1.1.1.12
	cvs-200401261630:1.1.1.12
	cvs-200401021645:1.1.1.11
	MIRBSD_7_ALPHA:1.13.0.6
	MIRBSD_7:1.13.0.4
	cvs-200312222040:1.1.1.10
	MIRBSD_7ter:1.13
	MIRBSD_7_DEV:1.13.0.2
	cvs-200310020700:1.1.1.9
	cvs-200309271030:1.1.1.8
	cvs-200309261655:1.1.1.8
	cvs-200309251530:1.1.1.7
	cvs-200308302005:1.1.1.7
	cvs-200308171200:1.1.1.6
	ctm-3496:1.1.1.5
	ctm-3449:1.1.1.5
	ctm-3437:1.1.1.4
	cvs-200307191805:1.1.1.4
	ctm-3425:1.1.1.4
	cvs-200307091500:1.1.1.4
	cvs-200307072125:1.1.1.4
	ctm-3389:1.1.1.4
	cvs-200307021520:1.1.1.4
	cvs-200306291430:1.1.1.4
	ctm-3341:1.1.1.4
	MIRBSD_5:1.6
	cvs-200306082100:1.1.1.4
	ctm-3316:1.1.1.4
	ctm-3272:1.1.1.4
	ctm-3264:1.1.1.3
	cvs-200305071630:1.1.1.3
	ctm-3255:1.1.1.3
	ctm-3229:1.1.1.2
	MIRBSD_4:1.4
	ctm-3203:1.1.1.2
	cvs-20030410-1130:1.1.1.2
	ctm-3155:1.1.1.1
	ctm-3132:1.1.1.1
	openbsd:1.1.1;
locks; strict;
comment	@# @;


1.27
date	2004.12.04.21.55.21;	author tg;	state Exp;
branches;
next	1.26;

1.26
date	2004.11.14.13.50.37;	author tg;	state Exp;
branches;
next	1.25;

1.25
date	2004.11.14.01.06.45;	author tg;	state Exp;
branches;
next	1.24;

1.24
date	2004.11.13.22.17.33;	author tg;	state Exp;
branches;
next	1.23;

1.23
date	2004.06.13.18.58.32;	author tg;	state Stab;
branches;
next	1.22;

1.22
date	2004.05.27.19.10.46;	author tg;	state Exp;
branches;
next	1.21;

1.21
date	2004.05.23.20.16.15;	author tg;	state Exp;
branches;
next	1.20;

1.20
date	2004.03.21.15.13.32;	author tg;	state Exp;
branches;
next	1.19;

1.19
date	2004.03.14.18.32.45;	author tg;	state Exp;
branches;
next	1.18;

1.18
date	2004.03.14.18.23.26;	author tg;	state Exp;
branches;
next	1.17;

1.17
date	2004.01.27.17.42.26;	author tg;	state Exp;
branches;
next	1.16;

1.16
date	2004.01.03.02.31.25;	author tg;	state Exp;
branches;
next	1.15;

1.15
date	2003.12.25.20.52.57;	author tg;	state Exp;
branches;
next	1.14;

1.14
date	2003.11.17.18.55.06;	author tg;	state Exp;
branches;
next	1.13;

1.13
date	2003.10.03.15.20.44;	author tg;	state Exp;
branches
	1.13.2.1;
next	1.12;

1.12
date	2003.10.02.14.52.38;	author tg;	state Exp;
branches;
next	1.11;

1.11
date	2003.09.27.15.46.53;	author tg;	state Exp;
branches;
next	1.10;

1.10
date	2003.09.02.18.24.37;	author tg;	state Exp;
branches;
next	1.9;

1.9
date	2003.08.31.20.54.52;	author tg;	state Exp;
branches;
next	1.8;

1.8
date	2003.08.17.18.28.24;	author tg;	state Exp;
branches;
next	1.7;

1.7
date	2003.07.26.16.08.11;	author tg;	state Exp;
branches;
next	1.6;

1.6
date	2003.05.22.14.08.28;	author tg;	state Exp;
branches;
next	1.5;

1.5
date	2003.05.05.19.20.30;	author tg;	state Exp;
branches;
next	1.4;

1.4
date	2003.04.15.18.57.42;	author tg;	state Exp;
branches;
next	1.3;

1.3
date	2003.04.10.20.12.11;	author tg;	state Exp;
branches;
next	1.2;

1.2
date	2003.04.06.04.37.24;	author tg;	state Exp;
branches;
next	1.1;

1.1
date	2003.03.22.17.50.46;	author tg;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2003.03.22.17.50.46;	author tg;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	2003.04.10.14.49.47;	author tg;	state Exp;
branches;
next	1.1.1.3;

1.1.1.3
date	2003.05.05.18.54.55;	author tg;	state Exp;
branches;
next	1.1.1.4;

1.1.1.4
date	2003.05.21.19.07.48;	author tg;	state Exp;
branches;
next	1.1.1.5;

1.1.1.5
date	2003.07.26.13.19.17;	author tg;	state Exp;
branches;
next	1.1.1.6;

1.1.1.6
date	2003.08.17.14.35.03;	author tg;	state Exp;
branches;
next	1.1.1.7;

1.1.1.7
date	2003.08.30.23.18.59;	author tg;	state Exp;
branches;
next	1.1.1.8;

1.1.1.8
date	2003.09.26.17.07.46;	author tg;	state Exp;
branches;
next	1.1.1.9;

1.1.1.9
date	2003.10.02.07.40.33;	author tg;	state Exp;
branches;
next	1.1.1.10;

1.1.1.10
date	2003.12.22.21.01.21;	author tg;	state Exp;
branches;
next	1.1.1.11;

1.1.1.11
date	2004.01.02.17.51.13;	author tg;	state Exp;
branches;
next	1.1.1.12;

1.1.1.12
date	2004.01.26.18.46.25;	author tg;	state Exp;
branches;
next	1.1.1.13;

1.1.1.13
date	2004.05.16.08.54.34;	author tg;	state Exp;
branches;
next	1.1.1.14;

1.1.1.14
date	2004.11.13.22.10.07;	author tg;	state Exp;
branches;
next	1.1.1.15;

1.1.1.15
date	2004.11.13.22.14.43;	author tg;	state Exp;
branches;
next	1.1.1.16;

1.1.1.16
date	2004.12.04.21.30.01;	author tg;	state Exp;
branches;
next	;

1.13.2.1
date	2003.11.30.22.42.52;	author wbx;	state Exp;
branches;
next	;


desc
@@


1.27
log
@merge kernel PPPoE, experimental
@
text
@# $MirBSD: src/sys/conf/files,v 1.26 2004/11/14 13:50:37 tg Exp $
# $NetBSD: files,v 1.634 2003/09/25 15:58:14 pooka Exp $
# $OpenBSD: files,v 1.321 2004/11/28 23:39:45 canacar Exp $
# $NetBSD: files,v 1.87 1996/05/19 17:17:50 jonathan Exp $
# @@(#)files.newconf	7.5 (Berkeley) 5/10/93

# generic attributes
define	disk
define	tape
define	ifnet
define	tty
define	audio {}
define	scsi {}
define	ifmedia
define	mii {[phy = -1]}
define	midibus { }
define	midisyn
define	radiobus {}

# audio device attributes
define	mulaw
define	auconv

# radio device attributes
define tea5757
define lm700x
define tc921x
define pt2254a

# audio and midi devices, attaches to audio hardware driver
device	audio
attach	audio at audio
device	midi
attach	midi at midibus

# raster operations attributes
define	rasops1
define	rasops2
define	rasops4
define	rasops8
define	rasops15
define	rasops16
define	rasops24
define	rasops32

# net device attributes - we have generic code for arc(net), ether(net),
# and fddi.
define	arc
define	atm
define	crypto
define	systrace
define	ether
define	fddi
define	ieee1394
define	sppp
define	token
define	wlan

# "Chipset" attributes.  These are the machine-independent portions
# of device drivers.
define	ncr5380sbc	# NCR 5380 SCSI Bus Controller
define	ncr53c7xx	# NCR 53c7xx SCSI Bus Controller
define	pdq		# DEC FDDI chipset
define	dp8390nic	# 8390-family Ethernet controllers
define	rtl80x9		# RealTek 8019/8029 NE2000-compatible
define	dl10019		# DL10019/10022-family Ethernet controllers
define	ax88190		# AX88190-family Ethernet controllers

# a wscons output device; used later, but needs to be near the top for
# common file (e.g. vga) definitions.
define	wsdisplaydev {}
define	wsemuldisplaydev {[console = -1]}
define	wskbddev {[console = -1], [mux = -1]}
define	wsmousedev {[mux = -1]}
define	wsrasteremulops

# SMC 93Cx6 Serial EEPROM devices
define	smc93cx6
file	dev/ic/smc93cx6.c		smc93cx6

# common PC display functions
define	pcdisplayops
file	dev/ic/pcdisplay_subr.c		pcdisplayops
file	dev/ic/pcdisplay_chars.c	pcdisplayops

# Mostek time-of-day clock and NVRAM
define	mk48txx
file	dev/ic/mk48txx.c		mk48txx

# VGA graphics
device	vga: wsemuldisplaydev, pcdisplayops
file	dev/ic/vga.c		vga & (vga_pci | vga_isa)	needs-flag
file	dev/ic/vga_subr.c	vga & (vga_pci | vga_isa)	needs-flag

# Attribute for devices that read/write an IEEE 802.3u MII bus using the
# bit-bang method.
define	mii_bitbang
file	dev/mii/mii_bitbang.c	mii_bitbang

define	wdc_base
define	ata {[channel = -1], [drive = -1]}
define	atapi {[channel = -1]}
# Common code for ESDI/IDE/etc. controllers
device	wdc: ata, atapi, wdc_base
file	dev/ic/wdc.c wdc_base

# "Chipset" drivers.  These are the bus-independent routines which
# contain the cfdrivers.  Attachments are provided by files.<bus>

# Adaptec 2[789]4X, 394X, aic7770 and aic78[5678]0 SCSI controllers
device	ahc: scsi, smc93cx6
file	dev/ic/aic7xxx.c		ahc
file	dev/ic/aic7xxx_openbsd.c	ahc
file	dev/ic/aic7xxx_seeprom.c	ahc

# Adaptec AIC-6[23]60 SCSI controllers
device	aic: scsi
file	dev/ic/aic6360.c	aic & (aic_isa | aic_pcmcia | aic_isapnp)

# DPT EATA SCSI controllers
device	dpt: scsi
file	dev/ic/dpt.c		dpt

# AdvanSys 1200A, 1200B and ULTRA SCSI controllers
device	adv: scsi
file	dev/ic/adv.c		adv

# AdvanSys ULTRA WIDE SCSI controllers
device	adw: scsi
file	dev/ic/adw.c		adw

# BusLogic MultiMaster and MultiMaster Ultra SCSI controllers
device	bha: scsi
file	dev/ic/bha.c		bha & (bha_pci | bha_isa | bha_eisa) needs-flag

# ICP Vortex GDT RAID controllers
device	gdt: scsi
file	dev/ic/gdt_common.c	gdt

# 3ware Escalade RAID controllers
device	twe: scsi
file	dev/ic/twe.c		twe

# LSI64854 DMA controller back-end
define	lsi64854
file	dev/ic/lsi64854.c	lsi64854

# Compaq Smart ARRAY controllers
device	cac: scsi
file	dev/ic/cac.c		cac

# AMI MegaRAID controllers
device	ami: scsi
file	dev/ic/ami.c		ami

# Qlogic ISP 10x0 SCSI Controllers
device	isp: scsi
file	dev/ic/isp.c			isp
file	dev/ic/isp_openbsd.c		isp

# LSILogic Fusion-MPT I/O Processor SCSI/FC Controllers
#
device  mpt: scsi
file    dev/ic/mpt.c			mpt
file    dev/ic/mpt_debug.c		mpt
file    dev/ic/mpt_openbsd.c		mpt

# UltraStor SCSI controllers
device	uha: scsi
file	dev/ic/uha.c		uha

# NCR 53c9x or Emulex ESP SCSI Controller
define	ncr53c9x
device	esp: scsi, ncr53c9x
file	dev/ic/ncr53c9x.c	ncr53c9x

# common stuff for siop and esiop
define	siop_common
file	dev/ic/siop_common.c		siop_common

# Symbios/NCR 53c720/53c8xx SCSI controllers
device	siop: scsi,siop_common
file	dev/ic/siop.c			siop

# Symbios/NCR 53c710 SCSI controllers
device	osiop: scsi
file	dev/ic/osiop.c			osiop & (osiop_gsc | osiop_eisa | osiop_pcctwo)

# Symbios/NCR 53c700 SCSI controllers
device	oosiop: scsi
file	dev/ic/oosiop.c			oosiop & (oosiop_gsc)

# 3Com Etherlink-III Ethernet controller
device	ep: ether, ifnet, ifmedia, mii
file	dev/ic/elink3.c		ep

# LEMAC-based cards
device	lc: ether, ifnet, ifmedia
file	dev/ic/lemac.c		lc

# WaveLan
device	wi: ether, ifnet, ifmedia
file	dev/ic/if_wi.c		wi
file	dev/ic/if_wi_hostap.c	wi

# Aironet 802.11 DS Ethernet controller
device	an: ether, ifnet, ifmedia
file	dev/ic/an.c		an

# RangeLAN2
device	rln: ether, ifnet
file	dev/ic/rln.c		rln
file	dev/ic/rlnsubr.c	rln

# LANCE and PCnet Ethernet controllers
device	le: ether, ifnet, ifmedia
file	dev/ic/am7990.c		le

# 3Com 3c9xx
device	xl: ether, ifnet, ifmedia, mii
file	dev/ic/xl.c		xl

# Intel EtherExpress PRO 10/100B
device	fxp: ether, ifnet, ifmedia, mii
file	dev/ic/fxp.c		fxp

# Myson MTD803
device	mtd: ether, ifnet, ifmedia, mii
file	dev/ic/mtd8xx.c		mtd

# RealTek 8129/8139
device	rl: ether, ifnet, ifmedia, mii
file	dev/ic/rtl81x9.c	rl

# Clones of Digital 2104x
device	dc: ether, ifnet, ifmedia, mii
file	dev/ic/dc.c		dc

# SMC 91Cxx Ethernet Controller
device	sm: ether, ifnet, ifmedia
file	dev/ic/smc91cxx.c	sm

# Novell NE2000-compatible Ethernet cards, based on the
# National Semiconductor DS8390.
device	ne: ether, ifnet, dp8390nic, ifmedia, mii
file	dev/ic/ne2000.c		ne

# D-Link DL10019/10022 NE2000-compatible network interface subroutines
file	dev/ic/dl10019.c	dl10019

# ASIX AX88190 NE2000-compatible network interface subroutines
file	dev/ic/ax88190.c	ax88190

# Intel i82596/i82586 Ethernet Controller
device	ie: ether, ifnet, ifmedia
file	dev/ic/i82596.c		ie & (ie_pci | ie_eisa | ie_gsc)

# Sun GEM Ethernet controllers
device	gem: ether, ifnet, ifmedia, mii
file	dev/ic/gem.c		gem

# TROPIC Token-Ring controller
device	tr: ether, token, ifnet
file	dev/ic/tropic.c		tr

# 8250/16[45]50-based "com" ports
device	com: tty
file	dev/ic/com.c		com & (com_isa | com_isapnp | com_commulti | com_pcmcia | com_pica | com_algor | com_gsc | com_puc | com_ebus | com_dino) needs-flag

# PC-like keyboard controller
device	pckbc { [slot = -1] }
file	dev/ic/pckbc.c		pckbc needs-flag

# HPPA PS/2 input ports (forward definition)
device	gsckbc { [slot = -1] }

# OPL2/OPL3 FM synth driver
device	opl: midibus, midisyn
file	dev/ic/opl.c			opl
file	dev/ic/oplinstrs.c		opl

# AC-97 CODECs
define	ac97
file	dev/ic/ac97.c			ac97

# Cyclades Cyclom multiport serial cards
device	cy: tty
file	dev/ic/cy.c		cy & (cy_isa | cy_pci)	needs-flag

# PC parallel ports (IEEE 1284)
#device	lpt: ifnet, ether, arp	# XXX - "ifnet, ether, arp" only if option PLIP
device	lpt: ifnet, ether	# "arp" is an undefined attribute in OpenBSD
file	dev/ic/lpt.c		lpt & (lpt_isa | lpt_pica | lpt_algor | lpt_gsc | lpt_puc | lpt_apio | lpt_ebus) needs-flag

# STI (hp graphics)
device	sti: wsemuldisplaydev
file	dev/ic/sti.c		sti & (sti_pci | sti_sgc | sti_phantom)

# Initio ULTRA WIDE/ULTRA2 WIDE SCSI Controllers
device	iha: scsi
file	dev/ic/iha.c		iha

# Tekram TRM-S1040 SCSI Cards (DC395U/UW/F,DC315/U)
device	trm: scsi
file	dev/ic/trm.c		trm

# National Semiconductor LM7[89] and compatible hardware monitors
device	lm
file	dev/ic/nslm7x.c		lm

# Attributes which machine-independent bus support can be attached to.
# These should be defined here, because some of these busses can have
# devices which provide these attributes, and we'd like to avoid hairy
# ordering constraints on inclusion of the busses' "files" files.
define	isabus { }			# ISA attachment
define	eisabus { }			# EISA attachment
define	pcibus {[bus = -1]}		# PCI attachment
define	tcbus { }			# TurboChannel attachment
define	usbus { }			# USB attachment
define	fwbus {[idhi=-1],[idlo=-1]}	# IEEE 1394 attachment
define	pcmciabus { [controller = -1], [socket = -1]}	# PCMCIA attachment
define	cbbus {[slot = -1]}		# CardBus attachment
define	pcmciaslot {[slot = -1]}	# PCMCIA slot itself

# UHCI USB controller
device	uhci: usbus
file	dev/usb/uhci.c			uhci	needs-flag

# OHCI USB controller
device	ohci: usbus
file	dev/usb/ohci.c			ohci	needs-flag

# EHCI USB controller
device	ehci: usbus
file	dev/usb/ehci.c			ehci	needs-flag

# radio devices, attaches to radio hardware driver
device	radio
attach	radio at radiobus
file dev/radio.c			radio	needs-flag

#
# IEEE 1212 routines
define	ieee1212
file	dev/std/ieee1212.c		ieee1212

#
# SBP2 routines for IEEE 1394
define	sbp2
file	dev/std/sbp2.c			sbp2

# IEEE 1394 controllers
# (These need to be here since it will have both PCI and CardBus attachments)
#
device	fwlynx: fwbus
device	fwohci: fwbus

# legitimate pseudo-devices
pseudo-device vnd: disk
pseudo-device ccd: disk
pseudo-device raid: disk
pseudo-device rd: disk
file	dev/ramdisk.c			rd needs-flag

pseudo-device pty: tty
pseudo-device tb: tty

pseudo-device loop: ifnet
pseudo-device sl: ifnet
pseudo-device ppp: ifnet
pseudo-device tun: ifnet
pseudo-device bpfilter: ifnet
pseudo-device strip: ifnet
pseudo-device enc: ifnet
pseudo-device bridge: ifnet, ether
pseudo-device vlan: ifnet, ether
pseudo-device carp: ifnet, ether
pseudo-device sppp: ifnet
pseudo-device faith: ifnet
pseudo-device gif: ifnet
pseudo-device gre: ifnet
pseudo-device crypto: ifnet

pseudo-device sequencer
pseudo-device systrace

pseudo-device ksyms
file	dev/ksyms.c	ksyms needs-flag

pseudo-device pf: ifnet
file	net/pf.c		pf	needs-flag
file	net/pf_norm.c		pf
file	net/pf_ioctl.c		pf
file	net/pf_table.c		pf
file	net/pf_osfp.c		pf
file	net/pf_if.c		pf
pseudo-device pflog: ifnet
file	net/if_pflog.c		pflog	needs-flag
pseudo-device pfsync: ifnet
file	net/if_pfsync.c		pfsync	needs-flag

pseudo-device bio
file	dev/bio.c	bio needs-flag

pseudo-device pppoe: ifnet, ether, sppp
file 	net/if_pppoe.c		pppoe	needs-flag


# XXX machine-independent SCSI files should live somewhere here, maybe

# kernel sources
file adosfs/adlookup.c			adosfs
file adosfs/adutil.c			adosfs
file adosfs/advfsops.c			adosfs
file adosfs/advnops.c			adosfs
file altq/altq_subr.c			altq
file altq/altq_red.c			altq
file altq/altq_cbq.c			altq
file altq/altq_rmclass.c		altq
file altq/altq_cdnr.c			altq_cdnr
file altq/altq_hfsc.c			altq
file altq/altq_priq.c			altq
file altq/altq_rio.c			altq_rio
file ddb/db_access.c			ddb | kgdb
file ddb/db_aout.c			ddb
file ddb/db_break.c			ddb
file ddb/db_command.c			ddb
file ddb/db_elf.c			ddb
file ddb/db_examine.c			ddb
file ddb/db_expr.c			ddb
file ddb/db_input.c			ddb
file ddb/db_lex.c			ddb
file ddb/db_output.c			ddb
file ddb/db_print.c			ddb
file ddb/db_run.c			ddb | kgdb
file ddb/db_sym.c			ddb
file ddb/db_trap.c			ddb
file ddb/db_variables.c			ddb
file ddb/db_watch.c			ddb
file ddb/db_write_cmd.c			ddb
file ddb/db_usrreq.c			ddb
file ddb/db_hangman.c			ddb
file dev/auconv.c			auconv
file dev/audio.c			audio			needs-flag
file dev/ccd.c				ccd			needs-flag
file dev/ic/ncr5380sbc.c		ncr5380sbc
file dev/ic/ncr53c7xx.c			ncr53c7xx
file dev/ic/pdq.c			pdq
file dev/ic/pdq_ifsubr.c		pdq
file dev/ic/dp8390.c			dp8390nic
file dev/ic/rtl80x9.c			rtl80x9
file dev/ic/tea5757.c			tea5757
file dev/ic/lm700x.c			lm700x
file dev/ic/tc921x.c			tc921x
file dev/ic/pt2254a.c			pt2254a
file dev/midi.c				midi | midibus		needs-flag
file dev/midisyn.c			midisyn
file dev/mulaw.c			mulaw
file dev/sequencer.c			sequencer		needs-flag
file dev/systrace.c			systrace		needs-flag
file dev/vnd.c				vnd			needs-flag
file dev/rnd.c
file dev/raidframe/rf_acctrace.c	raid			needs-flag
file dev/raidframe/rf_alloclist.c	raid			needs-flag
file dev/raidframe/rf_aselect.c		raid			needs-flag
file dev/raidframe/rf_callback.c	raid			needs-flag
file dev/raidframe/rf_chaindecluster.c	raid			needs-flag
file dev/raidframe/rf_copyback.c	raid			needs-flag
file dev/raidframe/rf_cvscan.c		raid			needs-flag
file dev/raidframe/rf_dagdegrd.c	raid			needs-flag
file dev/raidframe/rf_dagdegwr.c	raid			needs-flag
file dev/raidframe/rf_dagffrd.c		raid			needs-flag
file dev/raidframe/rf_dagffwr.c		raid			needs-flag
file dev/raidframe/rf_dagfuncs.c	raid			needs-flag
file dev/raidframe/rf_dagutils.c	raid			needs-flag
file dev/raidframe/rf_debugMem.c	raid			needs-flag
file dev/raidframe/rf_debugprint.c	raid			needs-flag
file dev/raidframe/rf_decluster.c	raid			needs-flag
file dev/raidframe/rf_declusterPQ.c	raid			needs-flag
file dev/raidframe/rf_diskqueue.c	raid			needs-flag
file dev/raidframe/rf_disks.c		raid			needs-flag
file dev/raidframe/rf_driver.c		raid			needs-flag
file dev/raidframe/rf_engine.c		raid			needs-flag
file dev/raidframe/rf_evenodd.c		raid			needs-flag
file dev/raidframe/rf_evenodd_dagfuncs.c raid			needs-flag
file dev/raidframe/rf_evenodd_dags.c	raid			needs-flag
file dev/raidframe/rf_fifo.c		raid			needs-flag
file dev/raidframe/rf_interdecluster.c	raid			needs-flag
file dev/raidframe/rf_invertq.c		raid			needs-flag
file dev/raidframe/rf_openbsdkintf.c	raid			needs-flag
file dev/raidframe/rf_layout.c		raid			needs-flag
file dev/raidframe/rf_map.c		raid			needs-flag
file dev/raidframe/rf_mcpair.c		raid			needs-flag
file dev/raidframe/rf_memchunk.c	raid			needs-flag
file dev/raidframe/rf_nwayxor.c		raid			needs-flag
file dev/raidframe/rf_options.c		raid			needs-flag
file dev/raidframe/rf_paritylog.c	raid			needs-flag
file dev/raidframe/rf_paritylogDiskMgr.c raid			needs-flag
file dev/raidframe/rf_paritylogging.c	raid			needs-flag
file dev/raidframe/rf_parityloggingdags.c raid			needs-flag
file dev/raidframe/rf_parityscan.c	raid			needs-flag
file dev/raidframe/rf_pq.c		raid			needs-flag
file dev/raidframe/rf_pqdeg.c		raid			needs-flag
file dev/raidframe/rf_pqdegdags.c	raid			needs-flag
file dev/raidframe/rf_psstatus.c	raid			needs-flag
file dev/raidframe/rf_raid0.c		raid			needs-flag
file dev/raidframe/rf_raid1.c		raid			needs-flag
file dev/raidframe/rf_raid4.c		raid			needs-flag
file dev/raidframe/rf_raid5.c		raid			needs-flag
file dev/raidframe/rf_raid5_rotatedspare.c raid			needs-flag
file dev/raidframe/rf_reconbuffer.c	raid			needs-flag
file dev/raidframe/rf_reconmap.c	raid			needs-flag
file dev/raidframe/rf_reconstruct.c	raid			needs-flag
file dev/raidframe/rf_reconutil.c	raid			needs-flag
file dev/raidframe/rf_revent.c		raid			needs-flag
file dev/raidframe/rf_shutdown.c	raid			needs-flag
file dev/raidframe/rf_sstf.c		raid			needs-flag
file dev/raidframe/rf_states.c		raid			needs-flag
file dev/raidframe/rf_stripelocks.c	raid			needs-flag
file dev/raidframe/rf_strutils.c	raid			needs-flag
file dev/raidframe/rf_threadstuff.c	raid			needs-flag
file dev/raidframe/rf_utils.c		raid			needs-flag
file isofs/cd9660/cd9660_bmap.c		cd9660
file isofs/cd9660/cd9660_lookup.c	cd9660
file isofs/cd9660/cd9660_node.c		cd9660
file isofs/cd9660/cd9660_rrip.c		cd9660
file isofs/cd9660/cd9660_util.c		cd9660
file isofs/cd9660/cd9660_vfsops.c	cd9660
file isofs/cd9660/cd9660_vnops.c	cd9660
file kern/exec_aout.c
file kern/exec_conf.c
file kern/exec_ecoff.c
file kern/exec_elf32.c
file kern/exec_elf64.c
file kern/exec_script.c
file kern/exec_subr.c
file kern/init_main.c
file kern/init_sysent.c
file kern/kern_acct.c			accounting
file kern/kern_clock.c
file kern/kern_descrip.c
file kern/kern_event.c
file kern/kern_exec.c
file kern/kern_exit.c
file kern/kern_fork.c
file kern/kern_kthread.c
file kern/kern_ktrace.c			ktrace
file kern/kern_lock.c
file kern/kern_lkm.c			lkm
file kern/kern_malloc.c
file kern/kern_malloc_debug.c		malloc_debug
file kern/kern_rwlock.c
file kern/kern_physio.c
file kern/kern_proc.c
file kern/kern_prot.c
file kern/kern_resource.c
file kern/kern_sig.c
file kern/kern_subr.c
file kern/kern_sysctl.c
file kern/kern_synch.c
file kern/kern_time.c
file kern/kern_timeout.c
file kern/kern_watchdog.c		!small_kernel
file kern/kgdb_stub.c			kgdb
file kern/subr_autoconf.c
file kern/subr_disk.c
file kern/subr_extent.c
file kern/subr_log.c
file kern/subr_pool.c
file kern/subr_prf.c
file kern/subr_prof.c
file kern/subr_userconf.c		boot_config
file kern/subr_xxx.c
file kern/sys_generic.c
file kern/sys_pipe.c
file kern/sys_process.c			ptrace
file kern/sys_socket.c
file kern/syscalls.c			syscall_debug
file kern/sysv_ipc.c			sysvshm | sysvsem | sysvmsg
file kern/sysv_msg.c			sysvmsg
file kern/sysv_sem.c			sysvsem
file kern/sysv_shm.c			sysvshm
file kern/tty.c
file kern/tty_conf.c
file kern/tty_pty.c			pty			needs-count
file kern/tty_subr.c
file kern/tty_tb.c			tb			needs-count
file kern/tty_tty.c
file kern/uipc_domain.c
file kern/uipc_mbuf.c
file kern/uipc_mbuf2.c
file kern/uipc_proto.c
file kern/uipc_socket.c
file kern/uipc_socket2.c
file kern/uipc_syscalls.c
file kern/uipc_usrreq.c
file kern/vfs_bio.c
file kern/vfs_cache.c
file kern/vfs_cluster.c
file kern/vfs_conf.c
file kern/vfs_default.c
file kern/vfs_init.c
file kern/vfs_lockf.c
file kern/vfs_lookup.c
file kern/vfs_subr.c
file kern/vfs_sync.c
file kern/vfs_syscalls.c
file kern/vfs_vnops.c
file kern/vnode_if.c
file miscfs/deadfs/dead_vnops.c
file miscfs/genfs/layer_subr.c		nullfs | umapfs
file miscfs/genfs/layer_vfsops.c	nullfs | umapfs
file miscfs/genfs/layer_vnops.c		nullfs | umapfs
file miscfs/fdesc/fdesc_vfsops.c	fdesc
file miscfs/fdesc/fdesc_vnops.c		fdesc
file miscfs/fifofs/fifo_vnops.c		fifo
file miscfs/kernfs/kernfs_vfsops.c	kernfs
file miscfs/kernfs/kernfs_vnops.c	kernfs
file miscfs/nullfs/null_vfsops.c	nullfs
file miscfs/nullfs/null_vnops.c		nullfs
file miscfs/portal/portal_vfsops.c	portal
file miscfs/portal/portal_vnops.c	portal
file miscfs/procfs/procfs_cmdline.c	procfs
file miscfs/procfs/procfs_ctl.c		procfs
file miscfs/procfs/procfs_fpregs.c	ptrace
file miscfs/procfs/procfs_linux.c	procfs
file miscfs/procfs/procfs_mem.c
file miscfs/procfs/procfs_note.c	procfs
file miscfs/procfs/procfs_regs.c	ptrace
file miscfs/procfs/procfs_status.c	procfs
file miscfs/procfs/procfs_subr.c	procfs
file miscfs/procfs/procfs_vfsops.c	procfs
file miscfs/procfs/procfs_vnops.c	procfs
file miscfs/specfs/spec_vnops.c
file miscfs/umapfs/umap_subr.c		umapfs
file miscfs/umapfs/umap_vfsops.c	umapfs
file miscfs/umapfs/umap_vnops.c		umapfs
file miscfs/union/union_subr.c		union
file miscfs/union/union_vfsops.c	union
file miscfs/union/union_vnops.c		union
file msdosfs/msdosfs_conv.c		msdosfs
file msdosfs/msdosfs_denode.c		msdosfs
file msdosfs/msdosfs_fat.c		msdosfs
file msdosfs/msdosfs_lookup.c		msdosfs
file msdosfs/msdosfs_vfsops.c		msdosfs
file msdosfs/msdosfs_vnops.c		msdosfs
file ntfs/ntfs_compr.c			ntfs
file ntfs/ntfs_conv.c			ntfs
file ntfs/ntfs_ihash.c			ntfs
file ntfs/ntfs_subr.c			ntfs
file ntfs/ntfs_vfsops.c			ntfs
file ntfs/ntfs_vnops.c			ntfs
file net/bpf.c				bpfilter		needs-count
file net/bpf_filter.c			bpfilter | ppp
file net/if.c
file net/if_arcsubr.c			arc			needs-flag
file net/if_atmsubr.c			atm			needs-flag
file net/if_ethersubr.c			ether | inet | fddi | token needs-flag
file net/if_fddisubr.c			fddi
file net/if_spppsubr.c			sppp
file net/if_loop.c			loop
file net/if_media.c			ifmedia
file net/if_sl.c			sl			needs-count
file net/if_strip.c			strip			needs-count
file net/if_ppp.c			ppp			needs-count
file net/ppp_tty.c			ppp
file net/bsd-comp.c			ppp_bsdcomp
file net/ppp-deflate.c			ppp_deflate
file net/zlib.c				ppp_deflate | ipsec | crypto
file net/if_tokensubr.c			token			needs-flag
file net/if_tun.c			tun			needs-count
file net/if_bridge.c			bridge			needs-count
file net/bridgestp.c			bridge
file net/if_vlan.c			vlan			needs-count
file net/radix.c
file net/radix_mpath.c			!small_kernel
file net/raw_cb.c
file net/raw_usrreq.c
file net/route.c
file net/rtsock.c
file net/slcompress.c			sl | ppp | strip
file net/if_enc.c			enc			needs-count
file net/if_gre.c			gre			needs-count
#file net/if_ieee1394subr.c		ieee1394
file net/if_ieee80211subr.c		wlan
file netinet/if_atm.c			atm
file netinet/if_ether.c			ether | inet
#file netinet/if_ieee1394arp.c		ieee1394 & inet
file netinet/in4_cksum.c		inet
file netinet/igmp.c			inet
file netinet/in.c			inet
file netinet/in_pcb.c			inet
file netinet/in_proto.c			inet
file netinet/ip_icmp.c			inet
file netinet/ip_id.c			inet
file netinet/ip_input.c			inet
file netinet/ip_mroute.c		inet & mrouting
file netinet/ip_output.c		inet
file netinet/raw_ip.c			inet
file netinet/tcp_debug.c		inet
file netinet/tcp_input.c		inet
file netinet/tcp_output.c		inet
file netinet/tcp_subr.c			inet
file netinet/tcp_timer.c		inet
file netinet/tcp_usrreq.c		inet
file netinet/udp_usrreq.c		inet
file netinet/ip_gre.c			inet
file netinet/ip_ipsp.c			(inet | inet6) & (ipsec | tcp_signature)
file netinet/ip_spd.c			(inet | inet6) & (ipsec | tcp_signature)
file netinet/ip_ipip.c			inet | inet6
file netinet/ip_ether.c			inet
file netinet/ipsec_input.c		(inet | inet6) & ipsec
file netinet/ipsec_output.c		(inet | inet6) & ipsec
file netinet/ip_esp.c			inet & ipsec
file netinet/ip_ah.c			inet & ipsec
file netinet/ip_carp.c			carp			needs-count
file netinet/ip_ipcomp.c		inet & ipsec
file crypto/rijndael.c			(inet & ipsec) | crypto | uvm_swap_encrypt
file crypto/md5.c
file crypto/rmd160.c			(inet & ipsec) | crypto
file crypto/sha1.c			(inet & ipsec) | crypto | carp
file crypto/sha2.c			(inet & ipsec) | crypto
file crypto/blf.c			(inet & ipsec) | crypto | vnd
file crypto/cast.c			(inet & ipsec) | crypto
file crypto/skipjack.c			(inet & ipsec) | crypto
file crypto/ecb_enc.c			(inet & ipsec) | crypto
file crypto/set_key.c			(inet & ipsec) | crypto
file crypto/ecb3_enc.c			(inet & ipsec) | crypto
file crypto/crypto.c			(inet & ipsec) | crypto
file crypto/cryptodev.c			((inet & ipsec) | crypto)	needs-flag
file crypto/criov.c			(inet & ipsec) | crypto
file crypto/cryptosoft.c		(inet & ipsec) | crypto
file crypto/xform.c			(inet & ipsec) | crypto
file crypto/deflate.c			(inet & ipsec) | crypto
file crypto/arc4.c			wi | wlan
file netatalk/aarp.c			netatalk
file netatalk/at_control.c		netatalk
file netatalk/at_proto.c		netatalk
file netatalk/ddp_input.c		netatalk
file netatalk/ddp_output.c		netatalk
file netatalk/ddp_usrreq.c		netatalk
file netnatm/natm_pcb.c			natm
file netnatm/natm_proto.c		natm
file netnatm/natm.c			natm
file netipx/ipx.c			ipx
file netipx/ipx_input.c			ipx
file netipx/ipx_ip.c			ipx
file netipx/ipx_outputfl.c		ipx
file netipx/ipx_pcb.c			ipx
file netipx/ipx_proto.c			ipx
file netipx/ipx_tun.c			ipx
file netipx/ipx_usrreq.c		ipx
file netipx/ipx_cksum.c			ipx
file netipx/spx_debug.c			ipx
file netipx/spx_usrreq.c		ipx
file nfs/krpc_subr.c			nfsclient
file nfs/nfs_bio.c			nfsclient
file nfs/nfs_boot.c			nfsclient
file nfs/nfs_node.c			nfsclient
file nfs/nfs_serv.c			nfsserver
file nfs/nfs_socket.c			nfsserver | nfsclient
file nfs/nfs_srvcache.c			nfsserver
file nfs/nfs_subs.c			nfsserver | nfsclient
file nfs/nfs_syscalls.c			nfsserver | nfsclient
file nfs/nfs_vfsops.c			nfsclient
file nfs/nfs_vnops.c			nfsclient
file ufs/ffs/ffs_alloc.c		ffs | mfs
file ufs/ffs/ffs_balloc.c		ffs | mfs
file ufs/ffs/ffs_inode.c		ffs | mfs
file ufs/ffs/ffs_subr.c			ffs | mfs
file ufs/ffs/ffs_softdep_stub.c		ffs | mfs
file ufs/ffs/ffs_tables.c		ffs | mfs
file ufs/ffs/ffs_vfsops.c		ffs | mfs
file ufs/ffs/ffs_vnops.c		ffs | mfs
file ufs/ffs/ffs_softdep.c		ffs_softupdates
file ufs/mfs/mfs_vfsops.c		mfs
file ufs/mfs/mfs_vnops.c		mfs
file ufs/ufs/ufs_bmap.c			ffs | mfs | ext2fs
file ufs/ufs/ufs_dirhash.c		ufs_dirhash & (ffs | mfs)
file ufs/ufs/ufs_extattr.c		ffs | mfs
file ufs/ufs/ufs_ihash.c		ffs | mfs | ext2fs
file ufs/ufs/ufs_inode.c		ffs | mfs | ext2fs
file ufs/ufs/ufs_lookup.c		ffs | mfs | ext2fs
file ufs/ufs/ufs_quota.c		quota & ( ffs | mfs | ext2fs )
file ufs/ufs/ufs_quota_stub.c		ffs | mfs
file ufs/ufs/ufs_vfsops.c		ffs | mfs | ext2fs
file ufs/ufs/ufs_vnops.c		ffs | mfs | ext2fs
file ufs/ext2fs/ext2fs_alloc.c		ext2fs
file ufs/ext2fs/ext2fs_balloc.c		ext2fs
file ufs/ext2fs/ext2fs_bmap.c		ext2fs
file ufs/ext2fs/ext2fs_bswap.c		ext2fs
file ufs/ext2fs/ext2fs_inode.c		ext2fs
file ufs/ext2fs/ext2fs_lookup.c		ext2fs
file ufs/ext2fs/ext2fs_readwrite.c	ext2fs
file ufs/ext2fs/ext2fs_subr.c		ext2fs
file ufs/ext2fs/ext2fs_vfsops.c		ext2fs
file ufs/ext2fs/ext2fs_vnops.c		ext2fs
file uvm/uvm_amap.c
file uvm/uvm_anon.c
file uvm/uvm_aobj.c
file uvm/uvm_device.c
file uvm/uvm_fault.c
file uvm/uvm_glue.c
file uvm/uvm_init.c
file uvm/uvm_io.c
file uvm/uvm_km.c
#file uvm/uvm_loan.c
file uvm/uvm_map.c
file uvm/uvm_meter.c
file uvm/uvm_mmap.c
file uvm/uvm_page.c
file uvm/uvm_pager.c
file uvm/uvm_pdaemon.c
file uvm/uvm_pglist.c
file uvm/uvm_stat.c
file uvm/uvm_swap.c
file uvm/uvm_swap_encrypt.c		uvm_swap_encrypt
file uvm/uvm_unix.c
file uvm/uvm_user.c
file uvm/uvm_vnode.c
file dev/rd.c				ramdisk_hooks

# IPv6
file net/if_faith.c			faith			needs-count
file net/if_gif.c			gif			needs-count
file netinet/ip_ecn.c			inet | inet6
file netinet/in_gif.c			gif & inet
file netinet6/in6_gif.c			gif & inet6
file netinet6/in6_pcb.c			inet6
file netinet6/in6.c			inet6
file netinet6/in6_ifattach.c		inet6
file netinet6/in6_cksum.c		inet6
file netinet6/in6_src.c			inet6
file netinet6/in6_proto.c		inet6
file netinet6/dest6.c			inet6
file netinet6/frag6.c			inet6
file netinet6/icmp6.c			inet6
file netinet6/ip6_id.c			inet6
file netinet6/ip6_input.c		inet6
file netinet6/ip6_forward.c		inet6
file netinet6/ip6_mroute.c		inet6
file netinet6/ip6_output.c		inet6
file netinet6/route6.c			inet6
file netinet6/mld6.c			inet6
file netinet6/nd6.c			inet6
file netinet6/nd6_nbr.c			inet6
file netinet6/nd6_rtr.c			inet6
file netinet6/raw_ip6.c			inet6
file netinet6/udp6_output.c		inet6

# ... PF_KEY
file net/pfkey.c			key | ipsec | tcp_signature
file net/pfkeyv2.c			key | ipsec | tcp_signature
file net/pfkeyv2_parsemessage.c		key | ipsec | tcp_signature
file net/pfkeyv2_convert.c		key | ipsec | tcp_signature

#
# Compatibility modules
#

# OSS audio driver compatibility (COMPAT_OSSAUDIO)
include "../../../compat/ossaudio/files.ossaudio"

### ISDN support, from NetBSD

define	isdndev		# the ISDN subsystem
define	passive_isdn	# files needed by passive cards (XXX - protocol
			# specific)
define	isdncapi	# ISDN Common API - http://www.capi.org/

# The isac found on the Fritz V2.0 Card.
define	nisacsx
file	dev/ic/isacsx.c			nisacsx	needs-flag

# The 'standard' isac
define	nisac
file	dev/ic/isac.c			nisac	needs-flag

# ISDN cards based on the Siemens ISAC/HSCX chipset (or lookalikes)
#
device	isic: isdndev, passive_isdn, nisac

file	dev/ic/isic.c			isic
file	dev/ic/isic_l1.c		isic|ifpci|ifritz
file	dev/ic/isic_l1fsm.c		isic|ifpci|ifritz
file	dev/ic/hscx.c			isic
file	dev/ic/isic_bchan.c		isic

# (old) Diehl active ISDN cards
#
device	daic: isdndev
file	dev/ic/daic.c			daic

# AWM B1/T1
# XXX: passive_isdn
device	iavc: isdndev, isdncapi, passive_isdn
file	dev/ic/iavc.c			iavc

# ISDN userland pseudo devices
#
pseudo-device isdntrc:      isdndev, tty
pseudo-device isdnbchan:    isdndev, tty
pseudo-device isdntel:      isdndev, tty
pseudo-device isdnctl:      isdndev, tty
pseudo-device isdn:         isdndev, tty

# ISDN network interfaces
pseudo-device irip:         isdndev, ifnet
pseudo-device ippp:         isdndev, sppp, ifnet

file	netisdn/i4b_ctl.c		isdnctl		needs-flag
file	netisdn/i4b_isppp.c		ippp		needs-count
file	netisdn/i4b_ipr.c		irip		needs-count
file	netisdn/i4b_rbch.c		isdnbchan	needs-count
file	netisdn/i4b_tel.c		isdntel		needs-count
file	netisdn/i4b_trace.c		isdntrc		needs-count

file	netisdn/i4b_mbuf.c		passive_isdn
file	netisdn/i4b_l2.c		passive_isdn
file	netisdn/i4b_l2fsm.c		passive_isdn
file	netisdn/i4b_uframe.c		passive_isdn
file	netisdn/i4b_tei.c		passive_isdn
file	netisdn/i4b_sframe.c		passive_isdn
file	netisdn/i4b_iframe.c		passive_isdn
file	netisdn/i4b_l2timer.c		passive_isdn
file	netisdn/i4b_util.c		passive_isdn
file	netisdn/i4b_lme.c		passive_isdn
# Q.931 handler
file	netisdn/i4b_q931.c		passive_isdn
file	netisdn/i4b_q932fac.c		passive_isdn
file	netisdn/i4b_l3fsm.c		passive_isdn
file	netisdn/i4b_l3timer.c		passive_isdn
file	netisdn/i4b_l2if.c		passive_isdn
file	netisdn/i4b_l4if.c		passive_isdn

# ISDN device driver, interface to isdnd
file	netisdn/i4b_i4bdrv.c		isdn		needs-flag
file	netisdn/i4b_l4.c		isdndev		needs-flag
file	netisdn/i4b_l4mgmt.c		isdndev		needs-flag
file	netisdn/i4b_l4timer.c		isdndev		needs-flag

# CAPI
file	netisdn/i4b_capi_l4if.c		isdncapi
file	netisdn/i4b_capi_llif.c		isdncapi
file	netisdn/i4b_capi_msgs.c		isdncapi
@


1.26
log
@kern_xxx.c can die; move syscall debug code to init_main.c too
@
text
@d1 1
a1 1
# $MirBSD: src/sys/conf/files,v 1.25 2004/11/14 01:06:45 tg Exp $
d3 1
a3 1
# $OpenBSD: files,v 1.299 2004/05/27 20:48:46 tedu Exp $
d404 4
@


1.25
log
@remove COMPAT_35 as an option
do all the magic with COMPAT_78
@
text
@d1 1
a1 1
# $MirBSD: src/sys/conf/files,v 1.24 2004/11/13 22:17:33 tg Exp $
a559 1
file kern/kern_xxx.c
@


1.24
log
@merge accounting changes
@
text
@d1 1
a1 1
# $MirBSD: src/sys/conf/files,v 1.23 2004/06/13 18:58:32 tg Stab $
d853 7
@


1.23
log
@remove traces of attempt to code ethertap device

we'll just use Claudio Jeker's patch for layer2/3
switching of the tun(4) device (although I have no
idea how to do the /dev/tapN things; maybe the apps
can use /dev/tunN?)
@
text
@d1 1
a1 1
# $MirBSD: src/sys/conf/files,v 1.22 2004/05/27 19:10:46 tg Exp $
d3 1
a3 1
# $OpenBSD: files,v 1.296 2004/05/07 18:13:00 miod Exp $
d535 1
a535 1
file kern/kern_acct.c
@


1.22
log
@* make kernel (GENERIC i386) build
* nuke more NS parts
* nuke more SVR4 compat
* fix compats
* more MirOS RCS IDs
* better randomness usage/distribution
* better paranoia checks in random stuff
* use \$SHELL instead of sh
etc.pp
@
text
@d1 1
a1 1
# $MirBSD: src/sys/conf/files,v 1.21 2004/05/23 20:16:15 tg Exp $
a371 1
pseudo-device tap: ifnet
a668 1
file net/if_tap.c			tap			needs-count
@


1.21
log
@* first futile attempt to merge OpenBSD 3.5-current
* damn! they got pxeboot! -> disable for now
  (there's still ports/sysutils/pxegrub; we'll have pxeboot later)
* I don't know if that ... bootloader still works
* nuke netbsd emul (was unused anyways)
* nuke a plethora of syscalls not being used, and mark
  the other two (COMPAT_35) for deletion RSN
* merge new MI-GENERIC into i386 GENERIC
* resolve numeric conflicts for
  - syscalls
  - sysctls
  - device majors
  - pcidevs
* (c) cleanup - no need to add a bsd-like licence when
  there's already one; just add my name
* and much more
@
text
@d1 5
a5 5
#	$MirBSD: src/sys/conf/files,v 1.20 2004/03/21 15:13:32 tg Exp $
#	$NetBSD: files,v 1.634 2003/09/25 15:58:14 pooka Exp $
#	$OpenBSD: files,v 1.296 2004/05/07 18:13:00 miod Exp $
#	$NetBSD: files,v 1.87 1996/05/19 17:17:50 jonathan Exp $
#	@@(#)files.newconf	7.5 (Berkeley) 5/10/93
d856 1
a856 1
### ISDN von NetBSD
@


1.20
log
@nuke netccitt, netiso, netns (as announced earlier)
netatalk stays in as per bsiegert@@

sync kernel
sync bktr(4) options with reality
@
text
@d1 1
a1 1
#	$MirBSD: files,v 1.19 2004/03/14 18:32:45 tg Exp $
d3 1
a3 1
#	$OpenBSD: files,v 1.288 2004/01/07 21:30:59 markus Exp $
d161 7
d185 1
a185 1
# Symbios/NCR 53c720/53c8xx SCSI controllers
d187 5
a191 1
file	dev/ic/osiop.c			osiop & (osiop_gsc | osiop_eisa)
d268 1
a268 1
file	dev/ic/com.c		com & (com_isa | com_isapnp | com_commulti | com_pcmcia | com_pica | com_algor | com_gsc | com_puc | com_ebus) needs-flag
d675 1
d718 1
d720 1
a720 1
file crypto/sha1.c			(inet & ipsec) | crypto
d806 1
a806 1
file uvm/uvm_loan.c
d822 1
a822 15
# ... NRL IPv6
#file netinet6/in6.c			inet6
#file netinet6/ipv6_icmp.c		inet6
#file netinet6/in6_cksum.c		inet6
file netinet6/in6_pcb.c			inet6
#file netinet6/raw_ipv6.c		inet6
#file netinet6/ipv6_input.c		inet6
#file netinet6/ipv6_discovery.c		inet6
#file netinet6/ipv6_addrconf.c		inet6
#file netinet6/ipv6_rtrequest.c		inet6
#file netinet6/ipv6_output.c		inet6
#file netinet6/in6_proto.c		inet6
#file netinet6/ipv6_trans.c		inet6

# ... KAME IPv6
d828 1
a831 1
#file netinet6/in6_pcb.c		inet6
a847 7
#file netinet6/tcp6_debug.c		inet6 & tcp6
#file netinet6/tcp6_input.c		inet6 & tcp6
#file netinet6/tcp6_output.c		inet6 & tcp6
#file netinet6/tcp6_subr.c		inet6 & tcp6
#file netinet6/tcp6_timer.c		inet6 & tcp6
#file netinet6/tcp6_usrreq.c		inet6 & tcp6
#file netinet6/udp6_usrreq.c		inet6
@


1.19
log
@oops
i386/CDROM kernel builds now
@
text
@d1 1
a1 1
#	$MirBSD: files,v 1.18 2004/03/14 18:23:26 tg Exp $
a672 19
file netccitt/ccitt_proto.c		ccitt
file netccitt/hd_debug.c		hdlc
file netccitt/hd_input.c		hdlc
file netccitt/hd_output.c		hdlc
file netccitt/hd_subr.c			hdlc
file netccitt/hd_timer.c		hdlc
file netccitt/if_x25subr.c		ccitt
file netccitt/llc_input.c		llc
file netccitt/llc_output.c		llc
file netccitt/llc_subr.c		llc
file netccitt/llc_timer.c		llc
file netccitt/pk_acct.c			ccitt
file netccitt/pk_debug.c		ccitt
file netccitt/pk_input.c		ccitt
file netccitt/pk_llcsubr.c		llc | hdlc
file netccitt/pk_output.c		ccitt
file netccitt/pk_subr.c			ccitt
file netccitt/pk_timer.c		ccitt
file netccitt/pk_usrreq.c		ccitt
a727 37
file netiso/clnp_debug.c		iso
file netiso/clnp_er.c			iso
file netiso/clnp_frag.c			iso
file netiso/clnp_input.c		iso
file netiso/clnp_options.c		iso
file netiso/clnp_output.c		iso
file netiso/clnp_raw.c			iso
file netiso/clnp_subr.c			iso
file netiso/clnp_timer.c		iso
file netiso/cltp_usrreq.c		iso
file netiso/esis.c			iso
file netiso/idrp_usrreq.c		iso
file netiso/if_cons.c			iso
file netiso/if_eon.c			eon
file netiso/iso.c			iso
file netiso/iso_chksum.c		iso
file netiso/iso_pcb.c			iso
file netiso/iso_proto.c			iso
file netiso/iso_snpac.c			iso
file netiso/tp_astring.c		iso | tpip
file netiso/tp_cons.c			iso
file netiso/tp_driver.c			iso | tpip
file netiso/tp_emit.c			iso | tpip
file netiso/tp_inet.c			iso | tpip
file netiso/tp_input.c			iso | tpip
file netiso/tp_iso.c			iso
file netiso/tp_meas.c			iso | tpip
file netiso/tp_output.c			iso | tpip
file netiso/tp_pcb.c			iso | tpip
file netiso/tp_subr.c			iso | tpip
file netiso/tp_subr2.c			iso | tpip
file netiso/tp_timer.c			iso | tpip
file netiso/tp_trace.c			iso | tpip
file netiso/tp_usrreq.c			iso | tpip
file netiso/tuba_subr.c			iso | tuba
file netiso/tuba_table.c		iso | tuba
file netiso/tuba_usrreq.c		iso | tuba
a730 10
file netns/idp_usrreq.c			ns
file netns/ns.c				ns
file netns/ns_error.c			ns
file netns/ns_input.c			ns
file netns/ns_ip.c			ns
file netns/ns_output.c			ns
file netns/ns_pcb.c			ns
file netns/ns_proto.c			ns
file netns/spp_debug.c			ns
file netns/spp_usrreq.c			ns
@


1.18
log
@nuke xfs (not sgixfs!), the generic kernel-userland interface

does anyone use
 - netatalk
 - netccitt (I tried to build it; it's broken nearly beyond repair,
		and the NetBSD thing isn't better)
 - netiso
 - netns
or may someone nuke them sometime?
@
text
@d1 1
a1 1
#	$MirBSD: files,v 1.17 2004/01/27 17:42:26 tg Exp $
a4 1

a6 1

a849 1
file xfs/xfs_syscalls-dummy.c		!xfs
@


1.17
log
@first part of mergeing OpenBSD and fixing whitespace and RCS IDs
@
text
@d1 1
a1 1
#	$MirBSD: files,v 1.16 2004/01/03 02:31:25 tg Exp $
a851 13
file xfs/xfs_common-bsd.c		xfs
file xfs/xfs_deb.c			xfs
file xfs/xfs_dev-bsd.c			xfs
file xfs/xfs_dev-common.c		xfs
file xfs/xfs_message.c			xfs
file xfs/xfs_node.c			xfs
file xfs/xfs_node-bsd.c			xfs
file xfs/xfs_syscalls-common.c		xfs
file xfs/xfs_vfsops-bsd.c		xfs
file xfs/xfs_vfsops-common.c		xfs
file xfs/xfs_vfsops-openbsd.c		xfs
file xfs/xfs_vnodeops-bsd.c		xfs
file xfs/xfs_vnodeops-common.c		xfs
@


1.16
log
@Merge OpenBSD; extend (c) to 2004
@
text
@d1 1
a1 1
#	$MirBSD: files,v 1.15 2003/12/25 20:52:57 tg Exp $
d3 1
a3 1
#	$OpenBSD: files,v 1.286 2003/12/28 17:16:28 tedu Exp $
d59 1
d551 1
a551 1
file kern/kern_watchdog.c
d674 1
d742 1
a742 1
file crypto/arc4.c			wi
@


1.15
log
@merge
@
text
@d1 1
a1 1
#	$MirBSD: files,v 1.14 2003/11/17 18:55:06 tg Exp $
d3 1
a3 1
#	$OpenBSD: files,v 1.284 2003/12/12 20:05:45 cedric Exp $
d115 1
d539 1
d831 1
@


1.14
log
@add framework (INCOMPLETE) for the ethertap device
code from openbsd if_tun.[ch]
framework (conf, kernel) by me
diffs to ethertap device from freebsd
some ideas from Claudio Jeker
@
text
@d1 1
a1 2
#	$MirBSD: files,v 1.13 2003/10/03 15:20:44 tg Exp $
#	$OpenBSD: files,v 1.281 2003/10/01 21:41:05 itojun Exp $
d3 2
d367 1
d386 1
d720 1
d738 1
@


1.13
log
@Sync with NetBSD

|| Among others, this gives us:

Module Name:    src
Committed By:   pooka
Date:           Thu Sep 25 15:34:38 UTC 2003

Added Files:
        src/sys/netisdn: i4b_capi.h i4b_capi_l4if.c i4b_capi_llif.c
            i4b_capi_msgs.c i4b_capi_msgs.h

Log Message:
Add a support layer for the ISDN CAPI (http://www.capi.org/), which should
make it pretty simple to write drivers for cards which conform to CAPI.

This code was originally written by Juha-Matti Liukkonen <jml@@cubical.fi>
of Cubical Solutions Ltd. for FreeBSD, and was now adapted to NetBSD
by myself for the same company.

|| and

Module Name:    src
Committed By:   pooka
Date:           Thu Sep 25 15:53:26 UTC 2003

Added Files:
        src/sys/dev/ic: iavc.c iavcreg.h iavcvar.h
        src/sys/dev/pci: iavc_pci.c

Log Message:
Add a driver for the CAPI-compliant AVM B1/T1 cards.

The driver backend is capable of supporting also ISA cards (no DMA)
and primary rate (PRI) cards in addition to the basic rate ones,
but I don't any to test on right now, so we don't support those
currently.

This code was originally written by Juha-Matti Liukkonen <jml@@cubical.fi>
of Cubical Solutions Ltd. for FreeBSD, and was ported to NetBSD by
myself for the same company.

==================================================================

The full list of ISDN files is now:

src/etc/MAKEDEV.mi
src/etc/Makefile
src/etc/etc.i386/MAKEDEV
src/etc/etc.i386/MAKEDEV.md
src/etc/isdnd.rc.sample
src/etc/isdnd.sppp.sample
src/etc/mtree/4.4BSD.dist
src/etc/ppp/ppp.conf.sample
src/etc/rc
src/etc/rc.conf
src/include/Makefile
src/share/man/man4/Makefile
src/share/man/man4/daic.4
src/share/man/man4/iavc.4
src/share/man/man4/ifpci.4
src/share/man/man4/ippp.4
src/share/man/man4/irip.4
src/share/man/man4/isdn.4
src/share/man/man4/isdnbchan.4
src/share/man/man4/isdncapi.4
src/share/man/man4/isdnctl.4
src/share/man/man4/isdntel.4
src/share/man/man4/isdntrc.4
src/share/man/man4/isic.4
src/share/man/man4/iwic.4
src/sys/arch/i386/conf/GENERIC
src/sys/arch/i386/i386/conf.c
src/sys/conf/files
src/sys/dev/ic/daic.c
src/sys/dev/ic/daicreg.h
src/sys/dev/ic/daicvar.h
src/sys/dev/ic/hscx.c
src/sys/dev/ic/hscx.h
src/sys/dev/ic/iavc.c
src/sys/dev/ic/iavcreg.h
src/sys/dev/ic/iavcvar.h
src/sys/dev/ic/ipac.h
src/sys/dev/ic/isac.c
src/sys/dev/ic/isac.h
src/sys/dev/ic/isacsx.c
src/sys/dev/ic/isacsx.h
src/sys/dev/ic/isic.c
src/sys/dev/ic/isic_bchan.c
src/sys/dev/ic/isic_l1.c
src/sys/dev/ic/isic_l1.h
src/sys/dev/ic/isic_l1fsm.c
src/sys/dev/isa/daic_isa.c
src/sys/dev/isa/files.isa
src/sys/dev/isa/files.isapnp
src/sys/dev/isa/isic_isa.c
src/sys/dev/isa/isic_isa_avm_a1.c
src/sys/dev/isa/isic_isa_itk_ix1.c
src/sys/dev/isa/isic_isa_tel_s016.c
src/sys/dev/isa/isic_isa_tel_s0163.c
src/sys/dev/isa/isic_isa_tel_s08.c
src/sys/dev/isa/isic_isa_usr_sti.c
src/sys/dev/isa/isic_isapnp.c
src/sys/dev/isa/isic_isapnp_ctx_s0P.c
src/sys/dev/isa/isic_isapnp_drn_ngo.c
src/sys/dev/isa/isic_isapnp_dynalink.c
src/sys/dev/isa/isic_isapnp_elsa_qs1i.c
src/sys/dev/isa/isic_isapnp_itkix.c
src/sys/dev/isa/isic_isapnp_siemens_isurf.c
src/sys/dev/isa/isic_isapnp_sws.c
src/sys/dev/isa/isic_isapnp_tel_s0P.c
src/sys/dev/microcode/daic/Makefile
src/sys/dev/microcode/daic/dnload.h
src/sys/dev/microcode/daic/dnload.h-dist
src/sys/dev/microcode/daic/gendnloadh
src/sys/dev/pci/files.pci
src/sys/dev/pci/fwlynx_pci.c
src/sys/dev/pci/iavc_pci.c
src/sys/dev/pci/ifpci.c
src/sys/dev/pci/ifpci2.c
src/sys/dev/pci/isic_pci.c
src/sys/dev/pci/isic_pci.h
src/sys/dev/pci/isic_pci_elsa_qs1p.c
src/sys/dev/pci/iwic_bchan.c
src/sys/dev/pci/iwic_dchan.c
src/sys/dev/pci/iwic_fsm.c
src/sys/dev/pci/iwic_pci.c
src/sys/dev/pci/iwicreg.h
src/sys/dev/pci/iwicvar.h
src/sys/dev/pci/pcidevs
src/sys/dev/pci/pcidevs.h
src/sys/dev/pci/pcidevs_data.h
src/sys/dev/pci/pcireg.h
src/sys/dev/pcmcia/files.pcmcia
src/sys/dev/pcmcia/isic_pcmcia.c
src/sys/dev/pcmcia/isic_pcmcia.h
src/sys/dev/pcmcia/isic_pcmcia_avm_fritz.c
src/sys/dev/pcmcia/isic_pcmcia_elsa_isdnmc.c
src/sys/dev/pcmcia/isic_pcmcia_elsa_mcall.c
src/sys/dev/pcmcia/isic_pcmcia_sbspeedstar2.c
src/sys/net/if_sppp.h
src/sys/netisdn/i4b_capi.h
src/sys/netisdn/i4b_capi_l4if.c
src/sys/netisdn/i4b_capi_llif.c
src/sys/netisdn/i4b_capi_msgs.c
src/sys/netisdn/i4b_capi_msgs.h
src/sys/netisdn/i4b_cause.h
src/sys/netisdn/i4b_ctl.c
src/sys/netisdn/i4b_debug.h
src/sys/netisdn/i4b_global.h
src/sys/netisdn/i4b_i4bdrv.c
src/sys/netisdn/i4b_iframe.c
src/sys/netisdn/i4b_ioctl.h
src/sys/netisdn/i4b_ipr.c
src/sys/netisdn/i4b_isdnq931.h
src/sys/netisdn/i4b_isppp.c
src/sys/netisdn/i4b_isppp.h
src/sys/netisdn/i4b_l1l2.h
src/sys/netisdn/i4b_l2.c
src/sys/netisdn/i4b_l2.h
src/sys/netisdn/i4b_l2fsm.c
src/sys/netisdn/i4b_l2fsm.h
src/sys/netisdn/i4b_l2if.c
src/sys/netisdn/i4b_l2timer.c
src/sys/netisdn/i4b_l3.h
src/sys/netisdn/i4b_l3fsm.c
src/sys/netisdn/i4b_l3fsm.h
src/sys/netisdn/i4b_l3l4.h
src/sys/netisdn/i4b_l3timer.c
src/sys/netisdn/i4b_l4.c
src/sys/netisdn/i4b_l4.h
src/sys/netisdn/i4b_l4if.c
src/sys/netisdn/i4b_l4mgmt.c
src/sys/netisdn/i4b_l4timer.c
src/sys/netisdn/i4b_lme.c
src/sys/netisdn/i4b_mbuf.c
src/sys/netisdn/i4b_mbuf.h
src/sys/netisdn/i4b_q931.c
src/sys/netisdn/i4b_q931.h
src/sys/netisdn/i4b_q932fac.c
src/sys/netisdn/i4b_q932fac.h
src/sys/netisdn/i4b_rbch.c
src/sys/netisdn/i4b_rbch_ioctl.h
src/sys/netisdn/i4b_sframe.c
src/sys/netisdn/i4b_tei.c
src/sys/netisdn/i4b_tel.c
src/sys/netisdn/i4b_tel_ioctl.h
src/sys/netisdn/i4b_trace.c
src/sys/netisdn/i4b_trace.h
src/sys/netisdn/i4b_uframe.c
src/sys/netisdn/i4b_util.c
src/sys/sys/cdefs.h
src/sys/sys/device.h
src/sys/sys/select.h
src/usr.sbin/Makefile
src/usr.sbin/isdnd/Makefile
src/usr.sbin/isdnd/alias.c
src/usr.sbin/isdnd/alias.h
src/usr.sbin/isdnd/config.h
src/usr.sbin/isdnd/controller.c
src/usr.sbin/isdnd/curses.c
src/usr.sbin/isdnd/dial.c
src/usr.sbin/isdnd/exec.c
src/usr.sbin/isdnd/fsm.c
src/usr.sbin/isdnd/holiday.c
src/usr.sbin/isdnd/isdnd.8
src/usr.sbin/isdnd/isdnd.acct.5
src/usr.sbin/isdnd/isdnd.h
src/usr.sbin/isdnd/isdnd.rates.5
src/usr.sbin/isdnd/isdnd.rc.5
src/usr.sbin/isdnd/log.c
src/usr.sbin/isdnd/main.c
src/usr.sbin/isdnd/monitor.c
src/usr.sbin/isdnd/monitor.h
src/usr.sbin/isdnd/msghdl.c
src/usr.sbin/isdnd/pathnames.h
src/usr.sbin/isdnd/pcause.c
src/usr.sbin/isdnd/process.c
src/usr.sbin/isdnd/rates.c
src/usr.sbin/isdnd/rc_config.c
src/usr.sbin/isdnd/rc_parse.y
src/usr.sbin/isdnd/rc_scan.l
src/usr.sbin/isdnd/support.c
src/usr.sbin/isdnd/timer.c
src/usr.sbin/ppp/ppp/Makefile
src/usr.sbin/ppp/ppp/i4b.c

Please correct me if anything should be missing.
@
text
@d1 1
a1 1
#	$MirBSD: files,v 1.12 2003/10/02 14:52:38 tg Exp $
d360 1
d655 1
@


1.13.2.1
log
@verified exec ported from NetBSD 1.6.1 / Stephanie patches for OpenBSD 3.4:
 - prevent execution of trojaned applications (f.e. netstat,ps,..)
 - activated in GENERIC, but must be enabled with sysctl -w kern.vexec.op=1
 - you have to generate the fingerprint database with fpgen.sh from sbin/vexecctl/

TODO:
- fix a problem with hardlinked applications (f.e. /bin/chown and /bin/chgrp)
  error: "vexec_inodeadd: Received invalid fingerprint for an existing entry! Entry not modified."
- patch MAKEDEV.mi to create devicenode /dev/vexec
- create sample database when doing make release (/etc/vexec.conf.release)
- more testing, test it on sparc
- do performance tests
@
text
@d1 1
a1 1
#	$MirBSD: files,v 1.13 2003/10/03 15:20:44 tg Exp $
a57 1
define	vexec
a389 4

pseudo-device vexec
file	dev/vexec.c		vexec	needs-flag
file	kern/kern_vexec.c	vexec
@


1.12
log
@Merge in OpenBSD
@
text
@d1 1
a1 1
#	$MirBSD: files,v 1.11 2003/09/27 15:46:53 tg Exp $
d3 1
a3 1
#	$NetBSD: files,v 1.87 1996/05/19 17:17:50 jonathan Exp $
d939 1
d964 5
d981 6
a986 6
file	netisdn/i4b_ctl.c		isdnctl			needs-flag
file	netisdn/i4b_isppp.c		ippp			needs-count
file	netisdn/i4b_ipr.c		irip			needs-count
file	netisdn/i4b_rbch.c		isdnbchan		needs-count
file	netisdn/i4b_tel.c		isdntel			needs-count
file	netisdn/i4b_trace.c		isdntrc			needs-count
d1007 9
a1015 4
file	netisdn/i4b_i4bdrv.c		isdn			needs-flag
file	netisdn/i4b_l4.c		isdndev			needs-flag
file	netisdn/i4b_l4mgmt.c		isdndev			needs-flag
file	netisdn/i4b_l4timer.c		isdndev			needs-flag
@


1.11
log
@Merge update, bump patchlevel
End cvs playing games with me
@
text
@d1 2
a2 2
#	$MirBSD: files,v 1.10 2003/09/02 18:24:37 tg Exp $
#	$OpenBSD: files,v 1.280 2003/09/26 00:19:23 mickey Exp $
d908 1
d999 2
a1000 1
# isdn device driver, interface to isdnd
@


1.10
log
@Update PLIP driver fresh from the inofficial NetBSD port.
Clean up whitespace-at-EOL while here.
@
text
@d1 2
a2 2
#	$MirBSD: files,v 1.9 2003/08/31 20:54:52 tg Exp $
#	$OpenBSD: files,v 1.279 2003/08/21 19:12:07 frantzen Exp $
d217 1
a217 1
file	dev/ic/mtd803.c		mtd
@


1.9
log
@Merge import of OpenBSD source, ports and XF4 tree.

While here,
o clean up differences where possible
o whitespace cleanup
o ifdef ./. if defined()
o '...' ./. "..."
o echo foo > bar ./. echo foo >bar
o `...` ./. $(...) ./. $$(...)
o `...' ./. '...'
o modernize "our" tree, e.g. WWW in ports
o fix some typos and brainos introduced when renaming OpenBSD to MirBSD
o use hardware 80387 by default
o migrate Apache 1.3.28 OpenBSD ./. MirBSD ./. KAME
o work around as many CVS bugs as possible (add back/delete files, ...)

Synchronize stuff, ready for ongoing changes.
@
text
@d1 1
a1 1
#	$MirBSD: files,v 1.8 2003/08/17 18:28:24 tg Exp $
d279 2
a280 1
device	lpt: ifnet, ether #, arp	# XXX - "ifnet, ether, arp" only if opti on PLIP
d971 1
a971 1
pseudo-device irip:         isdndev, ifnet      
@


1.8
log
@merge OpenBSD
@
text
@d1 2
a2 2
#	$MirBSD: files,v 1.7 2003/07/26 16:08:11 tg Exp $
#	$OpenBSD: files,v 1.277 2003/08/15 23:01:01 fgsch Exp $
d215 4
d381 1
@


1.7
log
@merge CVS; fix here and there a bit
@
text
@d1 2
a2 2
#	$MirBSD: files,v 1.6 2003/05/22 14:08:28 tg Exp $
#	$OpenBSD: files,v 1.275 2003/07/24 08:03:19 itojun Exp $
d77 4
d111 1
a111 1
device	ahc: scsi
a113 1
file	dev/ic/smc93cx6.c		ahc
d839 1
@


1.6
log
@merge CVS import stuff
@
text
@d1 2
a2 2
#	$MirBSD: files,v 1.5 2003/05/05 19:20:30 tg Exp $
#	$OpenBSD: files,v 1.273 2003/05/20 03:05:42 tedu Exp $
d631 1
a631 1
file net/if_ethersubr.c			ether | fddi | token	needs-flag
d677 1
a677 1
file netinet/if_ether.c			ether
d710 1
@


1.5
log
@merge last cvs import conflicts

TODO:
 - sync the various files
 - make a kernel that can build the new W^X
   (i.e. temporarily disable the old W^X)
 - build new kernel, binutils, ld.so, userland
 - import new flag day change
 - build new binutils, ld.so, userland, kernel

includes:
CVSROOT:        /cvs
Module name:    src
Changes by:     drahn@@cvs.openbsd.org   2003/04/28 15:32:08

Modified files:
        lib/libc/sys   : mquery.c
        libexec/ld.so  : library_mquery.c
        libexec/ld.so/i386: archdep.h
        sys/kern       : syscalls.master
        sys/sys        : mman.h
        sys/uvm        : uvm_mmap.c

Log message:
Change mquery() function call signature to be the same a mmap(). It
needs the prot/flags info and passing the addresses via arg/return allows
it to be traced via ktrace better than an in/out paramter.
This adds a new mquery syscall and renames the old one to omquery.
New kernel _MUST_ be built, booted, and 'make includes' before building
ld.so with this change.
@
text
@d1 2
a2 2
#	$MirBSD: files,v 1.4 2003/04/15 18:57:42 tg Exp $
#	$OpenBSD: files,v 1.271 2003/04/25 21:24:15 grange Exp $
d313 4
d584 3
a591 1
file miscfs/nullfs/null_subr.c		nullfs
d620 6
@


1.4
log
@pull in PLIP networking support
@
text
@d1 2
a2 2
#	$MirBSD$
#	$OpenBSD: files,v 1.270 2003/03/29 00:51:38 mickey Exp $
d286 4
@


1.3
log
@clean up the cvs import mess

nb, this doesnt mean the tree builds.
its bed time
@
text
@d1 1
d272 1
a272 1
device	lpt
@


1.2
log
@Pull in ISDN support from NetBSD, push out the old
one with the "I require you to send me a postcard"
licence.

This enables building a kernel with ISDN support
(it's just slower and like 200 KiB bigger), but
disables isdnd from userland and needs different
manpages and other fixes from NetBSD.

Also added:
 - support for the callout API from NetBSD, which
   is in fact our stolen new-style timeout API,
   just with a bit more overhead and different names
   for the structure
 - some includes sync with NBSD
 - a shitload of kludges to make ISDN build

This needs security, style and bloat audits fast.
And testing.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.269 2003/02/24 01:17:36 deraadt Exp $
d175 1
a175 1
file	dev/ic/osiop.c			osiop & osiop_gsc
d276 1
a276 1
file	dev/ic/sti.c		sti & (sti_pci | sti_sgc)	needs-flag
@


1.1
log
@Initial revision
@
text
@d904 71
@


1.1.1.1
log
@Import OpenBSD 3.3 source repository from CTM 3132 the first time
This opens an OpenBSD-mirabile (aka MirBSD) repository.

### MirBSD is:
# Copyright (c) 1982-2003 by Thorsten "mirabile" Glaser <x86@@ePost.de>
# Copyright  1968-2003  The authors of And contributors to UNIX, the
#       C Language, BSD/Berkeley Unix; 386BSD, NetBSD 1.1 and OpenBSD.
#
# Anyone who obtained a copy of this work is hereby permitted to freely use,
# distribute, modify, merge, sublicence, give away or sell it as long as the
# authors are given due credit and the following notice is retained:
#
# This work is provided "as is", with no explicit or implicit warranty what-
# soever. Use it only at your own risk. In no event may an author or contri-
# butor be held liable for any damage, directly or indirectly, that origina-
# ted through or is caused by creation or modification of this work.

MirBSD is my private tree. MirBSD does not differ very much from OpenBSD
and intentionally tracks OpenBSD. That's why it _is_ OpenBSD, just not the
official one. It's like with DarrenBSD.

At time of this writing, no advertising for MirBSD must be done,
because the advertising clause has not yet been sorted out.

http://templeofhate.com/tglaser/MirBSD/index.php
@
text
@@


1.1.1.2
log
@Import OpenBSD cvs as of roughly 11:11 UTC today,
or CTM delta 3188/3189/3190.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.270 2003/03/29 00:51:38 mickey Exp $
d175 1
a175 1
file	dev/ic/osiop.c			osiop & (osiop_gsc | osiop_eisa)
d276 1
a276 1
file	dev/ic/sti.c		sti & (sti_pci | sti_sgc | sti_phantom)
@


1.1.1.3
log
@Import OpenBSD cvs as of now, CTM delta 3255, just before the i386 flag day
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.271 2003/04/25 21:24:15 grange Exp $
a284 4

# National Semiconductor LM7[89] and compatible hardware monitors
device	lm
file	dev/ic/nslm7x.c		lm
@


1.1.1.4
log
@Sync MirBSD main source tree against OpenBSD-current,
which should be fairly stable after the Hackathon now.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.273 2003/05/20 03:05:42 tedu Exp $
a311 4
# EHCI USB controller
device	ehci: usbus
file	dev/usb/ehci.c			ehci	needs-flag

a578 3
file miscfs/genfs/layer_subr.c		nullfs | umapfs
file miscfs/genfs/layer_vfsops.c	nullfs | umapfs
file miscfs/genfs/layer_vnops.c		nullfs | umapfs
d584 1
a612 6
file ntfs/ntfs_compr.c			ntfs
file ntfs/ntfs_conv.c			ntfs
file ntfs/ntfs_ihash.c			ntfs
file ntfs/ntfs_subr.c			ntfs
file ntfs/ntfs_vfsops.c			ntfs
file ntfs/ntfs_vnops.c			ntfs
@


1.1.1.5
log
@Import latest OpenBSD ports, XFree and source in sync
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.275 2003/07/24 08:03:19 itojun Exp $
d630 1
a630 1
file net/if_ethersubr.c			ether | inet | fddi | token needs-flag
d676 1
a676 1
file netinet/if_ether.c			ether | inet
a708 1
file crypto/sha2.c			(inet & ipsec) | crypto
@


1.1.1.6
log
@Import OpenBSD source tree from CVS (anoncvs canada)
of roughly 12:00 UTC today. Bumps us to OpenBSD 3.4
and makes source/ports in sync. Hopefully.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.277 2003/08/15 23:01:01 fgsch Exp $
a75 4
# SMC 93Cx6 Serial EEPROM devices
define	smc93cx6
file	dev/ic/smc93cx6.c		smc93cx6

d106 1
a106 1
device	ahc: scsi, smc93cx6
d109 1
a834 1
file xfs/xfs_node.c			xfs
@


1.1.1.7
log
@Synchronize with OpenBSD 3.4-beta
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.279 2003/08/21 19:12:07 frantzen Exp $
a213 4
# Myson MTD803
device	mtd: ether, ifnet, ifmedia, mii
file	dev/ic/mtd803.c		mtd

a375 1
file	net/pf_osfp.c		pf
@


1.1.1.8
log
@Import some pieces of OpenBSD changes I unbedingtly wanted to have
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.280 2003/09/26 00:19:23 mickey Exp $
d216 1
a216 1
file	dev/ic/mtd8xx.c		mtd
@


1.1.1.9
log
@Import OpenBSD source tree again, with critical bug fixes
(OpenSSL, bc, dc, sensorsd, pf, ...)
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.281 2003/10/01 21:41:05 itojun Exp $
a905 1
file netinet6/ip6_id.c			inet6
@


1.1.1.10
log
@Time to import OpenBSD once again. Expect breakage.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.284 2003/12/12 20:05:45 cedric Exp $
a362 1
pseudo-device carp: ifnet, ether
a380 1
file	net/pf_if.c		pf
a712 1
file netinet/ip_carp.c			carp			needs-count
a729 1
file crypto/arc4.c			wi
@


1.1.1.11
log
@Import OpenBSD again, for various reasons.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.286 2003/12/28 17:16:28 tedu Exp $
a112 1
file	dev/ic/aic7xxx_seeprom.c	ahc
a533 1
file kern/kern_rwlock.c
a823 1
file ufs/ufs/ufs_dirhash.c		ufs_dirhash & (ffs | mfs)
@


1.1.1.12
log
@Import OpenBSD as of today again (seems pretty stable, I hope)

Prominent changes: more bgpd, tcpmd5; tcpdump/isakmpd fixes
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.288 2004/01/07 21:30:59 markus Exp $
a56 1
define	wlan
d546 1
a546 1
file kern/kern_watchdog.c		!small_kernel
a667 1
file net/if_ieee80211subr.c		wlan
d735 1
a735 1
file crypto/arc4.c			wi | wlan
@


1.1.1.13
log
@large-scale import of OpenBSD 3.5-current source base including many fixes
note: from now, we will not be binary compatible with OpenBSD apps any
longer (due to syscall numbering differences); both an OpenBSD compat and
a conversion tool for old MirOS #7 apps will be delivered later.

The src/ tree is locked from now.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.296 2004/05/07 18:13:00 miod Exp $
a160 7
# LSILogic Fusion-MPT I/O Processor SCSI/FC Controllers
#
device  mpt: scsi
file    dev/ic/mpt.c			mpt
file    dev/ic/mpt_debug.c		mpt
file    dev/ic/mpt_openbsd.c		mpt

d178 1
a178 1
# Symbios/NCR 53c710 SCSI controllers
d180 1
a180 5
file	dev/ic/osiop.c			osiop & (osiop_gsc | osiop_eisa | osiop_pcctwo)

# Symbios/NCR 53c700 SCSI controllers
device	oosiop: scsi
file	dev/ic/oosiop.c			oosiop & (oosiop_gsc)
d257 1
a257 1
file	dev/ic/com.c		com & (com_isa | com_isapnp | com_commulti | com_pcmcia | com_pica | com_algor | com_gsc | com_puc | com_ebus | com_dino) needs-flag
a660 1
file net/radix_mpath.c			!small_kernel
a721 1
file crypto/md5.c
d723 1
a723 1
file crypto/sha1.c			(inet & ipsec) | crypto | carp
d870 1
a870 1
#file uvm/uvm_loan.c
d886 15
a900 1
# IPv6
a905 1
file netinet6/in6_pcb.c			inet6
d909 1
d926 7
@


1.1.1.14
log
@tedu@@cvs.openbsd.org    2004/05/27 14:48:46
make acct(2) optional with ACCOUNTING
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.299 2004/05/27 20:48:46 tedu Exp $
a403 3
pseudo-device hotplug
file	dev/hotplug.c		hotplug	needs-flag

d534 1
a534 1
file kern/kern_acct.c			accounting
a606 1
file miscfs/genfs/genfs_vnops.c
@


1.1.1.15
log
@that was too much
@
text
@d404 3
d610 1
@


1.1.1.16
log
@* bpf interface cloning
* kernel PPPoE (kernel part)
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.321 2004/11/28 23:39:45 canacar Exp $
a402 4

pseudo-device pppoe: ifnet, ether, sppp
file 	net/if_pppoe.c		pppoe	needs-flag

@


