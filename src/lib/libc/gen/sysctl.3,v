head	1.11;
access;
symbols
	tg-mergetmp-mirosx-1:1.11
	tg-mergefixes-1-branch:1.11.0.4
	tg-mergefixes-1-base:1.11
	MIROS_X:1.11.0.2
	MIROS_X_BASE:1.11
	tg-mergetmp-3:1.11
	cvs-200412031430:1.1.1.12
	MIRBSD_XP_MIRPPC:1.10.0.4
	cvs-200410252005:1.1.1.12
	MIRBSD_XP_SPARC_BASE:1.10
	MIRBSD_XP_SPARC:1.10.0.2
	cvs-200406230735:1.1.1.11
	MIRBSD_7quater:1.1.1.6
	cvs-200405160640:1.1.1.10
	cvs-200402042200:1.1.1.9
	cvs-200401271800:1.1.1.8
	cvs-200401261630:1.1.1.8
	cvs-200401021645:1.1.1.7
	MIRBSD_7_ALPHA:1.1.1.6.0.6
	MIRBSD_7:1.1.1.6.0.4
	cvs-200312222040:1.1.1.7
	MIRBSD_7ter:1.1.1.6
	MIRBSD_7_DEV:1.1.1.6.0.2
	cvs-200310020700:1.1.1.6
	cvs-200309271030:1.1.1.6
	cvs-200309261655:1.1.1.6
	cvs-200309251530:1.1.1.6
	cvs-200308302005:1.1.1.5
	cvs-200308171200:1.1.1.5
	ctm-3496:1.1.1.5
	ctm-3449:1.1.1.4
	ctm-3437:1.1.1.4
	cvs-200307191805:1.1.1.4
	ctm-3425:1.1.1.4
	cvs-200307091500:1.1.1.4
	ctm-3389:1.1.1.4
	cvs-200306291430:1.1.1.4
	ctm-3341:1.1.1.3
	MIRBSD_5:1.1.1.3
	cvs-200306082100:1.1.1.3
	ctm-3316:1.1.1.3
	ctm-3272:1.1.1.2
	ctm-3264:1.1.1.2
	cvs-200305071630:1.1.1.2
	ctm-3255:1.1.1.2
	ctm-3229:1.1.1.1
	MIRBSD_4:1.1.1.1
	ctm-3203:1.1.1.1
	cvs-20030410-1130:1.1.1.1
	ctm-3155:1.1.1.1
	ctm-3132:1.1.1.1
	openbsd:1.1.1;
locks; strict;
comment	@.\" @;


1.11
date	2004.10.26.20.30.25;	author tg;	state Exp;
branches;
next	1.10;

1.10
date	2004.06.23.08.24.30;	author tg;	state Stab;
branches;
next	1.9;

1.9
date	2004.06.16.21.06.35;	author tg;	state Exp;
branches;
next	1.8;

1.8
date	2004.05.23.16.49.15;	author tg;	state Exp;
branches;
next	1.7;

1.7
date	2004.04.29.18.43.38;	author tg;	state Exp;
branches;
next	1.6;

1.6
date	2004.04.26.20.59.54;	author tg;	state Exp;
branches;
next	1.5;

1.5
date	2004.02.04.22.16.02;	author tg;	state Exp;
branches;
next	1.4;

1.4
date	2004.01.27.17.41.54;	author tg;	state Exp;
branches;
next	1.3;

1.3
date	2003.12.26.23.08.46;	author tg;	state Exp;
branches;
next	1.2;

1.2
date	2003.10.26.22.19.07;	author tg;	state Exp;
branches;
next	1.1;

1.1
date	2003.03.22.17.46.18;	author tg;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2003.03.22.17.46.18;	author tg;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	2003.05.05.20.55.28;	author tg;	state Exp;
branches;
next	1.1.1.3;

1.1.1.3
date	2003.06.05.17.24.32;	author tg;	state Exp;
branches;
next	1.1.1.4;

1.1.1.4
date	2003.06.29.17.22.12;	author tg;	state Exp;
branches;
next	1.1.1.5;

1.1.1.5
date	2003.08.11.18.21.59;	author tg;	state Exp;
branches;
next	1.1.1.6;

1.1.1.6
date	2003.09.25.16.28.57;	author tg;	state Exp;
branches
	1.1.1.6.2.1;
next	1.1.1.7;

1.1.1.7
date	2003.12.22.21.06.19;	author tg;	state Exp;
branches;
next	1.1.1.8;

1.1.1.8
date	2004.01.26.18.19.25;	author tg;	state Exp;
branches;
next	1.1.1.9;

1.1.1.9
date	2004.02.04.22.04.38;	author tg;	state Exp;
branches;
next	1.1.1.10;

1.1.1.10
date	2004.05.16.09.18.02;	author tg;	state Exp;
branches;
next	1.1.1.11;

1.1.1.11
date	2004.06.23.07.41.00;	author tg;	state Exp;
branches;
next	1.1.1.12;

1.1.1.12
date	2004.10.26.20.07.13;	author tg;	state Exp;
branches;
next	;

1.1.1.6.2.1
date	2003.11.30.22.42.41;	author wbx;	state Exp;
branches;
next	;


desc
@@


1.11
log
@merge
while here, nuke domainname fns and add compat_openbsd(8) to sysctl(3)
@
text
@.\"	$MirBSD$
.\"	$OpenBSD: sysctl.3,v 1.140 2004/07/28 17:15:12 tholo Exp $
.\"
.\" Copyright (c) 1993
.\"	The Regents of the University of California.  All rights reserved.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\" 3. Neither the name of the University nor the names of its contributors
.\"    may be used to endorse or promote products derived from this software
.\"    without specific prior written permission.
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS'' AND
.\" ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
.\" IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
.\" ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE
.\" FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
.\" DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
.\" OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
.\" HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
.\" LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
.\" OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
.\" SUCH DAMAGE.
.\"
.Dd June 4, 1993
.Dt SYSCTL 3
.Os
.Sh NAME
.Nm sysctl
.Nd get or set system information
.Sh SYNOPSIS
.Fd #include <sys/param.h>
.Fd #include <sys/sysctl.h>
.Ft int
.Fn sysctl "int *name" "u_int namelen" "void *oldp" "size_t *oldlenp" "void *newp" "size_t newlen"
.Sh DESCRIPTION
The
.Fn sysctl
function retrieves system information and allows processes with
appropriate privileges to set system information.
The information available from
.Fn sysctl
consists of integers, strings, and tables.
Information may be retrieved and set from the command interface
using the
.Xr sysctl 8
utility.
.Pp
Unless explicitly noted below,
.Fn sysctl
returns a consistent snapshot of the data requested.
Consistency is obtained by locking the destination
buffer into memory so that the data may be copied out without blocking.
Calls to
.Fn sysctl
are serialized to avoid deadlock.
.Pp
The state is described using a
.Dq Management Information Base (MIB)
style name, listed in
.Fa name ,
which is a
.Fa namelen
length array of integers.
.Pp
The information is copied into the buffer specified by
.Fa oldp .
The size of the buffer is given by the location specified by
.Fa oldlenp
before the call,
and that location gives the amount of data copied after a successful call.
If the amount of data available is greater
than the size of the buffer supplied,
the call supplies as much data as fits in the buffer provided
and returns with the error code
.Er ENOMEM .
If the old value is not desired,
.Fa oldp
and
.Fa oldlenp
should be set to
.Dv NULL .
.Pp
The size of the available data can be determined by calling
.Fn sysctl
with a
.Dv NULL
parameter for
.Fa oldp .
The size of the available data will be returned in the location pointed to by
.Fa oldlenp .
For some operations, the amount of space may change often.
For these operations,
the system attempts to round up so that the returned size is
large enough for a call to return the data shortly thereafter.
.Pp
To set a new value,
.Fa newp
is set to point to a buffer of length
.Fa newlen
from which the requested value is to be taken.
If a new value is not to be set,
.Fa newp
should be set to
.Dv NULL
and
.Fa newlen
set to 0.
.Pp
The top level names are defined with a
.Dv CTL_
prefix in
.Aq Pa sys/sysctl.h ,
and are as follows.
The next and subsequent levels down are found in the include files
listed here, and described in separate sections below.
.Bl -column CTLXMACHDEPXXX "Next level namesXXXXXX" -offset indent
.It Sy Name	Next level names	Description
.It Dv CTL_DDB No "	ddb/db_var.h	Kernel debugger"
.It Dv CTL_DEBUG No "	sys/sysctl.h	Debugging"
.It Dv CTL_FS No "	sys/sysctl.h	File system"
.It Dv CTL_HW No "	sys/sysctl.h	Generic CPU, I/O"
.It Dv CTL_KERN No "	sys/sysctl.h	High kernel limits"
.It Dv CTL_MACHDEP No "	sys/sysctl.h	Machine dependent"
.It Dv CTL_NET No "	sys/socket.h	Networking"
.It Dv CTL_USER No "	sys/sysctl.h	User-level"
.It Dv CTL_VFS No "	ufs/ffs/ffs_extern.h	Virtual file system"
.It Dv CTL_VM No "	uvm/uvm_param.h	Virtual memory"
.El
.Pp
For example, the following retrieves the maximum number of processes allowed
in the system:
.Bd -literal -offset indent
int mib[2], maxproc;
size_t len;

mib[0] = CTL_KERN;
mib[1] = KERN_MAXPROC;
len = sizeof(maxproc);
sysctl(mib, 2, &maxproc, &len, NULL, 0);
.Ed
.Pp
To retrieve the standard search path for the system utilities:
.Bd -literal -offset indent
int mib[2];
size_t len;
char *p;

mib[0] = CTL_USER;
mib[1] = USER_CS_PATH;
sysctl(mib, 2, NULL, &len, NULL, 0);
p = malloc(len);
sysctl(mib, 2, p, &len, NULL, 0);
.Ed
.Ss CTL_DDB
Integer information and settable variables are available for the
.Dv CTL_DDB level ,
as described below.
More information is also available in
.Xr ddb 4 .
.Bl -column "Second level nameXXXXXX" "struct loadavgXXX" -offset indent
.It Sy Second level name	Type	Changeable
.It Dv DBCTL_CONSOLE No "	integer	yes"
.It Dv DBCTL_LOG No "	integer	yes"
.It Dv DBCTL_MAXLINE No "	integer	yes"
.It Dv DBCTL_MAXWIDTH No "	integer	yes"
.It Dv DBCTL_PANIC No "	integer	yes"
.It Dv DBCTL_RADIX No "	integer	yes"
.It Dv DBCTL_TABSTOP No "	integer	yes"
.El
.Bl -tag -width "123456"
.It Dv DBCTL_CONSOLE
When this variable is set, an architecture dependent magic key sequence
on the console or a debugger button will permit entry into the kernel debugger.
As described in
.Xr securelevel 7 ,
a security level greater than 1 blocks modification of this variable.
.It Dv DBCTL_LOG
When set, ddb output is also logged in the kernel message buffer.
.It Dv DBCTL_MAXLINE
Determines the number of lines to page in
.Xr ddb 4 .
This variable is also available as the ddb
.Dv $lines
variable.
.It Dv DBCTL_MAXWIDTH
Determines the maximum width of a line in
.Xr ddb 4 .
This variable is also available as the ddb
.Dv $maxwidth
variable.
.It Dv DBCTL_PANIC
When this variable is set, system panics may drop into the kernel debugger.
As described in
.Xr securelevel 7 ,
a security level greater than 1 blocks modification of this variable.
.It Dv DBCTL_RADIX
Determines the default radix or base for non-prefixed numbers
entered into
.Xr ddb 4 .
This variable is also available as the ddb
.Dv $radix
variable.
.It Dv DBCTL_TABSTOP
Width of a tab stop in
.Xr ddb 4 .
This variable is also available as the ddb
.Dv $tabstops
variable.
.El
.Ss CTL_DEBUG
The debugging variables vary from system to system.
A debugging variable may be added or deleted without need to recompile
.Fn sysctl
to know about it.
Each time it runs,
.Fn sysctl
gets the list of debugging variables from the kernel and
displays their current values.
The system defines twenty
.Li struct ctldebug
variables named
.Va debug0
through
.Va debug19 .
They are declared as separate variables so that they can be
individually initialized at the location of their associated variable.
The loader prevents multiple use of the same variable by issuing errors
if a variable is initialized in more than one place.
For example, to export the variable
.Va dospecialcheck
as a debugging variable, the following declaration would be used:
.Bd -literal -offset indent
int dospecialcheck = 1;
struct ctldebug debug5 = { "dospecialcheck", &dospecialcheck };
.Ed
.Ss CTL_FS
The string and integer information available for the
.Dv CTL_FS
level is detailed below.
The changeable column shows whether a process with appropriate
privileges may change the value.
.Bl -column "Second level nameXXXXXX" integerXXX -offset indent
.It Sy Second level name	Type	Changeable
.It Dv FS_POSIX_SETUID No "	integer	yes"
.El
.Bl -tag -width "123456"
.It Dv FS_POSIX_SETUID
When this variable is set, ownership changes on a file will cause
the
.Va S_ISUID
and
.Va S_ISGID
bits to be cleared.
As detailed in
.Xr securelevel 7 ,
this variable may not be changed if the securelevel is \*(Gt 0.
.El
.Ss CTL_HW
The string and integer information available for the
.Dv CTL_HW
level is detailed below.
The changeable column shows whether a process with appropriate
privileges may change the value.
.Bl -column "Second level nameXXXXXX" integerXXX -offset indent
.It Sy Second level name	Type	Changeable
.It Dv HW_BYTEORDER No "	integer	no"
.It Dv HW_CPUSPEED No "	integer	no"
.It Dv HW_DISKCOUNT No "	integer	no"
.It Dv HW_DISKNAMES No "	string	no"
.It Dv HW_DISKSTATS No "	struct	no"
.It Dv HW_MACHINE No "	string	no"
.It Dv HW_MODEL No "	string	no"
.It Dv HW_NCPU No "	integer	no"
.It Dv HW_PAGESIZE No "	integer	no"
.It Dv HW_PHYSMEM No "	integer	no"
.It Dv HW_SENSORS No "	struct	no"
.It Dv HW_SETPERF No "	integer	yes"
.It Dv HW_USERMEM No "	integer	no"
.El
.Bl -tag -width "123456"
.It Dv HW_BYTEORDER
The byteorder (4321 or 1234).
.It Dv HW_CPUSPEED
The current CPU frequency
.Pq in MHz .
.It Dv HW_DISKCOUNT
The number of disks currently attached to the system.
.It Dv HW_DISKNAMES
A comma-separated list of disk names.
.It Dv HW_DISKSTATS
An array of
.Li struct diskstats
structures containing disk statistics.
.It Dv HW_MACHINE
The machine class.
.It Dv HW_MODEL
The machine model.
.It Dv HW_NCPU
The number of CPUs.
.It Dv HW_PAGESIZE
The software page size.
.It Dv HW_PHYSMEM
The bytes of physical memory.
.It Dv HW_SENSORS
An array of
.Li struct sensor
structures containing information from the hardware monitoring sensors.
.It Dv HW_SETPERF
Current CPU performance
.Pq percentage .
.It Dv HW_USERMEM
The bytes of non-kernel memory.
.El
.Ss CTL_KERN
The string and integer information available for the
.Dv CTL_KERN
level is detailed below.
The changeable column shows whether a process with appropriate
privileges may change the value.
The types of data currently available are process information,
system vnodes, the open file entries, routing table entries,
virtual memory statistics, load average history, and clock rate
information.
.Bl -column "KERNXCRYPTODEVALLOWSOFTXXX" "struct clockrateXXX" -offset indent
.It Sy Second level name	Type	Changeable
.It Dv KERN_ALLOWPSA No "	integer	yes"
.It Dv KERN_ALLOWPSE No "	integer	yes"
.It Dv KERN_ARGMAX No "	integer	no"
.It Dv KERN_ARND No "	integer	yes"
.It Dv KERN_BOOTTIME No "	struct timeval	no"
.It Dv KERN_CCPU No "	integer	no"
.It Dv KERN_CLOCKRATE No "	struct clockinfo	no"
.It Dv KERN_CPTIME No "	long[CPUSTATES]	no"
.It Dv KERN_CRYPTODEVALLOWSOFT No "	integer	yes"
.It Dv KERN_DOMAINNAME No "	string	yes"
.It Dv KERN_EMUL No "	node	not applicable"
.It Dv KERN_EMULUNAME No "	string	yes"
.It Dv KERN_FILE No "	struct file	no"
.It Dv KERN_FORKSTAT No "	struct forkstat	no"
.It Dv KERN_FSCALE No "	integer	no"
.It Dv KERN_FSYNC No "	integer	no"
.It Dv KERN_HOSTID No "	integer	yes"
.It Dv KERN_HOSTNAME No "	string	yes"
.It Dv KERN_INTRCNT No "	node	not applicable"
.It Dv KERN_JOB_CONTROL No "	integer	no"
.It Dv KERN_MALLOCSTATS No "	node	no"
.It Dv KERN_MAXCLUSTERS No "	integer	yes"
.It Dv KERN_MAXFILES No "	integer	yes"
.It Dv KERN_MAXPARTITIONS No "	integer	no"
.It Dv KERN_MAXPROC No "	integer	yes"
.It Dv KERN_MAXVNODES No "	integer	yes"
.It Dv KERN_MBSTAT No "	struct mbstat	no"
.It Dv KERN_MSGBUF No "	char[]	no"
.It Dv KERN_MSGBUFSIZE No "	integer	no"
.It Dv KERN_NCHSTATS No "	struct nchstats	no"
.It Dv KERN_NFILES No "	integer	no"
.It Dv KERN_NGROUPS No "	integer	no"
.It Dv KERN_NOSUIDCOREDUMP No "	integer	yes"
.It Dv KERN_NPROCS No "	integer	no"
.It Dv KERN_NSELCOLL No "	integer	no"
.It Dv KERN_NUMVNODES No "	integer	no"
.It Dv KERN_OSRELEASE No "	string	no"
.It Dv KERN_OSREV No "	integer	no"
.It Dv KERN_OSTYPE No "	string	no"
.It Dv KERN_OSVERSION No "	string	no"
.It Dv KERN_POSIX1 No "	integer	no"
.It Dv KERN_PROC No "	struct kinfo_proc	no"
.It Dv KERN_PROC2 No "	struct kinfo_proc2	no"
.It Dv KERN_PROC_ARGS No "	node	not applicable"
.It Dv KERN_PROF No "	node	not applicable"
.It Dv KERN_PUSHRAND No "	integer	yes"
.It Dv KERN_RAWPARTITION No "	integer	no"
.It Dv KERN_RND No "	struct rndstats	no"
.It Dv KERN_SAVED_IDS No "	integer	no"
.It Dv KERN_SECURELVL No "	integer	raise only"
.It Dv KERN_SEMINFO No "	node	not applicable"
.It Dv KERN_SHMINFO No "	node	not applicable"
.It Dv KERN_SOMAXCONN No "	integer	yes"
.It Dv KERN_SOMINCONN No "	integer	yes"
.It Dv KERN_SPLASSERT No "	int	yes"
.It Dv KERN_STACKGAPRANDOM No "	integer	yes"
.It Dv KERN_SYSVIPC_INFO No "	node	not applicable"
.It Dv KERN_SYSVMSG No "	integer	no"
.It Dv KERN_SYSVSEM No "	integer	no"
.It Dv KERN_SYSVSHM No "	integer	no"
.It Dv KERN_TIMECOUNTER No "	node	not applicable"
.It Dv KERN_TTY No "	node	not applicable"
.It Dv KERN_TTYCOUNT No "	integer	no"
.It Dv KERN_USERASYMCRYPTO No "	integer	yes"
.It Dv KERN_USERCRYPTO No "	integer	yes"
.It Dv KERN_USERMOUNT No "	integer	yes"
.It Dv KERN_VERSION No "	string	no"
.It Dv KERN_VNODE No "	struct vnode	no"
.It Dv KERN_WATCHDOG No "	node	not applicable"
.El
.Bl -tag -width "123456"
.It Dv KERN_ALLOWPSA
If 0, users are not allowed to view processes of
other users, for example with the
.Fl a
option to
.Xr ps 1 .
.It Dv KERN_ALLOWPSE
If 0, users are not allowed to view the environment of processes of
other users, for example with the
.Fl e
option to
.Xr ps 1 .
.It Dv KERN_ARGMAX
The maximum bytes of argument to
.Xr exec 3 .
.It Dv KERN_ARND
Returns a random integer from the kernel
.Fn arc4random
function.
This can be useful if
.Pa /dev/arandom
is not available (see
.Xr random 4 ) .
This sysctl is writable since
.Mx 8 .
.It Dv KERN_BOOTTIME
A
.Li struct timeval
structure is returned.
This structure contains the time that the system was booted.
.It Dv KERN_CCPU
The scheduler exponential decay value.
.It Dv KERN_CLOCKRATE
A
.Li struct clockinfo
structure is returned.
This structure contains the clock, statistics clock and profiling clock
frequencies, the number of micro-seconds per hz tick, and the clock
skew rate.
.It Dv KERN_CPTIME
An array of longs of size
.Li CPUSTATES
is returned, containing statistics about the number of ticks spent by
the system in interrupt processing, user processes (niced or normal),
system processing, or idling.
.It Dv KERN_CRYPTODEVALLOWSOFT
Permits userland to use
.Pa /dev/crypto
even if there is no hardware crypto accelerator in the system.
.It Dv KERN_DOMAINNAME
Get or set the domain name.
.It Dv KERN_EMUL
Enable binary emulation.
.Bl -column "KERN_EMUL_FREEBSD" "string" -offset indent
.It Sy Third level name	Type	Changeable
.It Dv KERN_EMUL_ENABLED No "	integer	yes"
.It Dv KERN_EMUL_NAME No "	string	no"
.It Dv KERN_EMUL_NEMULS No "	integer	no"
.El
.Pp
Third level names in
.Dv KERN_EMUL
other than
.Dv KERN_EMUL_NEMULS
refer to a specific emulation available in the kernel.
Valid values range from 1 to the return value of
.Dv KERN_EMUL_NEMULS .
The fourth level names available are
.Dv KERN_EMUL_NAME ,
which returns a string with the emulation name, and
.Dv KERN_EMUL_ENABLED ,
which is an adjustable integer.
.Pp
Note that using this interface exposes duplicate entries which are
consolidated by the userland frontend.
.It Dv KERN_EMULUNAME
Sets the
.Dv ostype
value the
.Xr uname 3
call returns for applications executed in the linuxulator.
.It Dv KERN_FILE
Return the entire file table.
The returned data consists of a single
.Li struct filehead
followed by an array of
.Li struct file ,
whose size depends on the current number of such objects in the system.
.It Dv KERN_FORKSTAT
A
.Li struct forkstat
structure is returned.
This structure contains information about the number of
.Xr fork 2 ,
.Xr vfork 2 ,
and
.Xr rfork 2
system calls as well as kernel thread creations since system startup,
and the number of pages of virtual memory involved in each.
.It Dv KERN_FSCALE
The kernel fixed-point scale factor.
.It Dv KERN_FSYNC
Return 1 if the File Synchronisation Option is available on this system,
otherwise 0.
.It Dv KERN_HOSTID
Get or set the host ID.
.It Dv KERN_HOSTNAME
Get or set the hostname.
.It Dv KERN_JOB_CONTROL
Return 1 if job control is available on this system, otherwise 0.
.It Dv KERN_MALLOCSTATS
Return kernel memory bucket statistics.
The third level names are detailed below.
There are no changeable values in this branch.
.Bl -column "KERN_MALLOC_KMEMNAMES" "string" -offset indent
.It Sy Third level name		Type
.It Dv KERN_MALLOC_BUCKET No "		node"
.It Dv KERN_MALLOC_BUCKETS No "		string"
.It Dv KERN_MALLOC_KMEMNAMES No "		string"
.It Dv KERN_MALLOC_KMEMSTATS No "		node"
.El
.Pp
The variables are as follows:
.Bl -tag -width "123456"
.It Dv KERN_MALLOC_BUCKET.\*(Ltsize\*(Gt
A node containing the statistics for the memory bucket of the
specified size (in decimal notation, the number of bytes per bucket
element, e.g., 16, 32, 128).
Each node returns a
.Li struct kmembuckets .
.Pp
If a value is specified that does not correspond directly to a
bucket size, the statistics for the closest larger bucket size will be
returned instead.
.Pp
Note that bucket sizes are typically powers of 2.
.It Dv KERN_MALLOC_BUCKETS
Return a comma-separated list of the bucket sizes used by the kernel.
.It Dv KERN_MALLOC_KMEMNAMES
Return a comma-separated list of the names of the kernel
.Xr malloc 9
types.
.It Dv KERN_MALLOC_KMEMSTATS
A node containing the statistics for the memory types of the specified
name.
Each node returns a
.Li struct kmemstats .
.El
.It Dv KERN_MAXCLUSTERS
The maximum number of
.Xr mbuf 9
clusters that may be allocated.
.It Dv KERN_MAXFILES
The maximum number of open files that may be open in the system.
.It Dv KERN_MAXPARTITIONS
The maximum number of partitions allowed per disk.
.It Dv KERN_MAXPROC
The maximum number of simultaneous processes the system will allow.
.It Dv KERN_MAXVNODES
The maximum number of vnodes available on the system.
.It Dv KERN_MBSTAT
A
.Li struct mbstat
structure is returned, containing statistics on
.Xr mbuf 9
usage.
.It Dv KERN_MSGBUF
Returns a buffer containing kernel log messages.
.It Dv KERN_MSGBUFSIZE
The size of the kernel message buffer.
.It Dv KERN_NCHSTATS
A
.Li struct nchstats
structure is returned.
This structure contains information about the
filename to
.Xr inode 5
mapping cache.
.It Dv KERN_NFILES
Number of open files.
.It Dv KERN_NGROUPS
The maximum number of supplemental groups.
.It Dv KERN_NOSUIDCOREDUMP
Programs with their set-user-ID bit set will not dump core when this is set.
.It Dv KERN_NPROCS
The number of entries in the kernel process table.
.It Dv KERN_NSELCOLL
Number of
.Xr select 2
collisions.
.It Dv KERN_NUMVNODES
Number of vnodes in use.
.It Dv KERN_OSRELEASE
The system release string.
.It Dv KERN_OSREV
The system revision number.
.It Dv KERN_OSTYPE
The system type string.
.It Dv KERN_OSVERSION
The kernel build version.
.It Dv KERN_POSIX1
The version of ISO/IEC 9945 (POSIX 1003.1) with which the system
attempts to comply.
.It Dv KERN_PROC
Return the entire process table, or a subset of it.
An array of
.Li struct kinfo_proc
structures is returned,
whose size depends on the current number of such objects in the system.
The third and fourth level names are as follows:
.Bl -column "Third level nameXXXXXX" "Fourth level is:XXXXXX" -offset indent
.It Sy Third level name	Fourth level is:
.It Dv KERN_PROC_ALL No "	None"
.It Dv KERN_PROC_KTHREAD No "	A kernel thread"
.It Dv KERN_PROC_PID No "	A process ID"
.It Dv KERN_PROC_PGRP No "	A process group"
.It Dv KERN_PROC_RUID No "	A real user ID"
.It Dv KERN_PROC_SESSION No "	A session PID"
.It Dv KERN_PROC_TTY No "	A tty device"
.It Dv KERN_PROC_UID No "	A user ID"
.El
.It Dv KERN_PROC2
Like
.Dv KERN_PROC
but an array of
.Li struct kinfo_proc2
structures is returned.
The fifth level name is the size of the
.Li struct kinfo_proc2
and the sixth level name is the number of structures to return.
.It Dv KERN_PROC_ARGS
Returns the arguments or environment of a process.
The third level name is the PID of the process.
The fourth level name is one of:
.Bl -column KERN_PROC_NARGVXXX -offset indent
.It Dv KERN_PROC_ARGV
.It Dv KERN_PROC_ENV
.It Dv KERN_PROC_NARGV
.It Dv KERN_PROC_NENV
.El
.Pp
.Dv KERN_PROC_NARGV
and
.Dv KERN_PROC_NENV
return the number of elements in the argv or env array.
.Dv KERN_PROC_ARGV
returns the argv array and
.Dv KERN_PROC_ENV
returns the environ array.
.It Dv KERN_PROF
Return profiling information about the kernel.
If the kernel is not compiled for profiling,
attempts to retrieve any of the
.Dv KERN_PROF
values will fail with
.Er EOPNOTSUPP .
The third level names for the string and integer profiling information
is detailed below.
The changeable column shows whether a process with appropriate
privileges may change the value.
.Bl -column "GPROFXGMONPARAMXXX" "struct gmonparamXXX" -offset indent
.It Sy Third level name	Type	Changeable
.It Dv GPROF_COUNT No "	u_short[]	yes"
.It Dv GPROF_FROMS No "	u_short[]	yes"
.It Dv GPROF_GMONPARAM No "	struct gmonparam	no"
.It Dv GPROF_STATE No "	integer	yes"
.It Dv GPROF_TOS No "	struct tostruct	yes"
.El
.Pp
The variables are as follows:
.Bl -tag -width "123456"
.It Dv GPROF_COUNT
Array of statistical program counter counts.
.It Dv GPROF_FROMS
Array indexed by program counter of call-from points.
.It Dv GPROF_GMONPARAM
Structure giving the sizes of the above arrays.
.It Dv GPROF_STATE
Returns
.Dv GMON_PROF_ON
or
.Dv GMON_PROF_OFF
to show that profiling is running or stopped.
.It Dv GPROF_TOS
Array of
.Li struct tostruct
describing destination of calls and their counts.
.El
.It Dv KERN_PUSHRAND
If set to 0, disallow userland randomness push into kernel,
as well as using the randomness from FFS filesystems and
the IP/TCP/UDP checksums.
If set to 1 (default), all these are enabled.
.It Dv KERN_RAWPARTITION
The raw partition of a disk (a == 0).
.It Dv KERN_RND
Returns statistics about the
.Pa /dev/random
device in a
.Li struct rndstats
structure.
.It Dv KERN_SAVED_IDS
Returns 1 if saved set-group-ID and saved set-user-ID are available.
.It Dv KERN_SECURELVL
The system security level.
This level may be raised by processes with appropriate privileges.
It may only be lowered by process 1.
.It Dv KERN_SEMINFO
Return the elements of
.Li struct seminfo .
If the kernel is not compiled with System V style semaphore support,
attempts to retrieve any of the
.Dv KERN_SEMINFO
values will fail with
.Er EOPNOTSUPP .
The third level names for the elements of
.Li struct seminfo
are detailed below.
The changeable column shows whether a process with appropriate
privileges may change the value.
.Bl -column "KERN_SEMINFO_SEMMNI" "integer" "yes" -offset indent
.It Sy "Third level name"	Type	Changeable
.It Dv KERN_SEMINFO_SEMAEM No "	integer	no"
.It Dv KERN_SEMINFO_SEMMNI No "	integer	yes"
.It Dv KERN_SEMINFO_SEMMNS No "	integer	yes"
.It Dv KERN_SEMINFO_SEMMNU No "	integer	yes"
.It Dv KERN_SEMINFO_SEMMSL No "	integer	yes"
.It Dv KERN_SEMINFO_SEMOPM No "	integer	yes"
.It Dv KERN_SEMINFO_SEMUME No "	integer	no"
.It Dv KERN_SEMINFO_SEMUSZ No "	integer	no"
.It Dv KERN_SEMINFO_SEMVMX No "	integer	no"
.El
.Pp
The variables are as follows:
.Bl -tag -width "123456"
.It Dv KERN_SEMINFO_SEMAEM
The adjust on exit maximum value.
.It Dv KERN_SEMINFO_SEMMNI
The maximum number of semaphore identifiers allowed.
.It Dv KERN_SEMINFO_SEMMNS
The maximum number of semaphores allowed in the system.
.It Dv KERN_SEMINFO_SEMMNU
The maximum number of semaphore undo structures allowed in the system.
.It Dv KERN_SEMINFO_SEMMSL
The maximum number of semaphores allowed per ID.
.It Dv KERN_SEMINFO_SEMOPM
The maximum number of operations per
.Xr semop 2
call.
.It Dv KERN_SEMINFO_SEMUME
The maximum number of undo entries per process.
.It Dv KERN_SEMINFO_SEMUSZ
The size (in bytes) of the undo structure.
.It Dv KERN_SEMINFO_SEMVMX
The semaphore maximum value.
.El
.It Dv KERN_SHMINFO
Return the elements of
.Li struct shminfo .
If the kernel is not compiled with System V style shared memory support,
attempts to retrieve any of the
.Dv KERN_SHMINFO
values will fail with
.Er EOPNOTSUPP .
The third level names for the elements of
.Li struct shminfo
are detailed below.
The changeable column shows whether a process with appropriate
privileges may change the value.
.Bl -column "KERN_SHMINFO_SHMMAX" "integer" "yes" -offset indent
.It Sy "Third level name"	Type	Changeable
.It Dv KERN_SHMINFO_SHMALL No "	integer	yes"
.It Dv KERN_SHMINFO_SHMMAX No "	integer	yes"
.It Dv KERN_SHMINFO_SHMMIN No "	integer	yes"
.It Dv KERN_SHMINFO_SHMMNI No "	integer	yes"
.It Dv KERN_SHMINFO_SHMSEG No "	integer	yes"
.El
.Pp
The variables are as follows:
.Bl -tag -width "123456"
.It Dv KERN_SHMINFO_SHMALL
The maximum amount of total shared memory allowed in the system (in pages).
.It Dv KERN_SHMINFO_SHMMAX
The maximum shared memory segment size (in bytes).
.It Dv KERN_SHMINFO_SHMMIN
The minimum shared memory segment size (in bytes).
.It Dv KERN_SHMINFO_SHMMNI
The maximum number of shared memory identifiers in the system.
.It Dv KERN_SHMINFO_SHMSEG
The maximum number of shared memory segments per process.
.El
.It Dv KERN_SOMAXCONN
Upper bound on the number of half-open connections a process can allow
to be associated with a socket, using
.Xr listen 2 .
The default value is 128.
.It Dv KERN_SOMINCONN
Lower bound on the number of half-open connections a process can allow
to be associated with a socket, using
.Xr listen 2 .
The default value is 80.
.It Dv KERN_SPLASSERT
Modify the system interrupt priority level.
Valid values are:
.Pp
.Bl -tag -width 3n -offset indent -compact
.It 0
Disable error checking.
.It 1
Print a message if an error is detected.
.It 2
Print a message if an error is detected,
and a stack trace if possible.
.It 3
The same as 2, but also drop into the kernel debugger.
.El
.Pp
Any other value causes a system panic on errors.
See
.Xr splassert 9
for more information.
.It Dv KERN_STACKGAPRANDOM
Sets the range of the random value added to the stack pointer on each
program execution.
The random value is added to make buffer overflow exploitation slightly
harder.
The bigger the number, the harder it is to brute force this added protection,
but it also means bigger waste of memory.
.It Li KERN_SYSVIPC_INFO
Return System V style IPC configuration and run-time information.
The third level name selects the System V style IPC facility.
.Bl -column "KERN_SYSVIPC_MSG_INFOXXX" "struct shm_sysctl_infoXXX" -offset indent
.It Sy Third level name	Type
.It Dv KERN_SYSVIPC_MSG_INFO No "	struct msg_sysctl_info"
.It Dv KERN_SYSVIPC_SEM_INFO No "	struct sem_sysctl_info"
.It Dv KERN_SYSVIPC_SHM_INFO No "	struct shm_sysctl_info"
.El
.Bl -tag -width "123456"
.It Dv KERN_SYSVIPC_MSG_INFO
Return information on the System V style message facility.
The
.Sy msg_sysctl_info
structure is defined in
.Aq Pa sys/msg.h .
.It Dv KERN_SYSVIPC_SEM_INFO
Return information on the System V style semaphore facility.
The
.Sy sem_sysctl_info
structure is defined in
.Aq Pa sys/sem.h .
.It Dv KERN_SYSVIPC_SHM_INFO
Return information on the System V style shared memory facility.
The
.Sy shm_sysctl_info
structure is defined in
.Aq Pa sys/shm.h .
.El
.It Dv KERN_SYSVMSG
Returns 1 if System V style message queue functionality is available on this
system, otherwise 0.
.It Dv KERN_SYSVSEM
Returns 1 if System V style semaphore functionality is available on this
system, otherwise 0.
.It Dv KERN_SYSVSHM
Returns 1 if System V style share memory functionality is available on this
system, otherwise 0.
.It Dv KERN_TIMECOUNTER
Return statistics information about the kernel time counter.
The third level names information is detailed below.
The changeable column shows whether a process with appropriate
privileges may change the value.
.Bl -column "KERN_TIMECOUNTER_TIMESTEPWARNINGS" "integer" -offset indent
.It Sy Third level name	Type	Changeable
.It Dv KERN_TIMECOUNTER_CHOICE No "	string	no"
.It Dv KERN_TIMECOUNTER_HARDWARE No "	string	yes"
.It Dv KERN_TIMECOUNTER_TICK No "	integer	no"
.It Dv KERN_TIMECOUNTER_TIMESTEPWARNINGS No "	integer	no"
.El
.Pp
The variables are as follows:
.Bl -tag -width "123456"
.It Dv KERN_TIMECOUNTER_CHOICE
Get the list of kernel time counter sources and their claimed
quality (higher is better).
.It Dv KERN_TIMECOUNTER_HARDWARE
Get or set the kernel time counter source by name.
.It Dv KERN_TIMECOUNTER_TICK
Get the number of times we have reset the kernel time counter
information.
.It Dv KERN_TIMECOUNTER_TIMESTEPWARNINGS
Get or set a flag to log a message when the kernel time is
stepped.
.El
.It Dv KERN_TTY
Return statistics information about tty input/output.
The third level names information is detailed below.
The changeable column shows whether a process with appropriate
privileges may change the value.
.Bl -column "KERN_TTY_TKRAWCCXXX" "int64_tXX" -offset indent
.It Sy Third level name	Type	Changeable
.It Dv KERN_TTY_INFO No "	struct itty	no"
.It Dv KERN_TTY_NPTYS No "	integer	no"
.It Dv KERN_TTY_MAXPTYS No "	integer	yes"
.It Dv KERN_TTY_TKCANCC No "	int64_t	no"
.It Dv KERN_TTY_TKNIN No "	int64_t	no"
.It Dv KERN_TTY_TKNOUT No "	int64_t	no"
.It Dv KERN_TTY_TKRAWCC No "	int64_t	no"
.El
.Pp
The variables are as follows:
.Bl -tag -width "123456"
.It Dv KERN_TTY_INFO
Returns an array of
.Li struct itty
structures containing tty statistics.
.It Dv KERN_TTY_MAXPTYS
The maximum number of
.Xr pty 4
devices supported by the kernel.
This is the upper bound on
.Dv KERN_TTY_NPTYS .
.It Dv KERN_TTY_NPTYS
The current number of
.Xr pty 4
devices allocated by the kernel.
.It Dv KERN_TTY_TKCANCC
Returns the number of input characters in canonical mode.
.It Dv KERN_TTY_TKNIN
Returns the number of input characters from a
.Xr tty 4 .
.It Dv KERN_TTY_TKNOUT
Returns the number of output characters on a
.Xr tty 4 .
.It Dv KERN_TTY_TKRAWCC
Returns the number of input characters in raw mode.
.El
.It Dv KERN_TTYCOUNT
Number of available
.Xr tty 4
devices.
.It Dv KERN_USERASYMCRYPTO
Permits userland to use
.Pa /dev/crypto
for cryptographic support for asymmetric (public) key operations via hardware
cryptographic devices.
kern.usercrypto must also be set.
.It Dv KERN_USERCRYPTO
Permits userland to use
.Pa /dev/crypto
for cryptographic support via hardware cryptographic devices.
.It Dv KERN_USERMOUNT
Return non-zero if regular users can issue
.Xr mount 2
requests.
The default value is 0.
.It Dv KERN_VERSION
The system version string.
.It Dv KERN_VNODE
Return the entire vnode table.
Note, the vnode table is not necessarily a consistent snapshot of
the system.
The returned data consists of an array whose size depends on the
current number of such objects in the system.
Each element of the array contains the kernel address of a vnode
.Li struct vnode *
followed by the vnode itself
.Li struct vnode .
.It Dv KERN_WATCHDOG
If the kernel does not support a hardware watchdog timer,
attempts to retrieve or set any of the
.Dv KERN_WATCHDOG
values will fail with
.Er EOPNOTSUPP .
.Bl -column "KERN_WATCHDOG_PERIOD" "integer" "yes" -offset indent
.It Sy "Third level name"	Type	Changeable
.It Dv KERN_WATCHDOG_AUTO No "	integer	yes"
.It Dv KERN_WATCHDOG_PERIOD No "	integer	yes"
.El
.Pp
The variables are as follows:
.Bl -tag -width "123456"
.It Dv KERN_WATCHDOG_AUTO
If set to 1, the kernel refreshes the watchdog timer periodically.
If set to 0, a userland process must ensure that the watchdog timer
gets refreshed by setting the
.Dv KERN_WATCHDOG_PERIOD
variable.
.It Dv KERN_WATCHDOG_PERIOD
The period of the watchdog timer in seconds.
Set to 0 to disable the watchdog timer.
.El
.El
.Ss CTL_MACHDEP
The set of variables defined is architecture dependent.
Most architectures define at least the following variables.
.Bl -column "CONSOLE_DEVICEXXX" "integerXXX" -offset indent
.It Sy Second level name	Type	Changeable
.It Dv CPU_CONSDEV No "	dev_t	no"
.El
.Ss CTL_NET
The string and integer information available for the
.Dv CTL_NET
level is detailed below.
The changeable column shows whether a process with appropriate
privileges may change the value.
.Bl -column "Second level nameXXXXXX" "routing messagesXXX" -offset indent
.It Sy Second level name	Type	Changeable
.It Dv PF_ROUTE No "	routing messages	no"
.It Dv PF_INET No "	IPv4 values	yes"
.It Dv PF_INET6 No "	IPv6 values	yes"
.El
.Bl -tag -width "123456"
.It Dv PF_ROUTE
Return the entire routing table or a subset of it.
The data is returned as a sequence of routing messages (see
.Xr route 4
for the header file, format, and meaning).
The length of each message is contained in the message header.
.Pp
The third level name is a protocol number, which is currently always 0.
The fourth level name is an address family, which may be set to 0 to
select all address families.
The fifth and sixth level names are as follows:
.Bl -column "Fifth level nameXXXXXX" "Sixth level is:XXX" -offset indent
.It Sy Fifth level name	Sixth level is:
.It Dv NET_RT_DUMP No "	None"
.It Dv NET_RT_FLAGS No "	rtflags"
.It Dv NET_RT_IFLIST No "	None"
.El
.It Dv PF_INET
Get or set various global information about IPv4
.Pq Internet Protocol version 4 .
The third level name is the protocol.
The fourth level name is the variable name.
The currently defined protocols and names are:
.Bl -column "Protocol name" "ipsec-soft-bytes " "integer" -offset indent
.It Sy Protocol name	Variable name	Type	Changeable
.It ah	enable	integer	yes
.It bpf	bufsize	integer	yes
.It bpf	maxbufsize	integer	yes
.It carp	allow	integer	yes
.It carp	arpbalance	integer	yes
.It carp	log	integer	yes
.It carp	preempt	integer	yes
.It esp	enable	integer	yes
.It esp	udpencap	integer	yes
.It esp	udpencap_port	integer	yes
.It etherip	allow	integer	yes
.It gre	allow	integer	yes
.It gre	wccp	integer	yes
.It icmp	bmcastecho	integer	yes
.It icmp	errppslimit	integer	yes
.It icmp	maskrepl	integer	yes
.It icmp	rediraccept	integer	yes
.It icmp	redirtimeout	integer	yes
.It icmp	tstamprepl	integer	yes
.It ip	directed-broadcast	integer	yes
.It ip	encdebug	integer	yes
.It ip	forwarding	integer	yes
.It ip	ipsec-allocs	integer	yes
.It ip	ipsec-auth-alg	string	yes
.It ip	ipsec-bytes	integer	yes
.It ip	ipsec-comp-alg	string	yes
.It ip	ipsec-enc-alg	string	yes
.It ip	ipsec-expire-acquire	integer	yes
.It ip	ipsec-firstuse	integer	yes
.It ip	ipsec-invalid-life	integer	yes
.It ip	ipsec-pfs	integer	yes
.It ip	ipsec-soft-allocs	integer	yes
.It ip	ipsec-soft-bytes	integer	yes
.It ip	ipsec-soft-firstuse	integer	yes
.It ip	ipsec-soft-timeout	integer	yes
.It ip	ipsec-timeout	integer	yes
.It ip	maxqueue	integer	yes
.It ip	mtudisc	integer	yes
.It ip	mtudisctimeout	integer	yes
.It ip	portfirst	integer	yes
.It ip	porthifirst	integer	yes
.It ip	porthilast	integer	yes
.It ip	portlast	integer	yes
.It ip	redirect	integer	yes
.It ip	sourceroute	integer	yes
.It ip	ttl	integer	yes
.It ipcomp	enable	integer	yes
.It ipip	allow	integer	yes
.It mobileip	allow	integer	yes
.It tcp	ackonpush	integer	yes
.It tcp	baddynamic	array	yes
.It tcp	ecn	integer	yes
.It tcp	ident	structure	no
.It tcp	keepidle	integer	yes
.It tcp	keepinittime	integer	yes
.It tcp	keepintvl	integer	yes
.It tcp	mssdflt	integer	yes
.It tcp	reasslimit	integer	yes
.It tcp	recvspace	integer	yes
.It tcp	rfc1323	integer	yes
.It tcp	rfc3390	integer	yes
.It tcp	rstppslimit	integer	yes
.It tcp	sack	integer	yes
.It tcp	sendspace	integer	yes
.It tcp	slowhz	integer	no
.It tcp	synbucketlimit	integer	yes
.It tcp	syncachelimit	integer	yes
.It udp	baddynamic	array	yes
.It udp	checksum	integer	yes
.It udp	recvspace	integer	yes
.It udp	sendspace	integer	yes
.El
.Pp
The variables are as follows:
.Bl -tag -width "123456"
.It Li ah.enable
If set to 1, enable Authentication Header
.Pq AH
IPsec protocol.
Enabled by default.
See
.Xr ipsec 4
for more information.
.It Li bpf.bufsize
The initial size of BPF buffers.
.It Li bpf.maxbufsize
The maximum size a user may request a BPF buffer to be.
.It Li carp.allow
If set to 0, incoming
.Tn CARP
packets will not be processed.
If set to any other value, processing will occur.
Enabled by default.
.It Li carp.arpbalance
If set to any value other than 0, the ARP balancing functionality in carp is
enabled.
When ARP requests are received for an IP address which is part of any virtual
host, carp will hash the source IP in the ARP request to select one of the
virtual hosts from the set of all the virtual hosts which have that IP address.
The master of that host will respond with the correct virtual MAC address.
Disabled by default.
.It Li carp.log
If set to any value other than 0,
.Xr carp 4
will log errors.
Disabled by default.
.It Li carp.preempt
If set to 0,
.Xr carp 4
will not attempt to become master if it is receiving advertisements from
another active master.
If set to any other value, carp will become master of the virtual host if it
believes it can send advertisements more frequently than the current master.
Disabled by default.
.It Li esp.enable
If set to 1, enable Encapsulating Security Payload
.Pq ESP
IPsec protocol.
Enabled by default.
See
.Xr ipsec 4
for more information.
.It Li esp.udpencap
If set to 1, enable processing of UDP encapsulated ESP packets.
Disabled by default.
.It Li esp.udpencap_port
Contains the value of the UDP port that triggers
decapsulation for incoming UDP encapsulated ESP packets.
The default port is 4500.
.It Li etherip.allow
If set to 0, incoming Ethernet-in-IPv4 packets will not be processed.
If set to any other value, processing will occur.
.It Li gre.allow
If set to 0, incoming GRE packets will not be processed.
If set to any other value, processing will occur.
.It Li gre.wccp
If set to 0, incoming WCCPv1-style GRE packets will not be processed.
If set to any other value, and gre.allow allows GRE packet processing,
WCCPv1-style GRE packets will be processed.
.It Li icmp.bmcastecho
If set to 1, respond to ICMP echo requests destined for
broadcast and multicast addresses.
Note, enabling this could open a system to a type of denial of service attack
called
.Qq smurfing ,
and is thus not advised.
.It Li icmp.errppslimit
This variable specifies the maximum number of outgoing ICMP error messages
per second.
ICMP error messages that exceeded the value are subject to rate limitation
and will not go out from the node.
A negative value disables rate limitation.
.It Li icmp.maskrepl
Returns 1 if
.Tn ICMP
network mask requests are to be answered.
.It Li icmp.rediraccept
If set to non-zero, the host will accept ICMP redirect packets.
Note that routers will never accept ICMP redirect packets,
and the variable is meaningful on IP hosts only.
.It Li icmp.redirtimeout
This variable specifies the lifetime of routing entries generated by incoming
ICMP redirect.
The default timeout is 10 minutes.
.It Li icmp.tstamprepl
If set to 1, reply to ICMP timestamp requests.
If set to 0, ignore timestamp requests.
.It Li ip.directed-broadcast
Returns 1 if directed broadcast behavior is enabled for the host.
.It Li ip.encdebug
Returns 1 when error message reporting is enabled for the host.
If the kernel has been compiled with the
.Dv ENCDEBUG
option,
then debugging information will also be reported when this variable is set.
.It Li ip.forwarding
Returns 1 when
.Tn IP
forwarding is enabled for the host,
indicating the host is acting as a router.
.It Li ip.ipsec-allocs
The number of IPsec flows that can use a security association before
it expires.
If set to less than or equal to zero, the security association will not
expire because of this counter.
The default value is 0.
.It Li ip.ipsec-auth-alg
This is the default authentication algorithm the kernel will instruct
key management daemons to negotiate when establishing security
associations on behalf of the kernel.
Such security associations can occur as a result of a process having
requested some security level through
.Xr setsockopt 2 ,
or as a result of dynamic
.Xr vpn 8
entries.
Supported values are hmac-md5, hmac-sha1, and hmac-ripemd160.
If set to any other value, it is left to the key management daemons to
select an authentication algorithm for the security association.
The default value is hmac-sha1.
.It Li ip.ipsec-bytes
The number of bytes that will be processed by a security association
before it expires.
If set to less than or equal to zero, the security association will not
expire because of this counter.
The default value is 0.
.It Li ip.ipsec-comp-alg
The compression algorithm to use with an IP Compression Association
.Pq IPCA .
Possible values are
.Dq deflate
and
.Dq lzs .
Note that lzs is only available with
.Xr hifn 4 .
See
.Xr ipsecadm 8
for more information.
.It Li ip.ipsec-enc-alg
This is the default encryption algorithm the kernel will instruct key
management daemons to negotiate when establishing security
associations on behalf of the kernel.
Such security associations can occur as a result of a process having
requested some security level through
.Xr setsockopt 2 ,
or as a result of dynamic
.Xr vpn 8
entries.
Supported values are aes, des, 3des, blowfish, cast128, and skipjack.
If set to any other value, it is left to the key management daemons to
select an encryption algorithm for the security association.
The default value is aes.
.It Li ip.ipsec-expire-acquire
How long should the kernel allow key management to dynamically acquire
security associations, before re-sending a request.
The default value is 30 seconds.
.It Li ip.ipsec-firstuse
The number of seconds after a security association is first used before
it expires.
If set to less than or equal to zero, the security association will
not expire because of this timer.
The default value is 7200 seconds.
.It Li ip.ipsec-invalid-life
The lifetime of embryonic Security Associations (SAs that key management
daemons have reserved but not fully established yet) in seconds.
If set to less than or equal to zero, embryonic SAs will not expire.
The default value is 60.
.It Li ip.ipsec-pfs
If set to any non-zero value, the kernel will ask the key management
daemons to use Perfect Forward Secrecy when establishing IPsec
Security Associations.
Perfect Forward Secrecy makes IPsec Security Associations
cryptographically distinct from each other, such that breaking the key
for one such SA does not compromise any others.
Requiring PFS for every security association significantly increases the
computational load of
.Xr isakmpd 8
exchanges.
The default value is 1.
.It Li ip.ipsec-soft-allocs
The number of IPsec flows that can use a security association before a
message is sent by the kernel to key management for renegotiation
of the security association.
If set to less than or equal to zero, no message is sent to key
management.
The default value is 0.
.It Li ip.ipsec-soft-bytes
The number of bytes that will be processed by a security association
before a message is sent by the kernel to key management for
renegotiation of the security association.
If set to less than or equal to zero, no message is sent to key
management.
The default value is 0.
.It Li ip.ipsec-soft-firstuse
The number of seconds after a security association is first used
before a message is sent by the kernel to key management for
renegotiation of the security association.
If set to less than or equal to zero, no message is sent to key
management.
The default value is 3600 seconds.
.It Li ip.ipsec-soft-timeout
The number of seconds after a security association is established
before a message is sent by the kernel to key management for
renegotiation of the security association.
If set to less than or equal to zero, no message is sent to key
management.
The default value is 80000 seconds.
.It Li ip.ipsec-timeout
The number of seconds after a security association is established
before it will expire.
If set to less than or equal to zero, the security association will
not expire because of this timer.
The default value is 86400 seconds.
.It Li ip.maxqueue
Fragment flood protection.
Sets the maximum number of unassembled IP fragments in the fragment queue.
.It Li ip.mtudisc
Returns 1 if Path MTU Discovery is enabled.
.It Li ip.mtudisctimeout
Returns the number of seconds in which a route added by the Path MTU
Discovery engine will time out.
When the route times out, the Path MTU Discovery engine will attempt
to probe a larger path MTU.
.It Li ip.portfirst
Minimum registered port number for TCP/UDP port allocation.
Registered ports can be used by ordinary user processes
or programs executed by ordinary users.
Cannot be less than 1024 or greater than 49151.
Must be less than ip.portlast.
.It Li ip.porthifirst
Minimum dynamic/private port number for TCP/UDP port allocation.
Dynamic/private ports can be used by ordinary user processes
or programs executed by ordinary users.
Cannot be less than 49152 or greater than 65535.
Must be less than ip.porthilast.
.It Li ip.porthilast
Maximum dynamic/private port number for TCP/UDP port allocation.
Dynamic/private ports can be used by ordinary user processes
or programs executed by ordinary users.
Cannot be less than 49152 or greater than 65535.
Must be greater than ip.porthifirst.
.It Li ip.portlast
Maximum registered port number for TCP/UDP port allocation.
Registered ports can be used by ordinary user processes
or programs executed by ordinary users.
Cannot be less than 1024 or greater than 49151.
Must be greater than ip.portfirst.
.It Li ip.redirect
Returns 1 when
.Tn ICMP
redirects may be sent by the host.
This option is ignored unless the host is routing
.Tn IP
packets,
and should normally be enabled on all systems.
.It Li ip.sourceroute
Returns 1 when forwarding of source-routed packets is enabled for
the host.
As detailed in
.Xr securelevel 7 ,
this variable may not be changed if the securelevel is \*(Gt 0.
.It Li ip.ttl
The maximum time-to-live (hop count) value for an
.Tn IP
packet sourced by
the system.
This value applies to normal transport protocols, not to
.Tn ICMP .
.It Li ipcomp.enable
Enable the IPComp protocol.
See
.Xr ipsecadm 8
for more information.
.It Li ipip.allow
If set to 0, incoming IP-in-IP packets will not be processed.
If set to any other value, processing will occur; furthermore, if set
to 2, no checks for spoofing of loopback addresses will be done.
This is useful only for debugging purposes, and should never be used
in production systems.
.It Li mobileip.allow
If set to 0, incoming MobileIP encapsulated packets (RFC 2004) will not be
processed.
If set to any other value, processing will occur.
.It Li tcp.ackonpush
Returns 1 if tcp segments with the
.Dv TH_PUSH
set are being acknowledged immediately, otherwise 0.
.It Li tcp.baddynamic
An array of
.Li in_port_t
is returned specifying the bitmask of
.Tn TCP
ports between 512
and 1023 inclusive that should not be allocated dynamically
by the kernel (i.e., they must be bound specifically by port number).
.It Li tcp.ecn
Returns 1 if Explicit Congestion Notifications for TCP are enabled.
.It Li tcp.ident
A structure
.Li struct tcp_ident_mapping
specifying a local and foreign endpoint of a
.Tn TCP
socket is filled in with the euid and ruid of the process that owns the socket.
If no such socket exists, then the euid and ruid values are both set to \-1.
.It Li tcp.keepidle
If the socket option
.Pa SO_KEEPALIVE
has been set, time a connection needs to be idle before keepalives are sent.
See also tcp.slowhz.
.It Li tcp.keepinittime
Unused.
.It Li tcp.keepintvl
Time after a keepalive probe is sent until, in the absence of any response,
another probe is sent.
See also tcp.slowhz.
.It Li tcp.mssdflt
The maximum segment size that is used as default for non-local connections.
The default value is 512.
.It Li tcp.reasslimit
The maximum number of out-of-order
.Tn TCP
segments the system will store for reassembly.
.It Li tcp.recvspace
Returns the default
.Tn TCP
receive buffer size.
.It Li tcp.rfc1323
Returns 1 if RFC 1323 extensions to
.Tn TCP
are enabled.
.It Li tcp.rfc3390
Returns 1 if the
.Tn TCP
Initial Window is increased, as specified in RFC 3390.
.It Li tcp.rstppslimit
This variable specifies the maximum number of outgoing TCP RST packets
per second.
TCP RST packets that exceeded the value are subject to rate limitation
and will not go out from the node.
A negative value disables rate limitation.
.It Li tcp.sack
Returns 1 if RFC 2018 Selective Acknowledgements are enabled.
.It Li tcp.sendspace
Returns the default
.Tn TCP
send buffer size.
.It Li tcp.slowhz
The units for tcp.keepidle and tcp.keepintvl; those variables are in ticks
of a clock that ticks tcp.slowhz times per second.
(That is, their values must be divided by the tcp.slowhz value to get times
in seconds.)
.It Li tcp.synbucketlimit
The maximum number of entries allowed per hash bucket in the TCP syn cache.
.It Li tcp.syncachelimit
The maximum number of entries allowed in the TCP syn cache.
.It Li udp.baddynamic
Analogous to
.Li tcp.baddynamic
but for
.Tn UDP
sockets.
.It Li udp.checksum
Returns 1 when
.Tn UDP
checksums are being computed and checked.
Disabling
.Tn UDP
checksums is strongly discouraged.
.It Li udp.recvspace
Returns the default
.Tn UDP
receive buffer size.
.It Li udp.sendspace
Returns the default
.Tn UDP
send buffer size.
.El
.It Dv PF_INET6
Get or set various global information about IPv6
.Pq Internet Protocol version 6 .
The third level name is the protocol.
The fourth level name is the variable name.
The currently defined protocols and names are:
.Bl -column "Protocol name" "Variable nameXX" "integer" "yes" -offset indent
.It Sy Protocol name	Variable name	Type	Changeable
.It icmp6	errppslimit	integer	yes
.It icmp6	mtudisc_hiwat	integer	yes
.It icmp6	mtudisc_lowat	integer	yes
.It icmp6	nd6_debug	integer	yes
.It icmp6	nd6_delay	integer	yes
.It icmp6	nd6_maxnudhint	integer	yes
.It icmp6	nd6_mmaxtries	integer	yes
.It icmp6	nd6_prune	integer	yes
.It icmp6	nd6_umaxtries	integer	yes
.It icmp6	nd6_useloopback	integer	yes
.It icmp6	nodeinfo	integer	yes
.It icmp6	rediraccept	integer	yes
.It icmp6	redirtimeout	integer	yes
.It ip6	accept_rtadv	integer	yes
.It ip6	auto_flowlabel	integer	yes
.It ip6	dad_count	integer	yes
.It ip6	defmcasthlim	integer	yes
.It ip6	forwarding	integer	yes
.It ip6	hdrnestlimit	integer	yes
.It ip6	hlim	integer	yes
.It ip6	kame_version	string	no
.It ip6	keepfaith	integer	yes
.It ip6	log_interval	integer	yes
.It ip6	maxfragpackets	integer	yes
.It ip6	maxfrags	integer	yes
.It ip6	redirect	integer	yes
.It ip6	rr_prune	integer	yes
.It ip6	use_deprecated	integer	yes
.It ip6	v6only	integer	no
.El
.Pp
The variables are as follows:
.Pp
.Bl -tag -width "123456" -compact
.It Li icmp6.errppslimit
This variable specifies the maximum number of outgoing ICMPv6 error messages
per second.
ICMPv6 error messages that exceeded the value are subject to rate limitation
and will not go out from the node.
A negative value will disable the rate limitation.
.Pp
.It Li icmp6.mtudisc_hiwat
.It Li icmp6.mtudisc_lowat
These variables define the maximum number of routing table entries,
created due to path MTU discovery
.Pq preventing denial-of-service attacks with ICMPv6 too big messages .
After IPv6 path MTU discovery happens, path MTU information is kept in
the routing table.
If the number of routing table entries exceed the value,
the kernel will not attempt to keep the path MTU information.
.Li icmp6.mtudisc_hiwat
is used when we have verified ICMPv6 too big messages.
.Li icmp6.mtudisc_lowat
is used when we have unverified ICMPv6 too big messages.
Verification is performed by using address/port pairs kept in connected pcbs.
A negative value disables the upper limit.
.Pp
.It Li icmp6.nd6_debug
If set to non-zero, IPv6 neighbor discovery will generate debugging
messages.
The debug output is useful for diagnosing IPv6 interoperability issues.
The flag must be set to 0 for normal operation.
.Pp
.It Li icmp6.nd6_delay
This variable specifies the
.Dv DELAY_FIRST_PROBE_TIME
timing constant in IPv6 neighbor discovery specification
.Pq RFC 2461 ,
in seconds.
.Pp
.It Li icmp6.nd6_maxnudhint
IPv6 neighbor discovery permits upper layer protocols to supply reachability
hints, to avoid unnecessary neighbor discovery exchanges.
This variable defines the number of consecutive hints the neighbor discovery
layer will take.
For example, by setting the variable to 3, neighbor discovery will take
a maximum of 3 consecutive hints.
After receiving 3 hints, the neighbor discovery layer will instead perform
the normal neighbor discovery process.
.Pp
.It Li icmp6.nd6_mmaxtries
This variable specifies the
.Dv MAX_MULTICAST_SOLICIT
constant in IPv6 neighbor discovery specification
.Pq RFC 2461 .
.Pp
.It Li icmp6.nd6_prune
This variable specifies the interval between IPv6 neighbor cache babysitting
in seconds.
.Pp
.It Li icmp6.nd6_umaxtries
This variable specifies the
.Dv MAX_UNICAST_SOLICIT
constant in IPv6 neighbor discovery specification
.Pq RFC 2461 .
.Pp
.It Li icmp6.nd6_useloopback
If set to non-zero, IPv6 will use the loopback interface for local traffic.
.Pp
.It Li icmp6.nodeinfo
This variable enables responses to ICMPv6 node information queries.
If set to 0, responses will not be generated for
ICMPv6 node information queries.
Since node information queries can have a security impact, it is
possible to fine tune which responses should be answered.
Two separate bits can be set:
.Bl -tag -width "123" -offset indent
.It 1
Respond to ICMPv6 FQDN queries, e.g.\&
.Li ping6 -w .
.It 2
Respond to ICMPv6 node addresses queries, e.g.\&
.Li ping6 -a .
.El
.Pp
.It Li icmp6.rediraccept
If set to non-zero, the host will accept ICMPv6 redirect packets.
Note that IPv6 routers will never accept ICMPv6 redirect packets,
so the variable is only meaningful on IPv6 hosts, not on routers.
.Pp
.It Li icmp6.redirtimeout
The variable specifies the lifetime of routing entries generated by
incoming ICMPv6 redirects.
.Pp
.It Li ip6.accept_rtadv
If set to non-zero, the node will accept ICMPv6 router advertisement packets
and autoconfigures address prefixes and default routers.
The node must be a host
.Pq not a router
for the option to be meaningful (see
.Li ip6.forwarding ) .
.Pp
.It Li ip6.auto_flowlabel
On connected transport protocol packets,
fill IPv6 flowlabel field to help intermediate routers identify
packet flows.
.Pp
.It Li ip6.dad_count
This variable configures the number of IPv6 DAD
.Pq duplicated address detection
probe packets.
These packets are generated when IPv6 interfaces are first brought up.
.Pp
.It Li ip6.defmcasthlim
The default hop limit value for an IPv6 multicast packet sourced by the node.
This value applies to all the transport protocols on top of IPv6.
Methods for overriding this value are documented in
.Xr ip6 4 .
.Pp
.It Li ip6.forwarding
Returns 1 when IPv6 forwarding is enabled for the node,
meaning that the node is acting as a router.
Returns 0 when IPv6 forwarding is disabled for the node,
meaning that the node is acting as a host.
Note that IPv6 defines node behavior for the
.Dq router
and
.Dq host
cases quite differently, and changing this variable during operation
may cause serious trouble.
Hence, this variable should only be set at bootstrap time.
.Pp
.It Li ip6.hdrnestlimit
The number of IPv6 extension headers permitted on incoming IPv6 packets.
If set to 0, the node will accept as many extension headers as possible.
.Pp
.It Li ip6.hlim
The default hop limit value for an IPv6 unicast packet sourced by the node.
This value applies to all the transport protocols on top of IPv6.
Methods for overriding this value are documented in
.Xr ip6 4 .
.Pp
.It Li ip6.kame_version
This string identifies the version of the KAME IPv6 stack implemented
in the kernel.
.Pp
.It Li ip6.keepfaith
If set to non-zero, enables the
.Dq FAITH
TCP relay IPv6-to-IPv4 translator code in the kernel.
Refer to
.Xr faith 4
and
.Xr faithd 8
for more details.
.Pp
.It Li ip6.log_interval
This variable permits adjusting the amount of logs generated by the
IPv6 packet forwarding engine.
The value indicates the number of
seconds of interval which must elapse between log output.
.Pp
.It Li ip6.maxfragpackets
The maximum number of fragmented packets the node will accept.
0 means that the node will not accept any fragmented packets.
\-1 means that the node will accept as many fragmented packets as it receives.
The flag is provided basically for avoiding possible DoS attacks.
.Pp
.It Li ip6.maxfrags
The maximum number of fragments the node will accept.
0 means that the node will not accept any fragments.
\-1 means that the node will accept as many fragments as it receives.
The flag is provided basically for avoiding possible DoS attacks.
.Pp
.It Li ip6.redirect
Returns 1 when ICMPv6 redirects may be sent by the node.
This option is ignored unless the node is routing IP packets,
and should normally be enabled on all systems.
.Pp
.It Li ip6.rr_prune
This variable specifies the interval between IPv6 router renumbering prefix
babysitting in seconds.
.Pp
.It Li ip6.use_deprecated
This variable controls use of deprecated addresses, specified in
RFC 2462 5.5.4.
.Pp
.It Li ip6.v6only
The variable specifies the initial value for the
.Dv IPV6_V6ONLY
socket option for an
.Dv AF_INET6
socket.
It is always 1 for
.Ox .
.El
.Pp
We reuse
.Li net.inet.tcp
and
.Li net.inet.udp
for
.Tn TCP/UDP
over
.Tn IPv6 .
.El
.Ss CTL_USER
The string and integer information available for the
.Dv CTL_USER
level is detailed below.
The changeable column shows whether a process with appropriate
privileges may change the value.
.Bl -column "USER_COLL_WEIGHTS_MAXXXX" "integerXXX" -offset indent
.It Sy Second level name	Type	Changeable
.It Dv USER_BC_BASE_MAX No "	integer	no"
.It Dv USER_BC_DIM_MAX No "	integer	no"
.It Dv USER_BC_SCALE_MAX No "	integer	no"
.It Dv USER_BC_STRING_MAX No "	integer	no"
.It Dv USER_COLL_WEIGHTS_MAX No "	integer	no"
.It Dv USER_CS_PATH No "	string	no"
.It Dv USER_EXPR_NEST_MAX No "	integer	no"
.It Dv USER_LINE_MAX No "	integer	no"
.It Dv USER_POSIX2_C_BIND No "	integer	no"
.It Dv USER_POSIX2_C_DEV No "	integer	no"
.It Dv USER_POSIX2_CHAR_TERM No "	integer	no"
.It Dv USER_POSIX2_FORT_DEV No "	integer	no"
.It Dv USER_POSIX2_FORT_RUN No "	integer	no"
.It Dv USER_POSIX2_LOCALEDEF No "	integer	no"
.It Dv USER_POSIX2_SW_DEV No "	integer	no"
.It Dv USER_POSIX2_UPE No "	integer	no"
.It Dv USER_POSIX2_VERSION No "	integer	no"
.It Dv USER_RE_DUP_MAX No "	integer	no"
.It Dv USER_STREAM_MAX No "	integer	no"
.It Dv USER_TZNAME_MAX No "	integer	no"
.El
.Bl -tag -width "123456"
.Pp
.It Dv USER_BC_BASE_MAX
The maximum ibase/obase values in the
.Xr bc 1
utility.
.It Dv USER_BC_DIM_MAX
The maximum array size in the
.Xr bc 1
utility.
.It Dv USER_BC_SCALE_MAX
The maximum scale value in the
.Xr bc 1
utility.
.It Dv USER_BC_STRING_MAX
The maximum string length in the
.Xr bc 1
utility.
.It Dv USER_COLL_WEIGHTS_MAX
The maximum number of weights that can be assigned to any entry of
the
.Dv LC_COLLATE
order keyword in the locale definition file.
.It Dv USER_CS_PATH
Return a value for the
.Ev PATH
environment variable that finds all the standard utilities.
.It Dv USER_EXPR_NEST_MAX
The maximum number of expressions that can be nested within
parentheses by the
.Xr expr 1
utility.
.It Dv USER_LINE_MAX
The maximum length in bytes of a text-processing utility's input
line.
.It Dv USER_POSIX2_C_BIND
Return 1 if the system's C-language development facilities support the
C-Language Bindings Option, otherwise 0.
.It Dv USER_POSIX2_C_DEV
Return 1 if the system supports the C-Language Development Utilities Option,
otherwise 0.
.It Dv USER_POSIX2_CHAR_TERM
Return 1 if the system supports at least one terminal type capable of
all operations described in POSIX 1003.2, otherwise 0.
.It Dv USER_POSIX2_FORT_DEV
Return 1 if the system supports the FORTRAN Development Utilities Option,
otherwise 0.
.It Dv USER_POSIX2_FORT_RUN
Return 1 if the system supports the FORTRAN Runtime Utilities Option,
otherwise 0.
.It Dv USER_POSIX2_LOCALEDEF
Return 1 if the system supports the creation of locales, otherwise 0.
.It Dv USER_POSIX2_SW_DEV
Return 1 if the system supports the Software Development Utilities Option,
otherwise 0.
.It Dv USER_POSIX2_UPE
Return 1 if the system supports the User Portability Utilities Option,
otherwise 0.
.It Dv USER_POSIX2_VERSION
The version of POSIX 1003.2 with which the system attempts to comply.
.It Dv USER_RE_DUP_MAX
The maximum number of repeated occurrences of a regular expression
permitted when using interval notation.
.It Dv USER_STREAM_MAX
The maximum number of streams that a process may have open
at any one time.
.It Dv USER_TZNAME_MAX
The minimum maximum number of types supported for the name of a
timezone.
.El
.Ss CTL_VFS
The string and integer information available for the
.Dv CTL_VFS
level is detailed below.
The changeable column shows whether a process with appropriate
privileges may change the value.
.Bl -column "Second level nameXXXXXX" "struct loadavgXXX" -offset indent
.It Sy Second level name	Type	Changeable
.It Dv VFS_GENERIC No "	vm generic info	no"
.It Dv filesystem # No "	filesystem info	no"
.El
.Bl -tag -width "123456"
.It Dv VFS_GENERIC
This second level identifier requests generic information about the
vfs layer.
Within it, the following third level identifiers exist:
.Bl -column "Third level nameXXXXXX" "struct loadavgXXX" -offset indent
.It Sy Third level name	Type	Changeable
.It Dv VFS_CONF No "	struct vfsconf	no"
.It Dv VFS_MAXTYPENUM No "	int	no"
.El
.It filesystem #
After finding the filesystem dependent vfc_typenum using
.Dv VFS_GENERIC
with
.Dv VFS_CONF ,
it is possible to access filesystem dependent information.
.Pp
Some filesystems may contain settings.
.Bl -tag -width "123"
.It ffs
.Bl -column "Third level nameXXXX" "FFS_SD_DIRECT_BLK " -offset ind
.It Sy Third level name	Type	Changeable
.It Dv FFS_ASYNCFREE No "	integer	yes"
.It Dv FFS_CLUSTERREAD No "	integer	yes"
.It Dv FFS_CLUSTERWRITE No "	integer	yes"
.It Dv FFS_DIRHASH_DIRSIZE No "	integer	yes"
.It Dv FFS_DIRHASH_MAXMEM No "	integer	yes"
.It Dv FFS_DIRHASH_MEM No "	integer	no"
.It Dv FFS_MAXSOFTDEPS No "	integer	yes"
.It Dv FFS_REALLOCBLOCKS No "	integer	yes"
.It Dv FFS_SD_BLK_LIMIT_HIT No "	integer	yes"
.It Dv FFS_SD_BLK_LIMIT_PUSH No "	integer	yes"
.It Dv FFS_SD_DIR_ENTRY No "	integer	yes"
.It Dv FFS_SD_DIRECT_BLK_PTRS No "	integer	yes"
.It Dv FFS_SD_INDR_BLK_PTRS No "	integer	yes"
.It Dv FFS_SD_INO_LIMIT_HIT No "	integer	yes"
.It Dv FFS_SD_INO_LIMIT_PUSH No "	integer	yes"
.It Dv FFS_SD_INODE_BITMAP No "	integer	yes"
.It Dv FFS_SD_SYNC_LIMIT_HIT No "	integer	yes"
.It Dv FFS_SD_TICKDELAY No "	integer	yes"
.It Dv FFS_SD_WORKLIST_PUSH No "	integer	yes"
.El
.Bl -tag -width "123456"
.It Dv FFS_CLUSTERREAD
Enable combining multiple reads into one request to improve performance.
.It Dv FFS_CLUSTERWRITE
Enable combining multiple writes into one request.
.It Dv FFS_DIRHASH_DIRSIZE
The minimum size of a directory, in bytes, before it is considered for hashing.
.It Dv FFS_DIRHASH_MAXMEM
The maximum amount of memory, in bytes, to be used for storing directory
hashes.
.It Dv FFS_DIRHASH_MEM
The amount of memory currently used by all directory hashes.
.It Dv FFS_REALLOCBLOCKS
When enabled, the kernel will attempt to relocate growing files so that they
are contiguous on disk, reducing fragmentation.
.El
.It nfs
.Bl -column "Third level nameXXX" "struct loadavgXXX" -offset ind
.It Sy Third level name	Type	Changeable
.It Dv NFS_NFSSTATS No "	struct nfsstats	yes"
.It Dv NFS_NIOTHREADS No "	int	yes"
.El
.El
.El
.Ss CTL_VM
The string and integer information available for the
.Dv CTL_VM
level is detailed below.
The changeable column shows whether a process with appropriate
privileges may change the value.
.Bl -column "Second level nameXXXXXX" "struct loadavgXXX" -offset indent
.It Sy Second level name	Type	Changeable
.It Dv VM_ANONMIN No "	integer	yes"
.It Dv VM_LOADAVG No "	struct loadavg	no"
.It Dv VM_MAXSLP No "	integer	no"
.It Dv VM_METER No "	struct vmtotal	no"
.It Dv VM_NKMEMPAGES No "	integer	no"
.It Dv VM_PSSTRINGS No "	struct psstrings	no"
.It Dv VM_SWAPENCRYPT No "	swap encrypt values	yes"
.It Dv VM_USPACE No "	integer	no"
.It Dv VM_UVMEXP No "	struct uvmexp	no"
.It Dv VM_VNODEMIN No "	integer	yes"
.It Dv VM_VTEXTMIN No "	integer	yes"
.El
.Bl -tag -width "123456"
.It Dv VM_ANONMIN
Percentage of physical memory available for
pages which contain anonymous mapping.
.It Dv VM_LOADAVG
Return the load average history.
The returned data consists of a
.Li struct loadavg .
.It Dv VM_MAXSLP
The time for a process to be blocked before being swappable,
in seconds.
.It Dv VM_METER
Return the system wide virtual memory statistics.
The returned data consists of a
.Li struct vmtotal .
.It Dv VM_NKMEMPAGES
Number of pages in kmem_map.
.It Dv VM_PSSTRINGS
Returns address of struct ps_strings.
The
.Xr ps 1
program uses it to locate argv and environment strings.
.It Dv VM_SWAPENCRYPT
Contains statistics about swap encryption.
The string and integer information available for the third level is
detailed below.
.Bl -column "Third level nameXXXXXX" "struct loadavgXXX" -offset indent
.It Sy Third level name	Type	Changeable
.It Dv SWPENC_CREATED No "	integer	no"
.It Dv SWPENC_DELETED No "	integer	no"
.It Dv SWPENC_ENABLE No "	integer	yes"
.El
.Bl -tag -width "123456"
.It Dv SWPENC_CREATED
The number of encryption keys that have been randomly created.
The swap partition is divided into sections of normally 512KB.
Each section has its own encryption key.
.It Dv SWPENC_DELETED
The number of encryption keys that have been deleted, thus effectively
erasing the data that has been encrypted with them.
Encryption keys are deleted when their reference counter reaches zero.
.It Dv SWPENC_ENABLE
Set to 1 to enable swap encryption for all processes.
A 0 disables swap encryption.
Pages still on swap receive a grandfather clause.
Turning this option on does not affect legacy swap data already on the disk,
but all newly written data will be encrypted.
When swap encryption is turned on, automatic
.Xr crash 8
dumps are disabled.
.El
.It Dv VM_USPACE
The number of bytes allocated for each kernel stack.
.It Dv VM_UVMEXP
Contains statistics about the UVM memory management system.
.It Dv VM_VNODEMIN
Percentage of physical memory available for
pages which contain cached file data.
.It Dv VM_VTEXTMIN
Percentage of physical memory available for
pages which contain cached executable data.
.El
.Sh RETURN VALUES
If the call to
.Fn sysctl
is unsuccessful, \-1 is returned and
.Va errno
is set appropriately.
.Sh FILES
.Bl -tag -width "uvm/uvmXswapXencrypt.h  " -compact
.It Aq Pa sys/sysctl.h
definitions for top level identifiers, second level kernel and hardware
identifiers, and user level identifiers
.It Aq Pa sys/socket.h
definitions for second level network identifiers
.It Aq Pa sys/gmon.h
definitions for third level profiling identifiers
.It Aq Pa ufs/ffs/ffs_extern.h
definitions for third level virtual file system identifiers
.Pq ffs
.It Aq Pa nfs/nfs.h
definitions for third level virtual file system identifiers
.Pq nfs
.It Aq Pa uvm/uvm_param.h
definitions for second level virtual memory identifiers
.It Aq Pa uvm/uvm_swap_encrypt.h
definitions for third level virtual memory identifiers
.It Aq Pa netinet/in.h
definitions for third level IPv4/v6 identifiers and
fourth level
.Tn IP
and
.Tn IPv6
identifiers
.It Aq Pa netinet/icmp_var.h
definitions for fourth level
.Tn ICMP
identifiers
.It Aq Pa netinet/icmp6.h
definitions for fourth level
.Tn ICMPv6
identifiers
.It Aq Pa netinet/tcp_var.h
definitions for fourth level
.Tn TCP
identifiers
.It Aq Pa netinet/udp_var.h
definitions for fourth level
.Tn UDP
identifiers
.El
.Sh ERRORS
The following errors may be reported:
.Bl -tag -width Er
.It Bq Er EFAULT
The buffer
.Fa name ,
.Fa oldp ,
.Fa newp ,
or length pointer
.Fa oldlenp
contains an invalid address.
.It Bq Er EINVAL
The
.Fa name
array is less than two or greater than
.Dv CTL_MAXNAME .
.It Bq Er EINVAL
A non-null
.Fa newp
pointer is given and its specified length in
.Fa newlen
is too large or too small.
.It Bq Er ENOMEM
The length pointed to by
.Fa oldlenp
is too short to hold the requested value.
.It Bq Er ENOTDIR
The
.Fa name
array specifies an intermediate rather than terminal name.
.It Bq Er EOPNOTSUPP
The
.Fa name
array specifies a value that is unknown.
.It Bq Er EPERM
An attempt is made to set a read-only value.
.It Bq Er EPERM
A process without appropriate privileges attempts to set a value.
.It Bq Er EPERM
An attempt to change a value protected by the current kernel security
level is made.
.El
.Sh SEE ALSO
.Xr pathconf 2 ,
.Xr sysconf 3 ,
.Xr ddb 4 ,
.Xr sysctl.conf 5 ,
.Xr securelevel 7 ,
.Xr compat_linux 8 ,
.Xr compat_openbsd 8 ,
.Xr sysctl 8
.Sh HISTORY
The
.Fn sysctl
function first appeared in
.Bx 4.4 .
@


1.10
log
@* more or less automatic merge
* RCS IDs into .comment section
* whitespace police
@
text
@d1 2
a2 2
.\" $MirBSD: src/lib/libc/gen/sysctl.3,v 1.9 2004/06/16 21:06:35 tg Exp $
.\" $OpenBSD: sysctl.3,v 1.139 2004/06/03 17:09:12 espie Exp $
d393 1
d870 27
d2098 1
@


1.9
log
@MirSolutions presents: user-settable "uname -s" for the Linuxulator.
@
text
@d1 2
a2 2
.\" $MirBSD: src/lib/libc/gen/sysctl.3,v 1.8 2004/05/23 16:49:15 tg Exp $
.\" $OpenBSD: sysctl.3,v 1.138 2004/04/20 06:41:47 tedu Exp $
d2064 2
@


1.8
log
@merge libs except libssl
@
text
@d1 2
a2 2
.\"	$MirBSD: src/lib/libc/gen/sysctl.3,v 1.7 2004/04/29 18:43:38 tg Exp $
.\"	$OpenBSD: sysctl.3,v 1.138 2004/04/20 06:41:47 tedu Exp $
d344 1
d478 6
d2067 1
@


1.7
log
@document KERN_PUSHRAND
@
text
@d1 2
a2 2
.\"	$MirBSD: src/lib/libc/gen/sysctl.3,v 1.6 2004/04/26 20:59:54 tg Exp $
.\"	$OpenBSD: sysctl.3,v 1.130 2004/02/01 18:24:57 jmc Exp $
d291 1
a291 1
The CPU frequency
d353 1
d544 4
d869 3
d880 14
d895 1
a895 1
Return the number of input characters in canonical mode.
d903 1
a903 1
Return the number of input characters in raw mode.
d1007 2
d1063 1
d1089 4
d1111 1
a1111 1
Enabled by default.
d1404 4
@


1.6
log
@document that KERN_ARND is writable, and that KERN_ALLOWPSA
and KERN_ALLOWPSE exist
@
text
@d1 1
a1 1
.\"	$MirBSD$
d376 1
d679 5
@


1.5
log
@merge
@
text
@d1 1
d333 2
d336 1
a336 1
.It Dv KERN_ARND No "	integer	no"
d400 12
d423 2
@


1.4
log
@first part of mergeing OpenBSD and fixing whitespace and RCS IDs
@
text
@d1 1
a1 1
.\"	$OpenBSD: sysctl.3,v 1.126 2004/01/19 09:39:44 tedu Exp $
d1018 1
d1360 4
d1523 1
a1523 1
Respond to ICMPv6 FQDN queries, e.g.
d1526 1
a1526 1
Respond to ICMPv6 node addresses queries, e.g.
@


1.3
log
@merge conflicts
remove unused files
@
text
@d1 1
a1 1
.\"	$OpenBSD: sysctl.3,v 1.117 2003/12/19 09:11:20 jmc Exp $
d369 2
a370 1
.It Dv KERN_PROC No "	struct proc	no"
d439 1
a439 1
.It Dv KERN_EMUL_NAME No "	string	yes"
d594 9
d1022 2
d1066 1
a1066 1
Enabled by default.
d1291 3
a1293 2
This value may only be changed if the kernel security
level is less than 1.
d1376 4
d1781 3
d1797 16
@


1.2
log
@remove all traces of Kerberos, NLS, AFS, YP
@
text
@d1 1
a1 1
.\"	$OpenBSD: sysctl.3,v 1.109 2003/09/09 10:00:24 jmc Exp $
d273 1
d283 1
d289 3
d314 3
d952 4
d957 2
d1028 27
d1063 7
d1139 1
a1139 1
select an authentiction algorithm for the security association.
d1251 1
a1251 1
Maximum dynamic/private port number for TCP/UDP port allocation.
d1468 2
a1469 2
For example, by setting the variable to 3, neighbor discovery can take
take a maximum of 3 consecutive hints.
d1844 1
a1844 1
The number of encryption keys that have been deleted, thus effectivly
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
.\"	$OpenBSD: sysctl.3,v 1.100 2003/03/17 09:52:20 jmc Exp $
d14 1
a14 5
.\" 3. All advertising materials mentioning features or use of this software
.\"    must display the following acknowledgement:
.\"	This product includes software developed by the University of
.\"	California, Berkeley and its contributors.
.\" 4. Neither the name of the University nor the names of its contributors
a121 1
.Pp
d124 1
d132 1
d138 1
a138 2
.Pp
.Bd -literal -offset indent -compact
d149 1
a149 2
.Pp
.Bd -literal -offset indent -compact
d160 56
d238 1
a238 2
.Pp
.Bd -literal -offset indent -compact
a251 1
.Pp
d262 1
a262 1
this variable may not be changed if the securelevel is > 0.
d272 4
d279 1
a279 1
.It Dv HW_BYTEORDER No "	integer	no"
d281 1
a282 4
.It Dv HW_PAGESIZE No "	integer	no"
.It Dv HW_DISKNAMES No "	string	no"
.It Dv HW_DISKSTATS No "	struct	no"
.It Dv HW_DISKCOUNT No "	integer	no"
a283 1
.Pp
d285 10
d298 1
a298 1
The machine model
d301 2
a302 2
.It Dv HW_BYTEORDER
The byteorder (4321 or 1234).
d305 4
a310 10
.It Dv HW_PAGESIZE
The software page size.
.It Dv HW_DISKNAMES
A comma-separated list of disk names.
.It Dv HW_DISKSTATS
An array of
.Li struct diskstats
structures containing disk statistics.
.It Dv HW_DISKCOUNT
The number of disks currently attached to the system.
d327 1
d330 1
d332 1
d334 2
a336 1
.It Dv KERN_FORKSTAT No "	struct forkstat	no"
d339 1
d347 1
d359 1
d362 1
d370 1
d372 2
a373 1
.It Dv KERN_SOMAXCONN No "	integer	yes"
d380 2
d385 1
a385 5
.It Dv KERN_STACKGAPRANDOM No "	integer	yes"
.It Dv KERN_USERASYMCRYPTO No "	integer	yes"
.It Dv KERN_USERCRYPTO No "	integer	yes"
.It Dv KERN_CRYPTODEVALLOWSOFT No "	integer	yes"
.It Dv KERN_PROC_ARGS No "	node not applicable"
a386 1
.Pp
d404 2
d414 1
a414 1
An array of longs, of size
d419 4
d424 25
a448 1
Get or set the YP domain name.
a455 3
.It Dv KERN_FSYNC
Return 1 if the File Synchronisation Option is available on this system,
otherwise 0.
d463 1
d467 5
d478 38
d530 2
d538 1
a538 1
This structure contains information the
d546 2
a549 2
.It Dv KERN_NOSUIDCOREDUMP
Programs with their set-user-ID bit set will not dump core when this is set.
d562 2
d577 1
d580 2
a583 1
.It Dv KERN_PROC_RUID No "	A real user ID"
d585 9
a593 37
.It Dv KERN_MALLOCSTATS
Return kernel memory bucket statistics.
The third level names are detailed below.
There are no changeable values in this branch.
.Bl -column "KERN_MALLOC_HIGH_WATERMARK" "string" -offset indent
.It Sy Third level name	Type
.It Dv KERN_MALLOC_BUCKETS	string
.It Dv KERN_MALLOC_BUCKET	node
.It Dv KERN_MALLOC_KMEMNAMES	string
.It Dv KERN_MALLOC_KMEMSTATS	node
.El
.Pp
The variables are as follows:
.Bl -tag -width "123456"
.It Dv KERN_MALLOC_BUCKETS
Return a comma-separated list of the bucket sizes used by the kernel.
.It Dv KERN_MALLOC_BUCKET.<size>
A node containing the statistics for the memory bucket of the
specified size (in decimal notation, the number of bytes per bucket
element, e.g., 16, 32, 128).
Each node returns a
.Li struct kmembuckets .
.Pp
If a value is specified that does not correspond directly to a
bucket size, the statistics for the closest larger bucket size will be
returned instead.
.Pp
Note that bucket sizes are typically powers of 2.
.It Dv KERN_MALLOC_KERNNAMES
Return a comma-separated list of the names of the kernel
.Xr malloc 9
types.
.It Dv KERN_MALLOC_KMEMSTATS
A node containing the statistics for the memory types of the specified
name.
Each node returns a
.Li struct kmemstats .
d596 8
d617 3
a620 2
.It Dv GPROF_COUNT No "	u_short[\|]	yes"
.It Dv GPROF_FROMS No "	u_short[\|]	yes"
a621 1
.It Dv GPROF_GMONPARAM No "	struct gmonparam	no"
d626 6
a637 4
.It Dv GPROF_COUNT
Array of statistical program counter counts.
.It Dv GPROF_FROMS
Array indexed by program counter of call-from points.
a641 2
.It Dv GPROF_GMONPARAM
Structure giving the sizes of the above arrays.
d672 9
a680 9
.It Dv KERN_SEMINFO_SEMMNI	integer	yes
.It Dv KERN_SEMINFO_SEMMNS	integer	yes
.It Dv KERN_SEMINFO_SEMMNU	integer	yes
.It Dv KERN_SEMINFO_SEMMSL	integer	yes
.It Dv KERN_SEMINFO_SEMOPM	integer	yes
.It Dv KERN_SEMINFO_SEMUME	integer	no
.It Dv KERN_SEMINFO_SEMUSZ	integer	no
.It Dv KERN_SEMINFO_SEMVMX	integer	no
.It Dv KERN_SEMINFO_SEMAEM	integer	no
d685 2
d694 1
a694 1
The maximum number of semaphores allowed per id.
a704 2
.It Dv KERN_SEMINFO_SEMAEM
The adjust on exit maximum value.
d721 5
a725 5
.It Dv KERN_SHMINFO_SHMMAX	integer	yes
.It Dv KERN_SHMINFO_SHMMIN	integer	yes
.It Dv KERN_SHMINFO_SHMMNI	integer	yes
.It Dv KERN_SHMINFO_SHMSEG	integer	yes
.It Dv KERN_SHMINFO_SHMALL	integer	yes
d730 2
a739 2
.It Dv KERN_SHMINFO_SHMALL
The maximum amount of total shared memory allowed in the system (in pages).
d751 27
d782 4
a785 4
.It Sy Pa Third level name	Type
.It KERN\_SYSVIPC\_MSG\_INFO	struct msg_sysctl_info
.It KERN\_SYSVIPC\_SEM\_INFO	struct sem_sysctl_info
.It KERN\_SYSVIPC\_SHM\_INFO	struct shm_sysctl_info
a786 1
.Pp
d788 1
a788 1
.It Li KERN_SYSVIPC_MSG_INFO
d794 1
a794 1
.It Li KERN_SYSVIPC_SEM_INFO
d800 1
a800 1
.It Li KERN_SYSVIPC_SHM_INFO
d823 1
a826 1
.It Dv KERN_TTY_TKCANCC No "	int64_t	no"
d831 2
a840 2
.It Dv KERN_TTY_TKCANCC
Return the number of input characters in canonical mode.
d846 10
d873 21
a893 55
.It Dv KERN_STACKGAPRANDOM
Sets the range of the random value added to the stack pointer on each
program execution.
The random value is added to make buffer overflow exploitation slightly
harder.
The bigger the number, the harder it is to brute force this added protection,
but it also means bigger waste of memory.
.It Dv KERN_USERASYMCRYPTO
Permits userland to use
.Pa /dev/crypto
for cryptographic support for asymmetric (public) key operations via hardware
cryptographic devices.
kern.usercrypto must also be set.
.It Dv KERN_USERCRYPTO
Permits userland to use
.Pa /dev/crypto
for cryptographic support via hardware cryptographic devices.
.It Dv KERN_CRYPTODEVALLOWSOFT
Permits userland to use
.Pa /dev/crypto
even if there is no hardware crypto accelerator in the system.
.It Dv KERN_PROC_ARGS
Returns the arguments or environment of a process.
The third level name is the pid of the process.
The fourth level name is one of:
.Bl -column KERN_PROC_NARGVXXX -offset indent
.It Dv KERN_PROC_ARGV
.It Dv KERN_PROC_NARGV
.It Dv KERN_PROC_ENV
.It Dv KERN_PROC_NENV
.El
.Pp
.Dv KERN_PROC_NARGV
and
.Dv KERN_PROC_NENV
return the number of elements in the argv or env array.
.Dv KERN_PROC_ARG
returns the argv array and
.Dv KERN_PROC_ENV
returns the environ array.
.It Dv KERN_WATCHDOG
If the kernel does not support a hardware watchdog timer,
attempts to retrieve or set any of the
.Dv KERN_WATCHDOG
values will fail with
.Er EOPNOTSUPP .
.Bl -column "KERN_WATCHDOG_PERIOD" "integer" "yes" -offset indent
.It Sy "Third level name"	Type	Changeable
.It Dv KERN_WATCHDOG_PERIOD	integer	yes
.It Dv KERN_WATCHDOG_AUTO	integer	yes
.El
.Pp
The variables are as follows:
.Bl -tag -width "123456"
.It Dv KERN_WATCHDOG_PERIOD
a895 6
.It Dv KERN_WATCHDOG_AUTO
If set to 1, the kernel refreshes the watchdog timer periodically.
If set to 0, a userland process must ensure that the watchdog timer
gets refreshed by setting the
.Dv KERN_WATCHDOG_PERIOD
variable.
a916 1
.Pp
d931 1
a932 1
.It Dv NET_RT_DUMP No "	None"
d941 1
a941 1
.Bl -column "Protocol name" "ipsec-soft-bytes" "integer" -offset indent
d943 11
a953 4
.It ip	forwarding	integer	yes
.It ip	redirect	integer	yes
.It ip	ttl	integer	yes
.It ip	sourceroute	integer	yes
a954 5
.It ip	portfirst	integer	yes
.It ip	portlast	integer	yes
.It ip	porthifirst	integer	yes
.It ip	porthilast	integer	yes
.It ip	maxqueue	integer	yes
d956 8
a966 1
.It ip	ipsec-allocs	integer	yes
d968 2
a969 1
.It ip	ipsec-bytes	integer	yes
d971 1
a971 7
.It ip	ipsec-soft-timeout	integer	yes
.It ip	ipsec-soft-firstuse	integer	yes
.It ip	ipsec-firstuse	integer	yes
.It ip	ipsec-enc-alg	string	yes
.It ip	ipsec-auth-alg	string	yes
.It ip	ipsec-comp-alg	string	yes
.It ip	ipsec-expire-acquire	integer	yes
d974 8
a981 6
.It icmp	maskrepl	integer	yes
.It icmp	bmcastecho	integer	yes
.It icmp	errppslimit	integer	yes
.It icmp	rediraccept	integer	yes
.It icmp	redirtimeout	integer	yes
.It icmp	tstamprepl	integer	yes
d983 4
a986 1
.It tcp	rfc1323	integer	yes
d988 1
a989 1
.It tcp	keepidle	integer	yes
d991 1
a991 2
.It tcp	slowhz	integer	no
.It tcp	baddynamic	array	yes
d993 3
d997 2
a998 5
.It tcp	sack	integer	yes
.It tcp	mssdflt	integer	yes
.It tcp	rstppslimit	integer	yes
.It tcp	ackonpush	integer	yes
.It tcp	ecn	integer	yes
a999 1
.It udp	baddynamic	array	yes
a1001 7
.It gre	allow	integer	yes
.It gre	wccp	integer	yes
.It esp	enable	integer	yes
.It ah	enable	integer	yes
.It ipcomp	enable	integer	yes
.It mobileip	allow	integer	yes
.It etherip	allow	integer	yes
d1006 41
a1046 7
.It Li ip.forwarding
Returns 1 when
.Tn IP
forwarding is enabled for the host,
indicating the host is acting as a router.
.It Li ip.redirect
Returns 1 when
d1048 12
a1059 17
redirects may be sent by the host.
This option is ignored unless the host is routing
.Tn IP
packets,
and should normally be enabled on all systems.
.It Li ip.ttl
The maximum time-to-live (hop count) value for an
.Tn IP
packet sourced by
the system.
This value applies to normal transport protocols, not to
.Tn ICMP .
.It Li ip.sourceroute
Returns 1 when forwarding of source-routed packets is enabled for
the host.
This value may only be changed if the kernel security
level is less than 1.
d1068 67
a1158 6
.It Li ip.ipsec-allocs
The number of IPsec flows that can use a security association before
it will expire.
If set to less than or equal to zero, the security association will not
expire because of this counter.
The default value is 0.
d1166 9
a1174 8
.It Li ip.ipsec-bytes
The number of bytes that will be processed by a security association
before it will expire.
If set to less than or equal to zero, the security association will not
expire because of this counter.
The default value is 0.
.It Li ip.ipsec-soft-timeout
The number of seconds after a security association is established
d1186 3
a1188 49
.It Li ip.ipsec-soft-firstuse
The number of seconds after a security association is first used
before a message is sent by the kernel to key management for
renegotiation of the security association.
If set to less than or equal to zero, no message is sent to key
management.
The default value is 3600 seconds.
.It Li ip.ipsec-firstuse
The number of seconds after a security association is first use before
it will expire.
If set to less than or equal to zero, the security association will
not expire because of this timer.
The default value is 7200 seconds.
.It Li ip.ipsec-enc-alg
This is the default encryption algorithm the kernel will instruct key
management daemons to negotiate when establishing security
associations on behalf of the kernel.
Such security associations can occur as a result of a process having
requested some security level through
.Xr setsockopt 2 ,
or as a result of dynamic
.Xr vpn 8
entries.
Supported values are des, 3des, blowfish, cast128, and skipjack.
If set to any other value, it is left to the key management daemons to
select an encryption algorithm for the security association.
The default value is 3des.
.It Li ip.ipsec-auth-alg
This is the default authentication algorithm the kernel will instruct
key management daemons to negotiate when establishing security
associations on behalf of the kernel.
Such security associations can occur as a result of a process having
requested some security level through
.Xr setsockopt 2 ,
or as a result of dynamic
.Xr vpn 8
entries.
Supported values are hmac-md5, hmac-sha1, and hmac-ripemd160.
If set to any other value, it is left to the key management daemons to
select an authentiction algorithm for the security association.
The default value is hmac-sha1.
.It Li ip.ipsec-expire-acquire
How long should the kernel allow key management to dynamically acquire
security associations, before re-sending a request.
The default value is 30 seconds.
.It Li ip.ipsec-keep-invalid
How long half-created security associations should be kept by the kernel
(these are created by key management daemons while negotiating).
The default value is 60 seconds.
d1196 49
a1250 7
.It Li gre.allow
If set to 0, incoming GRE packets will not be processed.
If set to any other value, processing will occur.
.It Li gre.wccp
If set to 0, incoming WCCPv1-style GRE packets will not be processed.
If set to any other value, and gre.allow allows GRE packet processing,
WCCPv1-style GRE packets will be processed.
d1255 4
a1258 25
.It Li etherip.allow
If set to 0, incoming Ethernet-in-IPv4 packets will not be processed.
If set to any other value, processing will occur.
.It Li icmp.maskrepl
Returns 1 if
.Tn ICMP
network mask requests are to be answered.
.It Li icmp.errppslimit
The variable specifies the maximum number of outgoing ICMP error messages
per second.
ICMP error messages that exceeded the value are subject to rate limitation
and will not go out from the node.
Negative value disables rate limitation.
.It Li icmp.rediraccept
If set to non-zero, the host will accept ICMP redirect packets.
Note that routers will never accept ICMP redirect packets,
and the variable is meaningful on IP hosts only.
.It Li icmp.redirtimeout
The variable specifies lifetime of routing entries generated by incoming
ICMP redirect.
The default timeout is 10 minutes.
.It Li tcp.rfc1323
Returns 1 if RFC1323 extensions to
.Tn TCP
are enabled.
d1267 2
d1275 1
a1275 2
If no such socket exists then the euid and ruid values are both
set to -1.
d1281 2
d1287 3
a1289 9
.It Li tcp.slowhz
The units for tcp.keepidle and tcp.keepintvl; those variables are in ticks
of a clock that ticks tcp.slowhz times per second.
(That is, their values must be divided by the tcp.slowhz value to get times
in seconds.)
.It Li tcp.sendspace
Returns the default
.Tn TCP
send buffer size.
d1294 4
a1297 5
.It Li tcp.sack
Returns 1 if RFC2018 Selective Acknowledgements are enabled.
.It Li tcp.mssdflt
The maximum segment size that is used as default for non-local connections.
The default value is 512.
d1299 1
a1299 1
The variable specifies the maximum number of outgoing TCP RST packets
d1301 1
a1301 1
TCP RST packet that exceeded the value are subject to rate limitation
d1303 18
a1320 7
Negative value disables rate limitation.
.It Li tcp.ackonpush
Returns 1 if tcp segments with the
.Dv TH_PUSH
set are being acknowledged immediately, otherwise 0.
.It Li tcp.ecn
Returns 1 if Explicit Congestion Notifications for TCP are enabled.
d1328 2
a1329 4
.It Li udp.baddynamic
Analogous to
.Li tcp.baddynamic
but for
d1331 1
a1331 1
sockets.
a1335 4
.It Li udp.recvspace
Returns the default
.Tn UDP
receive buffer size.
d1344 18
a1361 1
.It Pa Protocol name	Variable name	Type	Changeable
d1363 1
a1363 1
.It ip6	redirect	integer	yes
d1365 1
a1365 2
.It ip6	maxfragpackets	integer	yes
.It ip6	accept_rtadv	integer	yes
d1368 4
a1371 5
.It ip6	hdrnestlimit	integer	yes
.It ip6	dad_count	integer	yes
.It ip6	auto_flowlabel	integer	yes
.It ip6	defmcasthlim	integer	yes
.It ip6	kame_version	string	no
a1372 1
.It ip6	rr_prune	integer	yes
a1373 14
.It ip6	maxfrags	integer	yes
.It icmp6	rediraccept	integer	yes
.It icmp6	redirtimeout	integer	yes
.It icmp6	nd6_prune	integer	yes
.It icmp6	nd6_delay	integer	yes
.It icmp6	nd6_umaxtries	integer	yes
.It icmp6	nd6_mmaxtries	integer	yes
.It icmp6	nd6_useloopback	integer	yes
.It icmp6	nodeinfo	integer	yes
.It icmp6	errppslimit	integer	yes
.It icmp6	nd6_maxnudhint	integer	yes
.It icmp6	mtudisc_hiwat	integer	yes
.It icmp6	mtudisc_lowat	integer	yes
.It icmp6	nd6_debug	integer	yes
d1377 117
a1493 1
.Bl -tag -width "123456"
d1506 5
a1510 4
.It Li ip6.redirect
Returns 1 when ICMPv6 redirects may be sent by the node.
This option is ignored unless the node is routing IP packets,
and should normally be enabled on all systems.
d1516 5
a1520 12
.It Li ip6.maxfragpackets
The maximum number of fragmented packets the node will accept.
0 means that the node will not accept any fragmented packets.
-1 means that the node will accept as many fragmented packets as it receives.
The flag is provided basically for avoiding possible DoS attacks.
.It Li ip6.accept_rtadv
If set to non-zero, the node will accept ICMPv6 router advertisement packets
and autoconfigures address prefixes and default routers.
The node must be a host
.Pq not a router
for the option to be meaningful (see
.Li ip6.forwarding Ns ).
d1530 1
d1536 18
a1553 23
.It Li ip6.hdrnestlimit
The number of IPv6 extension headers permitted on incoming IPv6 packets.
If set to 0, the node will accept as many extension headers as possible.
.It Li ip6.dad_count
The variable configures the number of IPv6 DAD
.Pq duplicated address detection
probe packets.
These packets are generated when IPv6 interfaces are first brought up.
.It Li ip6.auto_flowlabel
On connected transport protocol packets,
fill IPv6 flowlabel field to help intermediate routers identify
packet flows.
.It Li ip6.defmcasthlim
The default hop limit value for an IPv6 multicast packet sourced by the node.
This value applies to all the transport protocols on top of IPv6.
Methods for overriding this value are documented in
.Xr ip6 4 .
.It Li ip6.kame_version
The string identifies the version of the KAME IPv6 stack implemented
in the kernel.
.It Li ip6.use_deprecated
The variable controls use of deprecated addresses, specified in
RFC2462 5.5.4.
d1555 1
a1555 1
The variable specifies interval between IPv6 router renumbering prefix
d1557 5
d1563 1
a1563 1
The variable specifies initial value for
d1565 1
a1565 1
socket option for
a1569 83
.It Li ip6.maxfrags
The maximum number of fragments the node will accept.
0 means that the node will not accept any fragments.
-1 means that the node will accept as many fragments as it receives.
The flag is provided basically for avoiding possible DoS attacks.
.It Li icmp6.rediraccept
If set to non-zero, the host will accept ICMPv6 redirect packets.
Note that IPv6 routers will never accept ICMPv6 redirect packets,
so the variable is only meaningful on IPv6 hosts, not on routers.
.It Li icmp6.redirtimeout
The variable specifies the lifetime of routing entries generated by
incoming ICMPv6 redirects.
.It Li icmp6.nd6_prune
The variable specifies interval between IPv6 neighbor cache babysitting
in seconds.
.It Li icmp6.nd6_delay
The variable specifies
.Dv DELAY_FIRST_PROBE_TIME
timing constant in IPv6 neighbor discovery specification
.Pq RFC2461 ,
in seconds.
.It Li icmp6.nd6_umaxtries
The variable specifies
.Dv MAX_UNICAST_SOLICIT
constant in IPv6 neighbor discovery specification
.Pq RFC2461 .
.It Li icmp6.nd6_mmaxtries
The variable specifies
.Dv MAX_MULTICAST_SOLICIT
constant in IPv6 neighbor discovery specification
.Pq RFC2461 .
.It Li icmp6.nd6_useloopback
If set to non-zero, IPv6 will use the loopback interface for local traffic.
.It Li icmp6.nodeinfo
The variable enables responses to ICMPv6 node information queries.
If you set the variable to 0, responses will not be generated for
ICMPv6 node information queries.
Since node information queries can have a security impact, it is
possible to fine tune which responses should be answered.
Two separate bits can be set.
.Bl -tag -width "12345"
.It 1
Respond to ICMPv6 FQDN queries, e.g.
.Li ping6 -w .
.It 2
Respond to ICMPv6 node addresses queries, e.g.
.Li ping6 -a .
.El
.It Li icmp6.errppslimit
The variable specifies the maximum number of outgoing ICMPv6 error messages
per second.
ICMPv6 error messages that exceeded the value is subject to rate limitation
and will not go out from the node.
A negative value will disable the rate limitation.
.It Li icmp6.nd6_maxnudhint
IPv6 neighbor discovery permits upper layer protocols to supply reachability
hints, to avoid unnecessary neighbor discovery exchanges.
The variable defines the number of consecutive hints the neighbor discovery
layer will take.
For example, by setting the variable to 3, neighbor discovery can take
take a maximum of 3 consecutive hints.
After receiving 3 hints, the neighbor discovery layer will instead perform
the normal neighbor discovery process.
.It Li icmp6.mtudisc_hiwat
.It Li icmp6.mtudisc_lowat
These variables define the maximum number of routing table entries,
created due to path MTU discovery
.Pq preventing denial-of-service attacks with ICMPv6 too big messages .
After IPv6 path MTU discovery happens, path MTU information is kept in
the routing table.
If the number of routing table entries exceed the value,
the kernel will not attempt to keep the path MTU information.
.Li icmp6.mtudisc_hiwat
is used when we have verified ICMPv6 too big messages.
.Li icmp6.mtudisc_lowat
is used when we have unverified ICMPv6 too big messages.
Verification is performed by using address/port pairs kept in connected pcbs.
Negative value disables the upper limit.
.It Li icmp6.nd6_debug
If set to non-zero, IPv6 neighbor discovery will generate debugging
messages.
The debug outputs are useful for diagnosing IPv6 interoperability issues.
The flag must be set to 0 for normal operation.
a1596 1
.It Dv USER_POSIX2_CHAR_TERM No "	integer	no"
d1599 1
d1639 1
a1639 1
parenthesis by the
a1644 3
.It Dv USER_POSIX2_CHAR_TERM
Return 1 if the system supports at least one terminal type capable of
all operations described in POSIX 1003.2, otherwise 0.
d1651 3
d1680 6
a1685 5
.Ss CTL_DDB
Integer information and settable variables are available for the
.Dv CTL_DDB level, as described below.
More information is also available in
.Xr ddb 4 .
d1688 12
a1699 5
.It Dv DBCTL_RADIX No "	integer	yes"
.It Dv DBCTL_MAXWIDTH No "	integer	yes"
.It Dv DBCTL_TABSTOP No "	integer	yes"
.It Dv DBCTL_PANIC No "	integer	yes"
.It Dv DBCTL_CONSOLE No "	integer	yes"
d1701 6
d1708 29
a1736 28
.Bl -tag -width "123456"
.It Dv DBCTL_RADIX
Determines the default radix or base for non-prefixed numbers
entered into
.Xr ddb 4 .
This variable is also available as the ddb $radix variable.
.It Dv DBCTL_MAXWIDTH
Determines the maximum width of a line in
.Xr ddb 4 .
This variable is also available as the ddb $maxwidth variable.
.It Dv DBCTL_TABSTOP
Width of a tab stop in
.Xr ddb 4 .
This variable is also available as the ddb $tabstops variable.
.It Dv DBCTL_PANIC
When this variable is set, system panics may drop into the
kernel debugger.
As described in
.Xr securelevel 7 ,
a security level greater than 1 blocks modification of this variable.
.Xr ddb 4 .
.It Dv DBCTL_CONSOLE
When this variable is set, an architecture dependent magic key sequence
on the console or a debugger button will permit entry into the
kernel debugger.
As described in
.Xr securelevel 7 ,
a security level greater than 1 blocks modification of this variable.
d1746 1
d1748 1
d1750 2
d1753 1
d1755 2
a1756 1
.It Dv VM_VMMETER No "	struct vmtotal	no"
a1757 1
.Pp
d1759 3
d1766 3
d1773 7
a1785 1
.It Dv SWPENC_ENABLE No "	integer	yes"
d1788 1
d1791 8
a1807 8
.It Dv SWPENC_CREATED
The number of encryption keys that have been randomly created.
The swap partition is divided into sections of normally 512KB.
Each section has its own encryption key.
.It Dv SWPENC_DELETED
The number of encryption keys that have been deleted, thus effectivly
erasing the data that has been encrypted with them.
Encryption keys are deleted when their reference counter reaches zero.
d1809 2
d1813 6
a1818 51
.It Dv VM_METER:
Contains statistics about the memory management system, using the old
VM format.
.El
.Ss CTL_VFS
The string and integer information available for the
.Dv CTL_VFS
level is detailed below.
The changeable column shows whether a process with appropriate
privileges may change the value.
.Bl -column "Second level nameXXXXXX" "struct loadavgXXX" -offset indent
.It Sy Second level name	Type	Changeable
.It Dv VFS_GENERIC No "	vm generic info	no"
.It Dv filesystem # No "	filesystem info	no"
.El
.Pp
.Bl -tag -width "123456"
.It Dv VFS_GENERIC
This second level identifier requests generic information about the
vfs layer.
Within it, the following third level identifiers exist:
.Pp
.Bl -column "Third level nameXXXXXX" "struct loadavgXXX" -offset indent
.It Sy Third level name	Type	Changeable
.It Dv VFS_MAXTYPENUM No "	int	no"
.It Dv VFS_CONF No "	struct vfsconf	no"
.El
.It filesystem #
After finding the filesystem dependent vfc_typenum using
.Dv VFS_GENERIC
with
.Dv VFS_CONF ,
it is possible to access filesystem dependent information.
.Pp
Some filesystems may contain settings.
.Bl -tag -width "123"
.It ffs
.Bl -column "Third level nameXXX" "struct loadavgXXX" -offset ind
.It Sy Third level name	Type	Changeable
.It Dv FFS_CLUSTERREAD No "	int	yes"
.It Dv FFS_CLUSTERWRITE No "	int	yes"
.It Dv FFS_REALLOCBLOCKS No "	int	yes"
.It Dv FFS_ASYNCFREE No "	int	yes"
.El
.It nfs
.Bl -column "Third level nameXXX" "struct loadavgXXX" -offset ind
.It Sy Third level name	Type	Changeable
.It Dv NFS_NFSSTATS No "	struct nfsstats	yes"
.It Dv NFS_NIOTHREADS No "	int	yes"
.El
.El
d1826 43
a1910 37
.Sh FILES
.Bl -tag -width <uvm/uvmXswapXencrypt.h> -compact
.It Aq Pa sys/sysctl.h
definitions for top level identifiers, second level kernel and hardware
identifiers, and user level identifiers
.It Aq Pa sys/socket.h
definitions for second level network identifiers
.It Aq Pa sys/gmon.h
definitions for third level profiling identifiers
.It Aq Pa vm/vm_param.h
definitions for second level virtual memory identifiers
.It Aq Pa uvm/uvm_swap_encrypt.h
definitions for third level virtual memory identifiers
.It Aq Pa netinet/in.h
definitions for third level IPv4/v6 identifiers and
fourth level
.Tn IP
and
.Tn IPv6
identifiers
.It Aq Pa netinet/icmp_var.h
definitions for fourth level
.Tn ICMP
identifiers
.It Aq Pa netinet/icmp6.h
definitions for fourth level
.Tn ICMPv6
identifiers
.It Aq Pa netinet/tcp_var.h
definitions for fourth level
.Tn TCP
identifiers
.It Aq Pa netinet/udp_var.h
definitions for fourth level
.Tn UDP
identifiers
.El
d1912 3
@


1.1.1.1
log
@Import OpenBSD 3.3 source repository from CTM 3132 the first time
This opens an OpenBSD-mirabile (aka MirBSD) repository.

### MirBSD is:
# Copyright (c) 1982-2003 by Thorsten "mirabile" Glaser <x86@@ePost.de>
# Copyright  1968-2003  The authors of And contributors to UNIX, the
#       C Language, BSD/Berkeley Unix; 386BSD, NetBSD 1.1 and OpenBSD.
#
# Anyone who obtained a copy of this work is hereby permitted to freely use,
# distribute, modify, merge, sublicence, give away or sell it as long as the
# authors are given due credit and the following notice is retained:
#
# This work is provided "as is", with no explicit or implicit warranty what-
# soever. Use it only at your own risk. In no event may an author or contri-
# butor be held liable for any damage, directly or indirectly, that origina-
# ted through or is caused by creation or modification of this work.

MirBSD is my private tree. MirBSD does not differ very much from OpenBSD
and intentionally tracks OpenBSD. That's why it _is_ OpenBSD, just not the
official one. It's like with DarrenBSD.

At time of this writing, no advertising for MirBSD must be done,
because the advertising clause has not yet been sorted out.

http://templeofhate.com/tglaser/MirBSD/index.php
@
text
@@


1.1.1.2
log
@sync the libraries as well before doing flag day
@
text
@d1 1
a1 1
.\"	$OpenBSD: sysctl.3,v 1.102 2003/05/03 19:04:40 jmc Exp $
a232 1
.It Dv HW_SENSORS No "	struct	no"
d239 1
a239 1
The machine model.
a257 4
.It Dv HW_SENSORS
An array of
.Li struct sensor
structures containing information from the hardware monitoring sensors.
d405 1
a405 1
This structure contains information about the
d638 1
a638 1
.It Sy Third level name	Type
d1165 1
a1165 1
.It Sy Protocol name	Variable name	Type	Changeable
@


1.1.1.3
log
@Import latest OpenBSD CVS tree by CTM in order
to sync the base system and ports tree with Them.

This includes the recent licence changes as well - by
importing the changed base and re-applying the diffs
(with cvs up -j -j) they are inherited, and we're not
bound to the removed clauses any longer.
@
text
@d1 1
a1 1
.\"	$OpenBSD: sysctl.3,v 1.104 2003/06/02 20:18:35 millert Exp $
d14 5
a18 1
.\" 3. Neither the name of the University nor the names of its contributors
d580 1
a580 1
The maximum number of semaphores allowed per ID.
d1236 1
a1236 1
.Li ip6.forwarding ) .
d1480 1
a1480 2
.Dv CTL_DDB level ,
as described below.
d1576 1
a1576 1
.It Dv VM_METER
a1633 37
.Sh FILES
.Bl -tag -width <uvm/uvmXswapXencrypt.h> -compact
.It Aq Pa sys/sysctl.h
definitions for top level identifiers, second level kernel and hardware
identifiers, and user level identifiers
.It Aq Pa sys/socket.h
definitions for second level network identifiers
.It Aq Pa sys/gmon.h
definitions for third level profiling identifiers
.It Aq Pa vm/vm_param.h
definitions for second level virtual memory identifiers
.It Aq Pa uvm/uvm_swap_encrypt.h
definitions for third level virtual memory identifiers
.It Aq Pa netinet/in.h
definitions for third level IPv4/v6 identifiers and
fourth level
.Tn IP
and
.Tn IPv6
identifiers
.It Aq Pa netinet/icmp_var.h
definitions for fourth level
.Tn ICMP
identifiers
.It Aq Pa netinet/icmp6.h
definitions for fourth level
.Tn ICMPv6
identifiers
.It Aq Pa netinet/tcp_var.h
definitions for fourth level
.Tn TCP
identifiers
.It Aq Pa netinet/udp_var.h
definitions for fourth level
.Tn UDP
identifiers
.El
d1675 37
@


1.1.1.4
log
@the previous cvs import did not finish due to 'memory fault'
sync with OpenBSD-cvs
@
text
@d1 1
a1 1
.\"	$OpenBSD: sysctl.3,v 1.106 2003/06/29 07:23:19 jmc Exp $
a1486 1
.It Dv DBCTL_LOG No "	integer	yes"
a1516 2
.It Dv DBCTL_LOG
When set, ddb output is also logged in the kernel message buffer.
@


1.1.1.5
log
@Import the complete OpenBSD source tree (base system)
as of CTM delta 3496 (roughly 1200 UTC today) into the
vendor branch.
Attention: this is a big update. Don't even try to
build this system, OpenBSD 3.4-beta, yet on your own.
@
text
@d1 1
a1 1
.\"	$OpenBSD: sysctl.3,v 1.108 2003/08/08 09:26:02 jmc Exp $
a921 27
.It Li ip.portfirst
Minimum registered port number for TCP/UDP port allocation.
Registered ports can be used by ordinary user processes
or programs executed by ordinary users.
Cannot be less than 1024 or greater than 49151.
Must be less than ip.portlast.
.It Li ip.portlast
Maximum registered port number for TCP/UDP port allocation.
Registered ports can be used by ordinary user processes
or programs executed by ordinary users.
Cannot be less than 1024 or greater than 49151.
Must be greater than ip.portfirst.
.It Li ip.porthifirst
Maximum dynamic/private port number for TCP/UDP port allocation.
Dynamic/private ports can be used by ordinary user processes
or programs executed by ordinary users.
Cannot be less than 49152 or greater than 65535.
Must be less than ip.porthilast.
.It Li ip.porthilast
Maximum dynamic/private port number for TCP/UDP port allocation.
Dynamic/private ports can be used by ordinary user processes
or programs executed by ordinary users.
Cannot be less than 49152 or greater than 65535.
Must be greater than ip.porthifirst.
.It Li ip.maxqueue
Fragment flood protection.
Sets the maximum number of unassembled IP fragments in the fragment queue.
d1079 1
a1079 1
Returns 1 if RFC 1323 extensions to
d1121 1
a1121 1
Returns 1 if RFC 2018 Selective Acknowledgements are enabled.
d1269 1
a1269 1
RFC 2462 5.5.4.
d1300 1
a1300 1
.Pq RFC 2461 ,
d1306 1
a1306 1
.Pq RFC 2461 .
d1311 1
a1311 1
.Pq RFC 2461 .
@


1.1.1.6
log
@Release Time. Synchronize with OpenBSD 3.4-current (base system).
@
text
@d1 1
a1 1
.\"	$OpenBSD: sysctl.3,v 1.109 2003/09/09 10:00:24 jmc Exp $
d122 1
a124 1
.It Dv CTL_DDB No "	ddb/db_var.h	Kernel debugger"
a131 1
.It Dv CTL_VFS No "	ufs/ffs/ffs_extern.h	Virtual file system"
d137 2
a138 1
.Bd -literal -offset indent
d149 2
a150 1
.Bd -literal -offset indent
a160 56
.Ss CTL_DDB
Integer information and settable variables are available for the
.Dv CTL_DDB level ,
as described below.
More information is also available in
.Xr ddb 4 .
.Bl -column "Second level nameXXXXXX" "struct loadavgXXX" -offset indent
.It Sy Second level name	Type	Changeable
.It Dv DBCTL_CONSOLE No "	integer	yes"
.It Dv DBCTL_LOG No "	integer	yes"
.It Dv DBCTL_MAXLINE No "	integer	yes"
.It Dv DBCTL_MAXWIDTH No "	integer	yes"
.It Dv DBCTL_PANIC No "	integer	yes"
.It Dv DBCTL_RADIX No "	integer	yes"
.It Dv DBCTL_TABSTOP No "	integer	yes"
.El
.Bl -tag -width "123456"
.It Dv DBCTL_CONSOLE
When this variable is set, an architecture dependent magic key sequence
on the console or a debugger button will permit entry into the kernel debugger.
As described in
.Xr securelevel 7 ,
a security level greater than 1 blocks modification of this variable.
.It Dv DBCTL_LOG
When set, ddb output is also logged in the kernel message buffer.
.It Dv DBCTL_MAXLINE
Determines the number of lines to page in
.Xr ddb 4 .
This variable is also available as the ddb
.Dv $lines
variable.
.It Dv DBCTL_MAXWIDTH
Determines the maximum width of a line in
.Xr ddb 4 .
This variable is also available as the ddb
.Dv $maxwidth
variable.
.It Dv DBCTL_PANIC
When this variable is set, system panics may drop into the kernel debugger.
As described in
.Xr securelevel 7 ,
a security level greater than 1 blocks modification of this variable.
.It Dv DBCTL_RADIX
Determines the default radix or base for non-prefixed numbers
entered into
.Xr ddb 4 .
This variable is also available as the ddb
.Dv $radix
variable.
.It Dv DBCTL_TABSTOP
Width of a tab stop in
.Xr ddb 4 .
This variable is also available as the ddb
.Dv $tabstops
variable.
.El
d183 2
a184 1
.Bd -literal -offset indent
d198 1
d209 1
a209 1
this variable may not be changed if the securelevel is \*(Gt 0.
a218 4
.It Dv HW_BYTEORDER No "	integer	no"
.It Dv HW_DISKCOUNT No "	integer	no"
.It Dv HW_DISKNAMES No "	string	no"
.It Dv HW_DISKSTATS No "	struct	no"
d222 3
d226 3
a228 1
.It Dv HW_PHYSMEM No "	integer	no"
a229 1
.It Dv HW_USERMEM No "	integer	no"
d231 1
d233 6
d241 6
a246 2
.It Dv HW_DISKCOUNT
The number of disks currently attached to the system.
d253 2
a254 10
.It Dv HW_MACHINE
The machine class.
.It Dv HW_MODEL
The machine model.
.It Dv HW_NCPU
The number of CPUs.
.It Dv HW_PAGESIZE
The software page size.
.It Dv HW_PHYSMEM
The bytes of physical memory.
a258 2
.It Dv HW_USERMEM
The bytes of non-kernel memory.
a274 1
.It Dv KERN_CCPU No "	integer	no"
a276 1
.It Dv KERN_CRYPTODEVALLOWSOFT No "	integer	yes"
a277 1
.It Dv KERN_EMUL No "	node	not applicable"
d279 1
a280 2
.It Dv KERN_FSCALE No "	integer	no"
.It Dv KERN_FSYNC No "	integer	no"
a282 1
.It Dv KERN_INTRCNT No "	node	not applicable"
a289 1
.It Dv KERN_MSGBUF No "	char[]	no"
a300 1
.It Dv KERN_OSVERSION No "	string	no"
a302 1
.It Dv KERN_PROC_ARGS No "	node	not applicable"
d310 1
a311 3
.It Dv KERN_SOMINCONN No "	integer	yes"
.It Dv KERN_SPLASSERT No "	int	yes"
.It Dv KERN_STACKGAPRANDOM No "	integer	yes"
a317 2
.It Dv KERN_USERASYMCRYPTO No "	integer	yes"
.It Dv KERN_USERCRYPTO No "	integer	yes"
d321 5
a325 1
.It Dv KERN_WATCHDOG No "	node	not applicable"
d327 1
a344 2
.It Dv KERN_CCPU
The scheduler exponential decay value.
d353 1
a353 1
An array of longs of size
a357 4
.It Dv KERN_CRYPTODEVALLOWSOFT
Permits userland to use
.Pa /dev/crypto
even if there is no hardware crypto accelerator in the system.
a359 24
.It Dv KERN_EMUL
Enable binary emulation.
.Bl -column "KERN_EMUL_FREEBSD" "string" -offset indent
.It Sy Third level name	Type	Changeable
.It Dv KERN_EMUL_ENABLED No "	integer	yes"
.It Dv KERN_EMUL_NAME No "	string	yes"
.It Dv KERN_EMUL_NEMULS No "	integer	no"
.El
.Pp
Third level names in
.Dv KERN_EMUL
other than
.Dv KERN_EMUL_NEMULS
refer to a specific emulation available in the kernel.
Valid values range from 1 to the return value of
.Dv KERN_EMUL_NEMULS .
The fourth level names available are
.Dv KERN_EMUL_NAME ,
which returns a string with the emulation name, and
.Dv KERN_EMUL_ENABLED ,
which is an adjustable integer.
.Pp
Note that using this interface exposes duplicate entries which are
consolidated by the userland frontend.
d367 3
a376 1
and
a379 5
.It Dv KERN_FSCALE
The kernel fixed-point scale factor.
.It Dv KERN_FSYNC
Return 1 if the File Synchronisation Option is available on this system,
otherwise 0.
a385 38
.It Dv KERN_MALLOCSTATS
Return kernel memory bucket statistics.
The third level names are detailed below.
There are no changeable values in this branch.
.Bl -column "KERN_MALLOC_KMEMNAMES" "string" -offset indent
.It Sy Third level name		Type
.It Dv KERN_MALLOC_BUCKET No "		node"
.It Dv KERN_MALLOC_BUCKETS No "		string"
.It Dv KERN_MALLOC_KMEMNAMES No "		string"
.It Dv KERN_MALLOC_KMEMSTATS No "		node"
.El
.Pp
The variables are as follows:
.Bl -tag -width "123456"
.It Dv KERN_MALLOC_BUCKET.\*(Ltsize\*(Gt
A node containing the statistics for the memory bucket of the
specified size (in decimal notation, the number of bytes per bucket
element, e.g., 16, 32, 128).
Each node returns a
.Li struct kmembuckets .
.Pp
If a value is specified that does not correspond directly to a
bucket size, the statistics for the closest larger bucket size will be
returned instead.
.Pp
Note that bucket sizes are typically powers of 2.
.It Dv KERN_MALLOC_BUCKETS
Return a comma-separated list of the bucket sizes used by the kernel.
.It Dv KERN_MALLOC_KMEMNAMES
Return a comma-separated list of the names of the kernel
.Xr malloc 9
types.
.It Dv KERN_MALLOC_KMEMSTATS
A node containing the statistics for the memory types of the specified
name.
Each node returns a
.Li struct kmemstats .
.El
a399 2
.It Dv KERN_MSGBUF
Returns a buffer containing kernel log messages.
d414 2
a417 2
.It Dv KERN_NPROCS
The number of entries in the kernel process table.
a429 2
.It Dv KERN_OSVERSION
The kernel build version.
a442 1
.It Dv KERN_PROC_KTHREAD No "	A kernel thread"
a444 2
.It Dv KERN_PROC_RUID No "	A real user ID"
.It Dv KERN_PROC_SESSION No "	A session PID"
d447 12
d460 26
a485 9
.It Dv KERN_PROC_ARGS
Returns the arguments or environment of a process.
The third level name is the PID of the process.
The fourth level name is one of:
.Bl -column KERN_PROC_NARGVXXX -offset indent
.It Dv KERN_PROC_ARGV
.It Dv KERN_PROC_ENV
.It Dv KERN_PROC_NARGV
.It Dv KERN_PROC_NENV
a487 8
.Dv KERN_PROC_NARGV
and
.Dv KERN_PROC_NENV
return the number of elements in the argv or env array.
.Dv KERN_PROC_ARGV
returns the argv array and
.Dv KERN_PROC_ENV
returns the environ array.
a500 3
.It Dv GPROF_COUNT No "	u_short[]	yes"
.It Dv GPROF_FROMS No "	u_short[]	yes"
.It Dv GPROF_GMONPARAM No "	struct gmonparam	no"
d502 2
d505 1
a509 6
.It Dv GPROF_COUNT
Array of statistical program counter counts.
.It Dv GPROF_FROMS
Array indexed by program counter of call-from points.
.It Dv GPROF_GMONPARAM
Structure giving the sizes of the above arrays.
d516 4
d524 2
d556 9
a564 9
.It Dv KERN_SEMINFO_SEMAEM No "	integer	no"
.It Dv KERN_SEMINFO_SEMMNI No "	integer	yes"
.It Dv KERN_SEMINFO_SEMMNS No "	integer	yes"
.It Dv KERN_SEMINFO_SEMMNU No "	integer	yes"
.It Dv KERN_SEMINFO_SEMMSL No "	integer	yes"
.It Dv KERN_SEMINFO_SEMOPM No "	integer	yes"
.It Dv KERN_SEMINFO_SEMUME No "	integer	no"
.It Dv KERN_SEMINFO_SEMUSZ No "	integer	no"
.It Dv KERN_SEMINFO_SEMVMX No "	integer	no"
a568 2
.It Dv KERN_SEMINFO_SEMAEM
The adjust on exit maximum value.
d587 2
d605 5
a609 5
.It Dv KERN_SHMINFO_SHMALL No "	integer	yes"
.It Dv KERN_SHMINFO_SHMMAX No "	integer	yes"
.It Dv KERN_SHMINFO_SHMMIN No "	integer	yes"
.It Dv KERN_SHMINFO_SHMMNI No "	integer	yes"
.It Dv KERN_SHMINFO_SHMSEG No "	integer	yes"
a613 2
.It Dv KERN_SHMINFO_SHMALL
The maximum amount of total shared memory allowed in the system (in pages).
d622 2
a634 27
.It Dv KERN_SPLASSERT
Modify the system interrupt priority level.
Valid values are:
.Pp
.Bl -tag -width 3n -offset indent -compact
.It 0
Disable error checking.
.It 1
Print a message if an error is detected.
.It 2
Print a message if an error is detected,
and a stack trace if possible.
.It 3
The same as 2, but also drop into the kernel debugger.
.El
.Pp
Any other value causes a system panic on errors.
See
.Xr splassert 9
for more information.
.It Dv KERN_STACKGAPRANDOM
Sets the range of the random value added to the stack pointer on each
program execution.
The random value is added to make buffer overflow exploitation slightly
harder.
The bigger the number, the harder it is to brute force this added protection,
but it also means bigger waste of memory.
d640 3
a642 3
.It Dv KERN_SYSVIPC_MSG_INFO No "	struct msg_sysctl_info"
.It Dv KERN_SYSVIPC_SEM_INFO No "	struct sem_sysctl_info"
.It Dv KERN_SYSVIPC_SHM_INFO No "	struct shm_sysctl_info"
d644 1
d646 1
a646 1
.It Dv KERN_SYSVIPC_MSG_INFO
d652 1
a652 1
.It Dv KERN_SYSVIPC_SEM_INFO
d658 1
a658 1
.It Dv KERN_SYSVIPC_SHM_INFO
a680 1
.It Dv KERN_TTY_TKCANCC No "	int64_t	no"
d684 1
a688 2
.It Dv KERN_TTY_TKCANCC
Return the number of input characters in canonical mode.
d697 2
a703 10
.It Dv KERN_USERASYMCRYPTO
Permits userland to use
.Pa /dev/crypto
for cryptographic support for asymmetric (public) key operations via hardware
cryptographic devices.
kern.usercrypto must also be set.
.It Dv KERN_USERCRYPTO
Permits userland to use
.Pa /dev/crypto
for cryptographic support via hardware cryptographic devices.
d721 40
d769 2
a770 2
.It Dv KERN_WATCHDOG_AUTO No "	integer	yes"
.It Dv KERN_WATCHDOG_PERIOD No "	integer	yes"
d775 3
a783 3
.It Dv KERN_WATCHDOG_PERIOD
The period of the watchdog timer in seconds.
Set to 0 to disable the watchdog timer.
d805 1
d820 1
a821 1
.It Dv NET_RT_FLAGS No "	rtflags"
d830 1
a830 1
.Bl -column "Protocol name" "ipsec-soft-bytes " "integer" -offset indent
d832 4
a835 11
.It ah	enable	integer	yes
.It esp	enable	integer	yes
.It etherip	allow	integer	yes
.It gre	allow	integer	yes
.It gre	wccp	integer	yes
.It icmp	bmcastecho	integer	yes
.It icmp	errppslimit	integer	yes
.It icmp	maskrepl	integer	yes
.It icmp	rediraccept	integer	yes
.It icmp	redirtimeout	integer	yes
.It icmp	tstamprepl	integer	yes
d837 5
a842 8
.It ip	forwarding	integer	yes
.It ip	ipsec-allocs	integer	yes
.It ip	ipsec-auth-alg	string	yes
.It ip	ipsec-bytes	integer	yes
.It ip	ipsec-comp-alg	string	yes
.It ip	ipsec-enc-alg	string	yes
.It ip	ipsec-expire-acquire	integer	yes
.It ip	ipsec-firstuse	integer	yes
d846 1
d848 3
d852 5
a856 3
.It ip	ipsec-soft-timeout	integer	yes
.It ip	ipsec-timeout	integer	yes
.It ip	maxqueue	integer	yes
d859 6
a864 8
.It ip	portfirst	integer	yes
.It ip	porthifirst	integer	yes
.It ip	porthilast	integer	yes
.It ip	portlast	integer	yes
.It ip	redirect	integer	yes
.It ip	sourceroute	integer	yes
.It ip	ttl	integer	yes
.It ipcomp	enable	integer	yes
d866 1
a866 4
.It mobileip	allow	integer	yes
.It tcp	ackonpush	integer	yes
.It tcp	baddynamic	array	yes
.It tcp	ecn	integer	yes
d868 1
a869 1
.It tcp	keepinittime	integer	yes
d871 5
a876 2
.It tcp	recvspace	integer	yes
.It tcp	rfc1323	integer	yes
d878 3
a880 3
.It tcp	sack	integer	yes
.It tcp	sendspace	integer	yes
.It tcp	slowhz	integer	no
a881 1
.It udp	checksum	integer	yes
d884 7
d895 7
a901 41
.It Li ah.enable
If set to 1, enable Authentication Header
.Pq AH
IPsec protocol.
Enabled by default.
See
.Xr ipsec 4
for more information.
.It Li esp.enable
If set to 1, enable Encapsulating Security Payload
.Pq ESP
IPsec protocol.
Enabled by default.
See
.Xr ipsec 4
for more information.
.It Li etherip.allow
If set to 0, incoming Ethernet-in-IPv4 packets will not be processed.
If set to any other value, processing will occur.
.It Li gre.allow
If set to 0, incoming GRE packets will not be processed.
If set to any other value, processing will occur.
.It Li gre.wccp
If set to 0, incoming WCCPv1-style GRE packets will not be processed.
If set to any other value, and gre.allow allows GRE packet processing,
WCCPv1-style GRE packets will be processed.
.It Li icmp.bmcastecho
If set to 1, respond to ICMP echo requests destined for
broadcast and multicast addresses.
Note, enabling this could open a system to a type of denial of service attack
called
.Qq smurfing ,
and is thus not advised.
.It Li icmp.errppslimit
This variable specifies the maximum number of outgoing ICMP error messages
per second.
ICMP error messages that exceeded the value are subject to rate limitation
and will not go out from the node.
A negative value disables rate limitation.
.It Li icmp.maskrepl
Returns 1 if
d903 17
a919 12
network mask requests are to be answered.
.It Li icmp.rediraccept
If set to non-zero, the host will accept ICMP redirect packets.
Note that routers will never accept ICMP redirect packets,
and the variable is meaningful on IP hosts only.
.It Li icmp.redirtimeout
This variable specifies the lifetime of routing entries generated by incoming
ICMP redirect.
The default timeout is 10 minutes.
.It Li icmp.tstamprepl
If set to 1, reply to ICMP timestamp requests.
If set to 0, ignore timestamp requests.
d922 27
a954 67
.It Li ip.forwarding
Returns 1 when
.Tn IP
forwarding is enabled for the host,
indicating the host is acting as a router.
.It Li ip.ipsec-allocs
The number of IPsec flows that can use a security association before
it expires.
If set to less than or equal to zero, the security association will not
expire because of this counter.
The default value is 0.
.It Li ip.ipsec-auth-alg
This is the default authentication algorithm the kernel will instruct
key management daemons to negotiate when establishing security
associations on behalf of the kernel.
Such security associations can occur as a result of a process having
requested some security level through
.Xr setsockopt 2 ,
or as a result of dynamic
.Xr vpn 8
entries.
Supported values are hmac-md5, hmac-sha1, and hmac-ripemd160.
If set to any other value, it is left to the key management daemons to
select an authentiction algorithm for the security association.
The default value is hmac-sha1.
.It Li ip.ipsec-bytes
The number of bytes that will be processed by a security association
before it expires.
If set to less than or equal to zero, the security association will not
expire because of this counter.
The default value is 0.
.It Li ip.ipsec-comp-alg
The compression algorithm to use with an IP Compression Association
.Pq IPCA .
Possible values are
.Dq deflate
and
.Dq lzs .
Note that lzs is only available with
.Xr hifn 4 .
See
.Xr ipsecadm 8
for more information.
.It Li ip.ipsec-enc-alg
This is the default encryption algorithm the kernel will instruct key
management daemons to negotiate when establishing security
associations on behalf of the kernel.
Such security associations can occur as a result of a process having
requested some security level through
.Xr setsockopt 2 ,
or as a result of dynamic
.Xr vpn 8
entries.
Supported values are aes, des, 3des, blowfish, cast128, and skipjack.
If set to any other value, it is left to the key management daemons to
select an encryption algorithm for the security association.
The default value is aes.
.It Li ip.ipsec-expire-acquire
How long should the kernel allow key management to dynamically acquire
security associations, before re-sending a request.
The default value is 30 seconds.
.It Li ip.ipsec-firstuse
The number of seconds after a security association is first used before
it expires.
If set to less than or equal to zero, the security association will
not expire because of this timer.
The default value is 7200 seconds.
d979 6
d992 7
a998 8
.It Li ip.ipsec-soft-firstuse
The number of seconds after a security association is first used
before a message is sent by the kernel to key management for
renegotiation of the security association.
If set to less than or equal to zero, no message is sent to key
management.
The default value is 3600 seconds.
.It Li ip.ipsec-soft-timeout
d1011 49
a1059 3
.It Li ip.maxqueue
Fragment flood protection.
Sets the maximum number of unassembled IP fragments in the fragment queue.
a1066 49
.It Li ip.portfirst
Minimum registered port number for TCP/UDP port allocation.
Registered ports can be used by ordinary user processes
or programs executed by ordinary users.
Cannot be less than 1024 or greater than 49151.
Must be less than ip.portlast.
.It Li ip.porthifirst
Maximum dynamic/private port number for TCP/UDP port allocation.
Dynamic/private ports can be used by ordinary user processes
or programs executed by ordinary users.
Cannot be less than 49152 or greater than 65535.
Must be less than ip.porthilast.
.It Li ip.porthilast
Maximum dynamic/private port number for TCP/UDP port allocation.
Dynamic/private ports can be used by ordinary user processes
or programs executed by ordinary users.
Cannot be less than 49152 or greater than 65535.
Must be greater than ip.porthifirst.
.It Li ip.portlast
Maximum registered port number for TCP/UDP port allocation.
Registered ports can be used by ordinary user processes
or programs executed by ordinary users.
Cannot be less than 1024 or greater than 49151.
Must be greater than ip.portfirst.
.It Li ip.redirect
Returns 1 when
.Tn ICMP
redirects may be sent by the host.
This option is ignored unless the host is routing
.Tn IP
packets,
and should normally be enabled on all systems.
.It Li ip.sourceroute
Returns 1 when forwarding of source-routed packets is enabled for
the host.
This value may only be changed if the kernel security
level is less than 1.
.It Li ip.ttl
The maximum time-to-live (hop count) value for an
.Tn IP
packet sourced by
the system.
This value applies to normal transport protocols, not to
.Tn ICMP .
.It Li ipcomp.enable
Enable the IPComp protocol.
See
.Xr ipsecadm 8
for more information.
d1073 7
d1084 25
a1108 4
.It Li tcp.ackonpush
Returns 1 if tcp segments with the
.Dv TH_PUSH
set are being acknowledged immediately, otherwise 0.
a1116 2
.It Li tcp.ecn
Returns 1 if Explicit Congestion Notifications for TCP are enabled.
d1123 2
a1124 1
If no such socket exists, then the euid and ruid values are both set to \-1.
a1129 2
.It Li tcp.keepinittime
Unused.
d1134 9
a1142 3
.It Li tcp.mssdflt
The maximum segment size that is used as default for non-local connections.
The default value is 512.
d1147 5
a1151 4
.It Li tcp.rfc1323
Returns 1 if RFC 1323 extensions to
.Tn TCP
are enabled.
d1153 1
a1153 1
This variable specifies the maximum number of outgoing TCP RST packets
d1155 1
a1155 1
TCP RST packets that exceeded the value are subject to rate limitation
d1157 7
a1163 18
A negative value disables rate limitation.
.It Li tcp.sack
Returns 1 if RFC 2018 Selective Acknowledgements are enabled.
.It Li tcp.sendspace
Returns the default
.Tn TCP
send buffer size.
.It Li tcp.slowhz
The units for tcp.keepidle and tcp.keepintvl; those variables are in ticks
of a clock that ticks tcp.slowhz times per second.
(That is, their values must be divided by the tcp.slowhz value to get times
in seconds.)
.It Li udp.baddynamic
Analogous to
.Li tcp.baddynamic
but for
.Tn UDP
sockets.
d1171 4
a1174 2
.It Li udp.recvspace
Returns the default
d1176 1
a1176 1
receive buffer size.
d1181 4
d1194 4
a1197 13
.It icmp6	errppslimit	integer	yes
.It icmp6	mtudisc_hiwat	integer	yes
.It icmp6	mtudisc_lowat	integer	yes
.It icmp6	nd6_debug	integer	yes
.It icmp6	nd6_delay	integer	yes
.It icmp6	nd6_maxnudhint	integer	yes
.It icmp6	nd6_mmaxtries	integer	yes
.It icmp6	nd6_prune	integer	yes
.It icmp6	nd6_umaxtries	integer	yes
.It icmp6	nd6_useloopback	integer	yes
.It icmp6	nodeinfo	integer	yes
.It icmp6	rediraccept	integer	yes
.It icmp6	redirtimeout	integer	yes
d1199 4
a1203 1
.It ip6	dad_count	integer	yes
a1204 3
.It ip6	forwarding	integer	yes
.It ip6	hdrnestlimit	integer	yes
.It ip6	hlim	integer	yes
d1206 1
a1206 5
.It ip6	keepfaith	integer	yes
.It ip6	log_interval	integer	yes
.It ip6	maxfragpackets	integer	yes
.It ip6	maxfrags	integer	yes
.It ip6	redirect	integer	yes
a1207 1
.It ip6	use_deprecated	integer	yes
d1209 14
d1226 1
a1226 117
.Pp
.Bl -tag -width "123456" -compact
.It Li icmp6.errppslimit
This variable specifies the maximum number of outgoing ICMPv6 error messages
per second.
ICMPv6 error messages that exceeded the value are subject to rate limitation
and will not go out from the node.
A negative value will disable the rate limitation.
.Pp
.It Li icmp6.mtudisc_hiwat
.It Li icmp6.mtudisc_lowat
These variables define the maximum number of routing table entries,
created due to path MTU discovery
.Pq preventing denial-of-service attacks with ICMPv6 too big messages .
After IPv6 path MTU discovery happens, path MTU information is kept in
the routing table.
If the number of routing table entries exceed the value,
the kernel will not attempt to keep the path MTU information.
.Li icmp6.mtudisc_hiwat
is used when we have verified ICMPv6 too big messages.
.Li icmp6.mtudisc_lowat
is used when we have unverified ICMPv6 too big messages.
Verification is performed by using address/port pairs kept in connected pcbs.
A negative value disables the upper limit.
.Pp
.It Li icmp6.nd6_debug
If set to non-zero, IPv6 neighbor discovery will generate debugging
messages.
The debug output is useful for diagnosing IPv6 interoperability issues.
The flag must be set to 0 for normal operation.
.Pp
.It Li icmp6.nd6_delay
This variable specifies the
.Dv DELAY_FIRST_PROBE_TIME
timing constant in IPv6 neighbor discovery specification
.Pq RFC 2461 ,
in seconds.
.Pp
.It Li icmp6.nd6_maxnudhint
IPv6 neighbor discovery permits upper layer protocols to supply reachability
hints, to avoid unnecessary neighbor discovery exchanges.
This variable defines the number of consecutive hints the neighbor discovery
layer will take.
For example, by setting the variable to 3, neighbor discovery can take
take a maximum of 3 consecutive hints.
After receiving 3 hints, the neighbor discovery layer will instead perform
the normal neighbor discovery process.
.Pp
.It Li icmp6.nd6_mmaxtries
This variable specifies the
.Dv MAX_MULTICAST_SOLICIT
constant in IPv6 neighbor discovery specification
.Pq RFC 2461 .
.Pp
.It Li icmp6.nd6_prune
This variable specifies the interval between IPv6 neighbor cache babysitting
in seconds.
.Pp
.It Li icmp6.nd6_umaxtries
This variable specifies the
.Dv MAX_UNICAST_SOLICIT
constant in IPv6 neighbor discovery specification
.Pq RFC 2461 .
.Pp
.It Li icmp6.nd6_useloopback
If set to non-zero, IPv6 will use the loopback interface for local traffic.
.Pp
.It Li icmp6.nodeinfo
This variable enables responses to ICMPv6 node information queries.
If set to 0, responses will not be generated for
ICMPv6 node information queries.
Since node information queries can have a security impact, it is
possible to fine tune which responses should be answered.
Two separate bits can be set:
.Bl -tag -width "123" -offset indent
.It 1
Respond to ICMPv6 FQDN queries, e.g.
.Li ping6 -w .
.It 2
Respond to ICMPv6 node addresses queries, e.g.
.Li ping6 -a .
.El
.Pp
.It Li icmp6.rediraccept
If set to non-zero, the host will accept ICMPv6 redirect packets.
Note that IPv6 routers will never accept ICMPv6 redirect packets,
so the variable is only meaningful on IPv6 hosts, not on routers.
.Pp
.It Li icmp6.redirtimeout
The variable specifies the lifetime of routing entries generated by
incoming ICMPv6 redirects.
.Pp
.It Li ip6.accept_rtadv
If set to non-zero, the node will accept ICMPv6 router advertisement packets
and autoconfigures address prefixes and default routers.
The node must be a host
.Pq not a router
for the option to be meaningful (see
.Li ip6.forwarding ) .
.Pp
.It Li ip6.auto_flowlabel
On connected transport protocol packets,
fill IPv6 flowlabel field to help intermediate routers identify
packet flows.
.Pp
.It Li ip6.dad_count
This variable configures the number of IPv6 DAD
.Pq duplicated address detection
probe packets.
These packets are generated when IPv6 interfaces are first brought up.
.Pp
.It Li ip6.defmcasthlim
The default hop limit value for an IPv6 multicast packet sourced by the node.
This value applies to all the transport protocols on top of IPv6.
Methods for overriding this value are documented in
.Xr ip6 4 .
.Pp
d1239 4
a1242 5
.Pp
.It Li ip6.hdrnestlimit
The number of IPv6 extension headers permitted on incoming IPv6 packets.
If set to 0, the node will accept as many extension headers as possible.
.Pp
d1248 12
a1259 5
.Pp
.It Li ip6.kame_version
This string identifies the version of the KAME IPv6 stack implemented
in the kernel.
.Pp
a1268 1
.Pp
d1274 23
a1296 18
.Pp
.It Li ip6.maxfragpackets
The maximum number of fragmented packets the node will accept.
0 means that the node will not accept any fragmented packets.
\-1 means that the node will accept as many fragmented packets as it receives.
The flag is provided basically for avoiding possible DoS attacks.
.Pp
.It Li ip6.maxfrags
The maximum number of fragments the node will accept.
0 means that the node will not accept any fragments.
\-1 means that the node will accept as many fragments as it receives.
The flag is provided basically for avoiding possible DoS attacks.
.Pp
.It Li ip6.redirect
Returns 1 when ICMPv6 redirects may be sent by the node.
This option is ignored unless the node is routing IP packets,
and should normally be enabled on all systems.
.Pp
d1298 1
a1298 1
This variable specifies the interval between IPv6 router renumbering prefix
a1299 5
.Pp
.It Li ip6.use_deprecated
This variable controls use of deprecated addresses, specified in
RFC 2462 5.5.4.
.Pp
d1301 1
a1301 1
The variable specifies the initial value for the
d1303 1
a1303 1
socket option for an
d1308 83
d1418 1
a1420 1
.It Dv USER_POSIX2_CHAR_TERM No "	integer	no"
d1460 1
a1460 1
parentheses by the
d1466 3
a1474 3
.It Dv USER_POSIX2_CHAR_TERM
Return 1 if the system supports at least one terminal type capable of
all operations described in POSIX 1003.2, otherwise 0.
d1501 6
a1506 6
.Ss CTL_VFS
The string and integer information available for the
.Dv CTL_VFS
level is detailed below.
The changeable column shows whether a process with appropriate
privileges may change the value.
d1509 6
a1514 2
.It Dv VFS_GENERIC No "	vm generic info	no"
.It Dv filesystem # No "	filesystem info	no"
d1516 1
d1518 29
a1546 45
.It Dv VFS_GENERIC
This second level identifier requests generic information about the
vfs layer.
Within it, the following third level identifiers exist:
.Bl -column "Third level nameXXXXXX" "struct loadavgXXX" -offset indent
.It Sy Third level name	Type	Changeable
.It Dv VFS_CONF No "	struct vfsconf	no"
.It Dv VFS_MAXTYPENUM No "	int	no"
.El
.It filesystem #
After finding the filesystem dependent vfc_typenum using
.Dv VFS_GENERIC
with
.Dv VFS_CONF ,
it is possible to access filesystem dependent information.
.Pp
Some filesystems may contain settings.
.Bl -tag -width "123"
.It ffs
.Bl -column "Third level nameXXXX" "FFS_SD_DIRECT_BLK " -offset ind
.It Sy Third level name	Type	Changeable
.It Dv FFS_ASYNCFREE No "	integer	yes"
.It Dv FFS_CLUSTERREAD No "	integer	yes"
.It Dv FFS_CLUSTERWRITE No "	integer	yes"
.It Dv FFS_MAXSOFTDEPS No "	integer	yes"
.It Dv FFS_REALLOCBLOCKS No "	integer	yes"
.It Dv FFS_SD_BLK_LIMIT_HIT No "	integer	yes"
.It Dv FFS_SD_BLK_LIMIT_PUSH No "	integer	yes"
.It Dv FFS_SD_DIR_ENTRY No "	integer	yes"
.It Dv FFS_SD_DIRECT_BLK_PTRS No "	integer	yes"
.It Dv FFS_SD_INDR_BLK_PTRS No "	integer	yes"
.It Dv FFS_SD_INO_LIMIT_HIT No "	integer	yes"
.It Dv FFS_SD_INO_LIMIT_PUSH No "	integer	yes"
.It Dv FFS_SD_INODE_BITMAP No "	integer	yes"
.It Dv FFS_SD_SYNC_LIMIT_HIT No "	integer	yes"
.It Dv FFS_SD_TICKDELAY No "	integer	yes"
.It Dv FFS_SD_WORKLIST_PUSH No "	integer	yes"
.El
.It nfs
.Bl -column "Third level nameXXX" "struct loadavgXXX" -offset ind
.It Sy Third level name	Type	Changeable
.It Dv NFS_NFSSTATS No "	struct nfsstats	yes"
.It Dv NFS_NIOTHREADS No "	int	yes"
.El
.El
a1555 1
.It Dv VM_ANONMIN No "	integer	yes"
a1556 1
.It Dv VM_MAXSLP No "	integer	no"
a1557 2
.It Dv VM_NKMEMPAGES No "	integer	no"
.It Dv VM_PSSTRINGS No "	struct psstrings	no"
a1558 1
.It Dv VM_USPACE No "	integer	no"
d1560 1
a1560 2
.It Dv VM_VNODEMIN No "	integer	yes"
.It Dv VM_VTEXTMIN No "	integer	yes"
d1562 1
a1563 3
.It Dv VM_ANONMIN
Percentage of physical memory available for
pages which contain anonymous mapping.
a1567 3
.It Dv VM_MAXSLP
The time for a process to be blocked before being swappable,
in seconds.
a1571 7
.It Dv VM_NKMEMPAGES
Number of pages in kmem_map.
.It Dv VM_PSSTRINGS
Returns address of struct ps_strings.
The
.Xr ps 1
program uses it to locate argv and environment strings.
d1578 1
a1580 1
.It Dv SWPENC_ENABLE No "	integer	yes"
a1582 8
.It Dv SWPENC_CREATED
The number of encryption keys that have been randomly created.
The swap partition is divided into sections of normally 512KB.
Each section has its own encryption key.
.It Dv SWPENC_DELETED
The number of encryption keys that have been deleted, thus effectivly
erasing the data that has been encrypted with them.
Encryption keys are deleted when their reference counter reaches zero.
d1592 8
a1600 2
.It Dv VM_USPACE
The number of bytes allocated for each kernel stack.
d1603 51
a1653 6
.It Dv VM_VNODEMIN
Percentage of physical memory available for
pages which contain cached file data.
.It Dv VM_VTEXTMIN
Percentage of physical memory available for
pages which contain cached executable data.
d1662 1
a1662 1
.Bl -tag -width "uvm/uvmXswapXencrypt.h  " -compact
d1670 1
a1670 7
.It Aq Pa ufs/ffs/ffs_extern.h
definitions for third level virtual file system identifiers
.Pq ffs
.It Aq Pa nfs/nfs.h
definitions for third level virtual file system identifiers
.Pq nfs
.It Aq Pa uvm/uvm_param.h
a1740 3
.Xr ddb 4 ,
.Xr sysctl.conf 5 ,
.Xr securelevel 7 ,
@


1.1.1.7
log
@Time to import OpenBSD once again. Expect breakage.
@
text
@d1 1
a1 1
.\"	$OpenBSD: sysctl.3,v 1.117 2003/12/19 09:11:20 jmc Exp $
a272 1
.It Dv HW_CPUSPEED No "	integer	no"
a281 1
.It Dv HW_SETPERF No "	integer	yes"
a286 3
.It Dv HW_CPUSPEED
The CPU frequency
.Pq in MHz .
a308 3
.It Dv HW_SETPERF
Current CPU performance
.Pq percentage .
a943 4
.It carp	allow	integer	yes
.It carp	arpbalance	integer	yes
.It carp	log	integer	yes
.It carp	preempt	integer	yes
a944 2
.It esp	udpencap	integer	yes
.It esp	udpencap_port	integer	yes
a1013 27
.It Li carp.allow
If set to 0, incoming
.Tn CARP
packets will not be processed.
If set to any other value, processing will occur.
Enabled by default.
.It Li carp.arpbalance
If set to any value other than 0, the ARP balancing functionality in carp is
enabled.
When ARP requests are received for an IP address which is part of any virtual
host, carp will hash the source IP in the ARP request to select one of the
virtual hosts from the set of all the virtual hosts which have that IP address.
The master of that host will respond with the correct virtual MAC address.
Disabled by default.
.It Li carp.log
If set to any value other than 0,
.Xr carp 4
will log errors.
Enabled by default.
.It Li carp.preempt
If set to 0,
.Xr carp 4
will not attempt to become master if it is receiving advertisements from
another active master.
If set to any other value, carp will become master of the virtual host if it
believes it can send advertisements more frequently than the current master.
Enabled by default.
a1021 7
.It Li esp.udpencap
If set to 1, enable processing of UDP encapsulated ESP packets.
Disabled by default.
.It Li esp.udpencap_port
Contains the value of the UDP port that triggers
decapsulation for incoming UDP encapsulated ESP packets.
The default port is 4500.
d1091 1
a1091 1
select an authentication algorithm for the security association.
d1203 1
a1203 1
Minimum dynamic/private port number for TCP/UDP port allocation.
d1420 2
a1421 2
For example, by setting the variable to 3, neighbor discovery will take
a maximum of 3 consecutive hints.
d1796 1
a1796 1
The number of encryption keys that have been deleted, thus effectively
@


1.1.1.8
log
@Import OpenBSD as of today again (seems pretty stable, I hope)

Prominent changes: more bgpd, tcpmd5; tcpdump/isakmpd fixes
@
text
@d1 1
a1 1
.\"	$OpenBSD: sysctl.3,v 1.126 2004/01/19 09:39:44 tedu Exp $
d369 1
a369 2
.It Dv KERN_PROC No "	struct kinfo_proc	no"
.It Dv KERN_PROC2 No "	struct kinfo_proc2	no"
d438 1
a438 1
.It Dv KERN_EMUL_NAME No "	string	no"
a592 9
.It Dv KERN_PROC2
Like
.Dv KERN_PROC
but an array of
.Li struct kinfo_proc2
structures is returned.
The fifth level name is the size of the
.Li struct kinfo_proc2
and the sixth level name is the number of structures to return.
a1011 2
.It tcp	synbucketlimit	integer	yes
.It tcp	syncachelimit	integer	yes
d1054 1
a1054 1
Disabled by default.
d1279 2
a1280 3
As detailed in
.Xr securelevel 7 ,
this variable may not be changed if the securelevel is \*(Gt 0.
a1362 4
.It Li tcp.synbucketlimit
The maximum number of entries allowed per hash bucket in the TCP syn cache.
.It Li tcp.syncachelimit
The maximum number of entries allowed in the TCP syn cache.
a1763 3
.It Dv FFS_DIRHASH_DIRSIZE No "	integer	yes"
.It Dv FFS_DIRHASH_MAXMEM No "	integer	yes"
.It Dv FFS_DIRHASH_MEM No "	integer	no"
a1776 16
.El
.Bl -tag -width "123456"
.It Dv FFS_CLUSTERREAD
Enable combining multiple reads into one request to improve performance.
.It Dv FFS_CLUSTERWRITE
Enable combining multiple writes into one request.
.It Dv FFS_DIRHASH_DIRSIZE
The minimum size of a directory, in bytes, before it is considered for hashing.
.It Dv FFS_DIRHASH_MAXMEM
The maximum amount of memory, in bytes, to be used for storing directory
hashes.
.It Dv FFS_DIRHASH_MEM
The amount of memory currently used by all directory hashes.
.It Dv FFS_REALLOCBLOCKS
When enabled, the kernel will attempt to relocate growing files so that they
are contiguous on disk, reducing fragmentation.
@


1.1.1.9
log
@Update libc
@
text
@d1 1
a1 1
.\"	$OpenBSD: sysctl.3,v 1.130 2004/02/01 18:24:57 jmc Exp $
a1017 1
.It tcp	rfc3390	integer	yes
a1358 4
.It Li tcp.rfc3390
Returns 1 if the
.Tn TCP
Initial Window is increased, as specified in RFC 3390.
d1518 1
a1518 1
Respond to ICMPv6 FQDN queries, e.g.\&
d1521 1
a1521 1
Respond to ICMPv6 node addresses queries, e.g.\&
@


1.1.1.10
log
@large-scale import of OpenBSD 3.5-current source base including many fixes
note: from now, we will not be binary compatible with OpenBSD apps any
longer (due to syscall numbering differences); both an OpenBSD compat and
a conversion tool for old MirOS #7 apps will be delivered later.

The src/ tree is locked from now.
@
text
@d1 1
a1 1
.\"	$OpenBSD: sysctl.3,v 1.138 2004/04/20 06:41:47 tedu Exp $
d290 1
a290 1
The current CPU frequency
a349 1
.It Dv KERN_MAXCLUSTERS No "	integer	yes"
a524 4
.It Dv KERN_MAXCLUSTERS
The maximum number of
.Xr mbuf 9
clusters that may be allocated.
a840 3
.It Dv KERN_TTY_INFO No "	struct itty	no"
.It Dv KERN_TTY_NPTYS No "	integer	no"
.It Dv KERN_TTY_MAXPTYS No "	integer	yes"
a848 14
.It Dv KERN_TTY_INFO
Returns an array of
.Li struct itty
structures containing tty statistics.
.It Dv KERN_TTY_MAXPTYS
The maximum number of
.Xr pty 4
devices supported by the kernel.
This is the upper bound on
.Dv KERN_TTY_NPTYS .
.It Dv KERN_TTY_NPTYS
The current number of
.Xr pty 4
devices allocated by the kernel.
d850 1
a850 1
Returns the number of input characters in canonical mode.
d858 1
a858 1
Returns the number of input characters in raw mode.
a961 2
.It bpf	bufsize	integer	yes
.It bpf	maxbufsize	integer	yes
a1015 1
.It tcp	reasslimit	integer	yes
a1040 4
.It Li bpf.bufsize
The initial size of BPF buffers.
.It Li bpf.maxbufsize
The maximum size a user may request a BPF buffer to be.
d1059 1
a1059 1
Disabled by default.
a1351 4
.It Li tcp.reasslimit
The maximum number of out-of-order
.Tn TCP
segments the system will store for reassembly.
@


1.1.1.11
log
@OpenBSD libc as of today
@
text
@d1 1
a1 1
.\"	$OpenBSD: sysctl.3,v 1.139 2004/06/03 17:09:12 espie Exp $
a2033 2
.Xr pathconf 2 ,
.Xr sysconf 3 ,
@


1.1.1.12
log
@I hope that's not too much of fixes...
@
text
@d1 1
a1 1
.\"	$OpenBSD: sysctl.3,v 1.140 2004/07/28 17:15:12 tholo Exp $
a387 1
.It Dv KERN_TIMECOUNTER No "	node	not applicable"
a838 27
.It Dv KERN_TIMECOUNTER
Return statistics information about the kernel time counter.
The third level names information is detailed below.
The changeable column shows whether a process with appropriate
privileges may change the value.
.Bl -column "KERN_TIMECOUNTER_TIMESTEPWARNINGS" "integer" -offset indent
.It Sy Third level name	Type	Changeable
.It Dv KERN_TIMECOUNTER_CHOICE No "	string	no"
.It Dv KERN_TIMECOUNTER_HARDWARE No "	string	yes"
.It Dv KERN_TIMECOUNTER_TICK No "	integer	no"
.It Dv KERN_TIMECOUNTER_TIMESTEPWARNINGS No "	integer	no"
.El
.Pp
The variables are as follows:
.Bl -tag -width "123456"
.It Dv KERN_TIMECOUNTER_CHOICE
Get the list of kernel time counter sources and their claimed
quality (higher is better).
.It Dv KERN_TIMECOUNTER_HARDWARE
Get or set the kernel time counter source by name.
.It Dv KERN_TIMECOUNTER_TICK
Get the number of times we have reset the kernel time counter
information.
.It Dv KERN_TIMECOUNTER_TIMESTEPWARNINGS
Get or set a flag to log a message when the kernel time is
stepped.
.El
@


1.1.1.6.2.1
log
@verified exec ported from NetBSD 1.6.1 / Stephanie patches for OpenBSD 3.4:
 - prevent execution of trojaned applications (f.e. netstat,ps,..)
 - activated in GENERIC, but must be enabled with sysctl -w kern.vexec.op=1
 - you have to generate the fingerprint database with fpgen.sh from sbin/vexecctl/

TODO:
- fix a problem with hardlinked applications (f.e. /bin/chown and /bin/chgrp)
  error: "vexec_inodeadd: Received invalid fingerprint for an existing entry! Entry not modified."
- patch MAKEDEV.mi to create devicenode /dev/vexec
- create sample database when doing make release (/etc/vexec.conf.release)
- more testing, test it on sparc
- do performance tests
@
text
@a0 1
.\" $MirBSD$
a363 1
.It Dv KERN_VEXEC No "	node not applicable"
a896 34
.It Dv KERN_VEXEC
Security controls for managing verified exec. 
Controls the operation of Vexec. See
.Xr vexec.conf 5 ,
and
.Xr vexecctl 8 .
The variables are as follows:
.Bl -column "KERNXVEXECXVERBOSE" "integer" "raisexonly" -indent
.It Sy "Fourth level name"	Type	Chaneable
.It Dv KERN_VEXEC_OP	integer	raise only
.It Dv KERN_VEXEC_VERBOSE	integer	yes
.It Dv KERN_VEXEC_STRICT	integer	raise only
.El
.Bl -tag -width "123456"
.It Dv KERN_VEXEC_OP
Enables Vexec. For security reasons, Vexec can't be disabled when the
system is multi-user.
.It Dv KERN_VEXEC_VERBOSE
Enables or disables verbose mode for Vexec. In verbose mode more
messages and information will be printed. Note that if you want to
debug Vexec, you may want to compile your kernel with the VEXEC_DEBUG
option aswell.
.It Dv KERN_VEXEC_STRICT
Works only in highly-secure mode (securelevel >= 2) and controls whether
Vexec will operate in strict mode or not. Strict mode tells Vexec to deny
access -- whether via
.Xr open 2
or
.Xr exec 2 --
to files not explicitly declared in the config file(s). If you enable this
make sure your entire system, including databases, man pages, and anything
you think you'll need, appears in the Vexec config file(s). This is good
especially for firewalls and systems that aren't supposed to have any
user activity. Use with extreme caution!
@


