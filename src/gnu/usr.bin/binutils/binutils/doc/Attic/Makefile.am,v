head	1.2;
access;
symbols
	binutils-2_15:1.1.2.2
	cvs-200406091940:1.1.1.1
	openbsd:1.1.1
	MIRBSD_7quater:1.1.2.1
	MIRBSD_7_ALPHA:1.1.2.1.0.6
	MIRBSD_7:1.1.2.1.0.4
	MIRBSD_7ter:1.1.2.1
	MIRBSD_7_DEV:1.1.2.1.0.2
	binutils_2_14:1.1.2.1
	FSF:1.1.2;
locks; strict;
comment	@# @;


1.2
date	2003.11.04.17.25.03;	author tg;	state dead;
branches;
next	1.1;

1.1
date	2003.09.23.16.03.14;	author tg;	state Exp;
branches
	1.1.1.1
	1.1.2.1;
next	;

1.1.1.1
date	2004.06.09.20.28.03;	author tg;	state Exp;
branches;
next	;

1.1.2.1
date	2003.09.23.16.03.14;	author tg;	state Exp;
branches;
next	1.1.2.2;

1.1.2.2
date	2004.07.15.17.04.33;	author tg;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Yours sincerely, licence auditor, strikes again.


Remove stuff under the so-called "GNU Free Documentation License".

You are actually even breaching the licence when you are
storing GFDL-licenced documents on an encrypted filesystem,
or "even  storing  it  on  a  file-sharing  system  with
non-world-readable permissions", according to the information
found at http://home.twcny.rr.com/nerode/neroden/fdl.html
via Slashdot.

I am thinking whether to adopt the (amended) Debian Social
Contract, and either the DFSG or the OSD (or both) for MirOS.
(see the /. story)

src/gnu/libstdc++:

| The Docs: FDL
|
|    The documentation shipped with the library and made available over the
|    web,   including   the  pages  generated  from  source  comments,  are
|    copyrighted  by  the  Free  Software  Foundation, and placed under the
|    [3]GNU   Free   Documentation   License  version  1.1.  There  are  no
|    Front-Cover Texts, no Back-Cover Texts, and no Invariant Sections.

Of course this doesn't apply to documentation for libstdc++ generated by
ourselfes from GPL'd or LGPL'd files, because the GFDL is incompatible
with both of them.


Hint: if you can dig out older versions of the GNU tools man pages, such
as gcc 3.0 and binutils 2.12/2.13 (for example), which are not yet GFDL
licenced, please give me a hint (I'm not actively searching myself now)
or mail them to me, and be sure I'll commit them, together with a warning
about inactuality.
@
text
@## Process this file with automake to generate Makefile.in

AUTOMAKE_OPTIONS = cygnus

# What version of the manual you want; "all" includes everything
CONFIG=all

# Options to extract the man page from as.texinfo
MANCONF = -Dman

TEXI2POD = perl $(top_srcdir)/../etc/texi2pod.pl

POD2MAN = pod2man --center="GNU Development Tools" \
	 --release="binutils-$(VERSION)" --section=1

# List of man pages generated from binutils.texi
man_MANS = \
	addr2line.1 \
	ar.1 \
	dlltool.1 \
	nlmconv.1 \
	nm.1 \
	objcopy.1 \
	objdump.1 \
	ranlib.1 \
	readelf.1 \
	size.1 \
	strings.1 \
	strip.1 \
	windres.1 \
	$(DEMANGLER_NAME).1

info_TEXINFOS = binutils.texi

config.texi: Makefile
	rm -f config.texi
	echo '@@set VERSION $(VERSION)' > config.texi

binutils_TEXI = $(srcdir)/binutils.texi

binutils.dvi:  $(binutils_TEXI) config.texi

binutils.info: $(binutils_TEXI) config.texi

# Man page generation from texinfo
addr2line.1:	$(binutils_TEXI)
	touch $@@
	-$(TEXI2POD) $(MANCONF) -Daddr2line < $< > addr2line.pod
	-($(POD2MAN) addr2line.pod | sed -e '/^.if n .na/d' > $@@.T$$$$ && \
		mv -f $@@.T$$$$ $@@) || (rm -f $@@.T$$$$ && exit 1)
	rm -f addr2line.pod

ar.1:	$(binutils_TEXI)
	touch $@@
	-$(TEXI2POD) $(MANCONF) -Dar < $< > ar.pod
	-($(POD2MAN) ar.pod | sed -e '/^.if n .na/d' > $@@.T$$$$ && \
		mv -f $@@.T$$$$ $@@) || (rm -f $@@.T$$$$ && exit 1)
	rm -f ar.pod

dlltool.1:	$(binutils_TEXI)
	touch $@@
	-$(TEXI2POD) $(MANCONF) -Ddlltool < $< > dlltool.pod
	-($(POD2MAN) dlltool.pod | sed -e '/^.if n .na/d' > $@@.T$$$$ && \
		mv -f $@@.T$$$$ $@@) || (rm -f $@@.T$$$$ && exit 1)
	rm -f dlltool.pod

nlmconv.1:	$(binutils_TEXI)
	touch $@@
	-$(TEXI2POD) $(MANCONF) -Dnlmconv < $< > nlmconv.pod
	-($(POD2MAN) nlmconv.pod | sed -e '/^.if n .na/d' > $@@.T$$$$ && \
		mv -f $@@.T$$$$ $@@) || (rm -f $@@.T$$$$ && exit 1)
	rm -f nlmconv.pod

nm.1:	$(binutils_TEXI)
	touch $@@
	-$(TEXI2POD) $(MANCONF) -Dnm < $< > nm.pod
	-($(POD2MAN) nm.pod | sed -e '/^.if n .na/d' > $@@.T$$$$ && \
		mv -f $@@.T$$$$ $@@) || (rm -f $@@.T$$$$ && exit 1)
	rm -f nm.pod

objcopy.1:	$(binutils_TEXI)
	touch $@@
	-$(TEXI2POD) $(MANCONF) -Dobjcopy < $< > objcopy.pod
	-($(POD2MAN) objcopy.pod | sed -e '/^.if n .na/d' > $@@.T$$$$ && \
		mv -f $@@.T$$$$ $@@) || (rm -f $@@.T$$$$ && exit 1)
	rm -f objcopy.pod

objdump.1:	$(binutils_TEXI)
	touch $@@
	-$(TEXI2POD) $(MANCONF) -Dobjdump < $< > objdump.pod
	-($(POD2MAN) objdump.pod | sed -e '/^.if n .na/d' > $@@.T$$$$ && \
		mv -f $@@.T$$$$ $@@) || (rm -f $@@.T$$$$ && exit 1)
	rm -f objdump.pod

ranlib.1:	$(binutils_TEXI)
	touch $@@
	-$(TEXI2POD) $(MANCONF) -Dranlib < $< > ranlib.pod
	-($(POD2MAN) ranlib.pod | sed -e '/^.if n .na/d' > $@@.T$$$$ && \
		mv -f $@@.T$$$$ $@@) || (rm -f $@@.T$$$$ && exit 1)
	rm -f ranlib.pod

readelf.1:	$(binutils_TEXI)
	touch $@@
	-$(TEXI2POD) $(MANCONF) -Dreadelf < $< > readelf.pod
	-($(POD2MAN) readelf.pod | sed -e '/^.if n .na/d' > $@@.T$$$$ && \
		mv -f $@@.T$$$$ $@@) || (rm -f $@@.T$$$$ && exit 1)
	rm -f readelf.pod

size.1:	$(binutils_TEXI)
	touch $@@
	-$(TEXI2POD) $(MANCONF) -Dsize < $< > size.pod
	-($(POD2MAN) size.pod | sed -e '/^.if n .na/d' > $@@.T$$$$ && \
		mv -f $@@.T$$$$ $@@) || (rm -f $@@.T$$$$ && exit 1)
	rm -f size.pod

strings.1:	$(binutils_TEXI)
	touch $@@
	-$(TEXI2POD) $(MANCONF) -Dstrings < $< > strings.pod
	-($(POD2MAN) strings.pod | sed -e '/^.if n .na/d' > $@@.T$$$$ && \
		mv -f $@@.T$$$$ $@@) || (rm -f $@@.T$$$$ && exit 1)
	rm -f strings.pod

strip.1:	$(binutils_TEXI)
	touch $@@
	-$(TEXI2POD) $(MANCONF) -Dstrip < $< > strip.pod
	-($(POD2MAN) strip.pod | sed -e '/^.if n .na/d' > $@@.T$$$$ && \
		mv -f $@@.T$$$$ $@@) || (rm -f $@@.T$$$$ && exit 1)
	rm -f strip.pod

windres.1:	$(binutils_TEXI)
	touch $@@
	-$(TEXI2POD) $(MANCONF) -Dwindres < $< > windres.pod
	-($(POD2MAN) windres.pod | sed -e '/^.if n .na/d' > $@@.T$$$$ && \
		mv -f $@@.T$$$$ $@@) || (rm -f $@@.T$$$$ && exit 1)
	rm -f windres.pod

cxxfilt.man:	$(binutils_TEXI)
	touch $@@
	-$(TEXI2POD) $(MANCONF) -Dcxxfilt < $< > $(DEMANGLER_NAME).pod
	-($(POD2MAN) $(DEMANGLER_NAME).pod | sed -e '/^.if n .na/d' > $@@.T$$$$ && \
		mv -f $@@.T$$$$ $@@) || (rm -f $@@.T$$$$ && exit 1)
	rm -f $(DEMANGLER_NAME).pod

MAINTAINERCLEANFILES = config.texi
DISTCLEANFILES       = config.texi
MOSTLYCLEANFILES     = $(DEMANGLER_NAME).1

$(DEMANGLER_NAME).1: cxxfilt.man Makefile
	if test -f cxxfilt.man; then \
	  man=cxxfilt.man; \
	else \
	  man=$(srcdir)/cxxfilt.man; \
	fi; \
	sed -e 's/@@PROGRAM@@/$(DEMANGLER_NAME)/' \
	    -e 's/cxxfilt/$(DEMANGLER_NAME)/' < $$man \
		> $(DEMANGLER_NAME).1

# We want install to imply install-info as per GNU standards, despite the
# cygnus option.
install: install-info

# Maintenance

# We need it for the taz target in ../../Makefile.in.
info: $(MANS)
@


1.1
log
@Initial revision
@
text
@@


1.1.1.1
log
@Sync of src/gnu with OpenBSD (promised a long time ago)
@
text
@d3 1
a3 1
AUTOMAKE_OPTIONS = cygnus no-installman
d48 1
a48 1
	-$(TEXI2POD) $(MANCONF) -Daddr2line < $(binutils_TEXI) > addr2line.pod
d55 1
a55 1
	-$(TEXI2POD) $(MANCONF) -Dar < $(binutils_TEXI) > ar.pod
d62 1
a62 1
	-$(TEXI2POD) $(MANCONF) -Ddlltool < $(binutils_TEXI) > dlltool.pod
d69 1
a69 1
	-$(TEXI2POD) $(MANCONF) -Dnlmconv < $(binutils_TEXI) > nlmconv.pod
d76 1
a76 1
	-$(TEXI2POD) $(MANCONF) -Dnm < $(binutils_TEXI) > nm.pod
d83 1
a83 1
	-$(TEXI2POD) $(MANCONF) -Dobjcopy < $(binutils_TEXI) > objcopy.pod
d90 1
a90 1
	-$(TEXI2POD) $(MANCONF) -Dobjdump < $(binutils_TEXI) > objdump.pod
d97 1
a97 1
	-$(TEXI2POD) $(MANCONF) -Dranlib < $(binutils_TEXI) > ranlib.pod
d104 1
a104 1
	-$(TEXI2POD) $(MANCONF) -Dreadelf < $(binutils_TEXI) > readelf.pod
d111 1
a111 1
	-$(TEXI2POD) $(MANCONF) -Dsize < $(binutils_TEXI) > size.pod
d118 1
a118 1
	-$(TEXI2POD) $(MANCONF) -Dstrings < $(binutils_TEXI) > strings.pod
d125 1
a125 1
	-$(TEXI2POD) $(MANCONF) -Dstrip < $(binutils_TEXI) > strip.pod
d132 1
a132 1
	-$(TEXI2POD) $(MANCONF) -Dwindres < $(binutils_TEXI) > windres.pod
d139 1
a139 1
	-$(TEXI2POD) $(MANCONF) -Dcxxfilt < $(binutils_TEXI) > $(DEMANGLER_NAME).pod
@


1.1.2.1
log
@Import GNU binutils 2.14 from the Free Software Foundation
(in case the update goes FUBAR, it can be easily backed off)
@
text
@@


1.1.2.2
log
@GNU Binutils, version 2.15
@
text
@d48 1
a48 1
	-$(TEXI2POD) $(MANCONF) -Daddr2line < $(binutils_TEXI) > addr2line.pod
d55 1
a55 1
	-$(TEXI2POD) $(MANCONF) -Dar < $(binutils_TEXI) > ar.pod
d62 1
a62 1
	-$(TEXI2POD) $(MANCONF) -Ddlltool < $(binutils_TEXI) > dlltool.pod
d69 1
a69 1
	-$(TEXI2POD) $(MANCONF) -Dnlmconv < $(binutils_TEXI) > nlmconv.pod
d76 1
a76 1
	-$(TEXI2POD) $(MANCONF) -Dnm < $(binutils_TEXI) > nm.pod
d83 1
a83 1
	-$(TEXI2POD) $(MANCONF) -Dobjcopy < $(binutils_TEXI) > objcopy.pod
d90 1
a90 1
	-$(TEXI2POD) $(MANCONF) -Dobjdump < $(binutils_TEXI) > objdump.pod
d97 1
a97 1
	-$(TEXI2POD) $(MANCONF) -Dranlib < $(binutils_TEXI) > ranlib.pod
d104 1
a104 1
	-$(TEXI2POD) $(MANCONF) -Dreadelf < $(binutils_TEXI) > readelf.pod
d111 1
a111 1
	-$(TEXI2POD) $(MANCONF) -Dsize < $(binutils_TEXI) > size.pod
d118 1
a118 1
	-$(TEXI2POD) $(MANCONF) -Dstrings < $(binutils_TEXI) > strings.pod
d125 1
a125 1
	-$(TEXI2POD) $(MANCONF) -Dstrip < $(binutils_TEXI) > strip.pod
d132 1
a132 1
	-$(TEXI2POD) $(MANCONF) -Dwindres < $(binutils_TEXI) > windres.pod
d139 1
a139 1
	-$(TEXI2POD) $(MANCONF) -Dcxxfilt < $(binutils_TEXI) > $(DEMANGLER_NAME).pod
@

