head	1.3;
access;
symbols
	binutils-2_15:1.1.2.3
	cvs-200406091940:1.1.1.2
	MIRBSD_7quater:1.2
	cvs-200405160640:1.1.1.1
	cvs-200401271800:1.1.1.1
	cvs-200401261630:1.1.1.1
	cvs-200401021645:1.1.1.1
	MIRBSD_7_ALPHA:1.2.0.6
	MIRBSD_7:1.2.0.4
	cvs-200312222040:1.1.1.1
	cvs-200312031730:1.1.1.1
	MIRBSD_7ter:1.2
	MIRBSD_7_DEV:1.2.0.2
	cvs-200310020700:1.1.1.1
	cvs-200309271030:1.1.1.1
	cvs-200309251530:1.1.1.1
	binutils_2_14:1.1.2.2
	binutils_2_11_2:1.1.2.1
	FSF:1.1.2
	cvs-200308302005:1.1.1.1
	cvs-200308171200:1.1.1.1
	ctm-3496:1.1.1.1
	ctm-3449:1.1.1.1
	ctm-3437:1.1.1.1
	cvs-200307191805:1.1.1.1
	ctm-3425:1.1.1.1
	cvs-200307091500:1.1.1.1
	ctm-3389:1.1.1.1
	cvs-200306291430:1.1.1.1
	ctm-3341:1.1.1.1
	MIRBSD_5:1.1.1.1
	cvs-200306082100:1.1.1.1
	ctm-3316:1.1.1.1
	ctm-3272:1.1.1.1
	ctm-3264:1.1.1.1
	cvs-200305071630:1.1.1.1
	MIRBSD_4:1.1.1.1
	ctm-3203:1.1.1.1
	cvs-20030410-1130:1.1.1.1
	ctm-3155:1.1.1.1
	ctm-3132:1.1.1.1
	openbsd:1.1.1;
locks; strict;
comment	@# @;


1.3
date	2003.11.04.17.25.31;	author tg;	state dead;
branches;
next	1.2;

1.2
date	2003.09.23.21.02.15;	author tg;	state Exp;
branches;
next	1.1;

1.1
date	2003.03.22.17.39.34;	author tg;	state Exp;
branches
	1.1.1.1
	1.1.2.1;
next	;

1.1.1.1
date	2003.03.22.17.39.34;	author tg;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	2004.06.09.20.31.44;	author tg;	state Exp;
branches;
next	;

1.1.2.1
date	2003.09.23.15.41.43;	author tg;	state Exp;
branches;
next	1.1.2.2;

1.1.2.2
date	2003.09.23.16.05.45;	author tg;	state Exp;
branches;
next	1.1.2.3;

1.1.2.3
date	2004.07.15.17.11.38;	author tg;	state Exp;
branches;
next	;


desc
@@


1.3
log
@Yours sincerely, licence auditor, strikes again.


Remove stuff under the so-called "GNU Free Documentation License".

You are actually even breaching the licence when you are
storing GFDL-licenced documents on an encrypted filesystem,
or "even  storing  it  on  a  file-sharing  system  with
non-world-readable permissions", according to the information
found at http://home.twcny.rr.com/nerode/neroden/fdl.html
via Slashdot.

I am thinking whether to adopt the (amended) Debian Social
Contract, and either the DFSG or the OSD (or both) for MirOS.
(see the /. story)

src/gnu/libstdc++:

| The Docs: FDL
|
|    The documentation shipped with the library and made available over the
|    web,   including   the  pages  generated  from  source  comments,  are
|    copyrighted  by  the  Free  Software  Foundation, and placed under the
|    [3]GNU   Free   Documentation   License  version  1.1.  There  are  no
|    Front-Cover Texts, no Back-Cover Texts, and no Invariant Sections.

Of course this doesn't apply to documentation for libstdc++ generated by
ourselfes from GPL'd or LGPL'd files, because the GFDL is incompatible
with both of them.


Hint: if you can dig out older versions of the GNU tools man pages, such
as gcc 3.0 and binutils 2.12/2.13 (for example), which are not yet GFDL
licenced, please give me a hint (I'm not actively searching myself now)
or mail them to me, and be sure I'll commit them, together with a warning
about inactuality.
@
text
@@@c Copyright 1996, 1997, 1998, 1999, 2000, 2001
@@c Free Software Foundation, Inc.
@@c This is part of the GAS manual.
@@c For copying conditions, see the file as.texinfo.

@@ifset GENERIC
@@page
@@node ARM-Dependent
@@chapter ARM Dependent Features
@@end ifset

@@ifclear GENERIC
@@node Machine Dependencies
@@chapter ARM Dependent Features
@@end ifclear

@@cindex ARM support
@@cindex Thumb support
@@menu
* ARM Options::              Options
* ARM Syntax::               Syntax
* ARM Floating Point::       Floating Point
* ARM Directives::           ARM Machine Directives
* ARM Opcodes::              Opcodes
@@end menu

@@node ARM Options
@@section Options
@@cindex ARM options (none)
@@cindex options for ARM (none)

@@table @@code

@@cindex @@code{-mcpu=} command line option, ARM
@@item -mcpu=@@var{processor}[+@@var{extension}@@dots{}]
This option specifies the target processor.  The assembler will issue an
error message if an attempt is made to assemble an instruction which
will not execute on the target processor.  The following processor names are
recognized: 
@@code{arm1},
@@code{arm2},
@@code{arm250},
@@code{arm3},
@@code{arm6},
@@code{arm60},
@@code{arm600},
@@code{arm610},
@@code{arm620},
@@code{arm7},
@@code{arm7m},
@@code{arm7d},
@@code{arm7dm},
@@code{arm7di},
@@code{arm7dmi},
@@code{arm70},
@@code{arm700},
@@code{arm700i},
@@code{arm710},
@@code{arm710t},
@@code{arm720},
@@code{arm720t},
@@code{arm740t},
@@code{arm710c},
@@code{arm7100},
@@code{arm7500},
@@code{arm7500fe},
@@code{arm7t},
@@code{arm7tdmi},
@@code{arm8},
@@code{arm810},
@@code{strongarm},
@@code{strongarm1},
@@code{strongarm110},
@@code{strongarm1100},
@@code{strongarm1110},
@@code{arm9},
@@code{arm920},
@@code{arm920t},
@@code{arm922t},
@@code{arm940t},
@@code{arm9tdmi},
@@code{arm9e},
@@code{arm946e-r0},
@@code{arm946e},
@@code{arm966e-r0},
@@code{arm966e},
@@code{arm10t},
@@code{arm10e},
@@code{arm1020},
@@code{arm1020t},
@@code{arm1020e}, 
@@code{ep9312} (ARM920 with Cirrus Maverick coprocessor),
@@code{i80200} (Intel XScale processor)
@@code{iwmmxt} (Intel(r) XScale processor with Wireless MMX(tm) technology coprocessor)
and
@@code{xscale}.  
The special name @@code{all} may be used to allow the
assembler to accept instructions valid for any ARM processor.

In addition to the basic instruction set, the assembler can be told to 
accept various extension mnemonics that extend the processor using the 
co-processor instruction space.  For example, @@code{-mcpu=arm920+maverick}
is equivalent to specifying @@code{-mcpu=ep9312}.  The following extensions
are currently supported: 
@@code{+maverick}
@@code{+iwmmxt}
and
@@code{+xscale}.

@@cindex @@code{-march=} command line option, ARM
@@item -march=@@var{architecture}[+@@var{extension}@@dots{}]
This option specifies the target architecture.  The assembler will issue
an error message if an attempt is made to assemble an instruction which
will not execute on the target architecture.  The following architecture 
names are recognized: 
@@code{armv1},
@@code{armv2},
@@code{armv2a},
@@code{armv2s},
@@code{armv3},
@@code{armv3m},
@@code{armv4},
@@code{armv4xm},
@@code{armv4t},
@@code{armv4txm},
@@code{armv5},
@@code{armv5t},
@@code{armv5txm},
@@code{armv5te},
@@code{armv5texp}
@@code{iwmmxt}
and
@@code{xscale}.
If both @@code{-mcpu} and
@@code{-march} are specified, the assembler will use
the setting for @@code{-mcpu}.

The architecture option can be extended with the same instruction set
extension options as the @@code{-mcpu} option.

@@cindex @@code{-mfpu=} command line option, ARM
@@item -mfpu=@@var{floating-point-format}

This option specifies the floating point format to assemble for.  The
assembler will issue an error message if an attempt is made to assemble
an instruction which will not execute on the target floating point unit.  
The following format options are recognized:
@@code{softfpa},
@@code{fpe},
@@code{fpe2},
@@code{fpe3},
@@code{fpa},
@@code{fpa10},
@@code{fpa11},
@@code{arm7500fe},
@@code{softvfp},
@@code{softvfp+vfp},
@@code{vfp},
@@code{vfp10},
@@code{vfp10-r0},
@@code{vfp9},
@@code{vfpxd},
@@code{arm1020t}
and
@@code{arm1020e}.

In addition to determining which instructions are assembled, this option
also affects the way in which the @@code{.double} assembler directive behaves
when assembling little-endian code.

The default is dependent on the processor selected.  For Architecture 5 or 
later, the default is to assembler for VFP instructions; for earlier 
architectures the default is to assemble for FPA instructions.

@@cindex @@code{-mthumb} command line option, ARM
@@item -mthumb
This option specifies that the assembler should start assembling Thumb
instructions; that is, it should behave as though the file starts with a 
@@code{.code 16} directive.

@@cindex @@code{-mthumb-interwork} command line option, ARM
@@item -mthumb-interwork
This option specifies that the output generated by the assembler should
be marked as supporting interworking.

@@cindex @@code{-mapcs} command line option, ARM
@@item -mapcs @@code{[26|32]}
This option specifies that the output generated by the assembler should
be marked as supporting the indicated version of the Arm Procedure.
Calling Standard.

@@cindex @@code{-matpcs} command line option, ARM
@@item -matpcs
This option specifies that the output generated by the assembler should 
be marked as supporting the Arm/Thumb Procedure Calling Standard.  If
enabled this option will cause the assembler to create an empty
debugging section in the object file called .arm.atpcs.  Debuggers can
use this to determine the ABI being used by.

@@cindex @@code{-mapcs-float} command line option, ARM
@@item -mapcs-float
This indicates the the floating point variant of the APCS should be
used.  In this variant floating point arguments are passed in FP
registers rather than integer registers.

@@cindex @@code{-mapcs-reentrant} command line option, ARM
@@item -mapcs-reentrant
This indicates that the reentrant variant of the APCS should be used.
This variant supports position independent code.

@@cindex @@code{-EB} command line option, ARM
@@item -EB
This option specifies that the output generated by the assembler should
be marked as being encoded for a big-endian processor.

@@cindex @@code{-EL} command line option, ARM
@@item -EL
This option specifies that the output generated by the assembler should
be marked as being encoded for a little-endian processor.

@@cindex @@code{-k} command line option, ARM
@@cindex PIC code generation for ARM
@@item -k
This option specifies that the output of the assembler should be marked
as position-independent code (PIC).

@@cindex @@code{-moabi} command line option, ARM
@@item -moabi
This indicates that the code should be assembled using the old ARM ELF
conventions, based on a beta release release of the ARM-ELF
specifications, rather than the default conventions which are based on
the final release of the ARM-ELF specifications.

@@end table


@@node ARM Syntax
@@section Syntax
@@menu
* ARM-Chars::                Special Characters
* ARM-Regs::                 Register Names
@@end menu

@@node ARM-Chars
@@subsection Special Characters

@@cindex line comment character, ARM
@@cindex ARM line comment character
The presence of a @@samp{@@@@} on a line indicates the start of a comment
that extends to the end of the current line.  If a @@samp{#} appears as
the first character of a line, the whole line is treated as a comment.

@@cindex line separator, ARM
@@cindex statement separator, ARM
@@cindex ARM line separator
The @@samp{;} character can be used instead of a newline to separate
statements.

@@cindex immediate character, ARM
@@cindex ARM immediate character
Either @@samp{#} or @@samp{$} can be used to indicate immediate operands.

@@cindex identifiers, ARM
@@cindex ARM identifiers
*TODO* Explain about /data modifier on symbols.

@@node ARM-Regs
@@subsection Register Names

@@cindex ARM register names
@@cindex register names, ARM
*TODO* Explain about ARM register naming, and the predefined names.

@@node ARM Floating Point
@@section Floating Point

@@cindex floating point, ARM (@@sc{ieee})
@@cindex ARM floating point (@@sc{ieee})
The ARM family uses @@sc{ieee} floating-point numbers.



@@node ARM Directives
@@section ARM Machine Directives

@@cindex machine directives, ARM
@@cindex ARM machine directives
@@table @@code

@@cindex @@code{align} directive, ARM
@@item .align @@var{expression} [, @@var{expression}]
This is the generic @@var{.align} directive.  For the ARM however if the
first argument is zero (ie no alignment is needed) the assembler will
behave as if the argument had been 2 (ie pad to the next four byte
boundary).  This is for compatibility with ARM's own assembler.

@@cindex @@code{req} directive, ARM
@@item @@var{name} .req @@var{register name}
This creates an alias for @@var{register name} called @@var{name}.  For
example:

@@smallexample
        foo .req r0
@@end smallexample

@@cindex @@code{code} directive, ARM
@@item .code @@code{[16|32]}
This directive selects the instruction set being generated. The value 16
selects Thumb, with the value 32 selecting ARM.

@@cindex @@code{thumb} directive, ARM
@@item .thumb
This performs the same action as @@var{.code 16}.

@@cindex @@code{arm} directive, ARM
@@item .arm
This performs the same action as @@var{.code 32}.

@@cindex @@code{force_thumb} directive, ARM
@@item .force_thumb
This directive forces the selection of Thumb instructions, even if the
target processor does not support those instructions

@@cindex @@code{thumb_func} directive, ARM
@@item .thumb_func
This directive specifies that the following symbol is the name of a
Thumb encoded function.  This information is necessary in order to allow
the assembler and linker to generate correct code for interworking
between Arm and Thumb instructions and should be used even if
interworking is not going to be performed.  The presence of this
directive also implies @@code{.thumb}

@@cindex @@code{thumb_set} directive, ARM
@@item .thumb_set
This performs the equivalent of a @@code{.set} directive in that it
creates a symbol which is an alias for another symbol (possibly not yet
defined).  This directive also has the added property in that it marks
the aliased symbol as being a thumb function entry point, in the same
way that the @@code{.thumb_func} directive does.

@@cindex @@code{.ltorg} directive, ARM
@@item .ltorg
This directive causes the current contents of the literal pool to be
dumped into the current section (which is assumed to be the .text
section) at the current location (aligned to a word boundary).
@@code{GAS} maintains a separate literal pool for each section and each
sub-section.  The @@code{.ltorg} directive will only affect the literal
pool of the current section and sub-section.  At the end of assembly
all remaining, un-empty literal pools will automatically be dumped.

Note - older versions of @@code{GAS} would dump the current literal
pool any time a section change occurred.  This is no longer done, since
it prevents accurate control of the placement of literal pools.

@@cindex @@code{.pool} directive, ARM
@@item .pool
This is a synonym for .ltorg.

@@end table

@@node ARM Opcodes
@@section Opcodes

@@cindex ARM opcodes
@@cindex opcodes for ARM
@@code{@@value{AS}} implements all the standard ARM opcodes.  It also
implements several pseudo opcodes, including several synthetic load
instructions. 

@@table @@code

@@cindex @@code{NOP} pseudo op, ARM
@@item NOP
@@smallexample
  nop
@@end smallexample

This pseudo op will always evaluate to a legal ARM instruction that does
nothing.  Currently it will evaluate to MOV r0, r0.

@@cindex @@code{LDR reg,=<label>} pseudo op, ARM
@@item LDR 
@@smallexample
  ldr <register> , = <expression>
@@end smallexample

If expression evaluates to a numeric constant then a MOV or MVN
instruction will be used in place of the LDR instruction, if the
constant can be generated by either of these instructions.  Otherwise
the constant will be placed into the nearest literal pool (if it not
already there) and a PC relative LDR instruction will be generated.

@@cindex @@code{ADR reg,<label>} pseudo op, ARM
@@item ADR
@@smallexample
  adr <register> <label>
@@end smallexample

This instruction will load the address of @@var{label} into the indicated
register.  The instruction will evaluate to a PC relative ADD or SUB
instruction depending upon where the label is located.  If the label is
out of range, or if it is not defined in the same file (and section) as
the ADR instruction, then an error will be generated.  This instruction
will not make use of the literal pool.

@@cindex @@code{ADRL reg,<label>} pseudo op, ARM
@@item ADRL 
@@smallexample
  adrl <register> <label>
@@end smallexample

This instruction will load the address of @@var{label} into the indicated
register.  The instruction will evaluate to one or two PC relative ADD
or SUB instructions depending upon where the label is located.  If a
second instruction is not needed a NOP instruction will be generated in
its place, so that this instruction is always 8 bytes long.

If the label is out of range, or if it is not defined in the same file
(and section) as the ADRL instruction, then an error will be generated.
This instruction will not make use of the literal pool.

@@end table

For information on the ARM or Thumb instruction sets, see @@cite{ARM
Software Development Toolkit Reference Manual}, Advanced RISC Machines
Ltd.

@


1.2
log
@looks as if some sour wine (Federweiﬂer <german>, for an English
description see http://forum.leo.org/archiv/2002_11/04/20021104125717e_en.html)
could help me to bear the pain upgrading binutils to 2.14

todo:
 - test if this works at all
 - test if this works
 - test if nothing breaks
 - nuke all occurences of "false" and "true" in binutils (including gdb),
   see bfd.h "Poison" for reference
 - talk to the OpenBSD people, ask them if they could improve this
@
text
@@


1.1
log
@Initial revision
@
text
@d34 2
a35 3
@@cindex @@code{-marm} command line option, ARM
@@item -marm@@code{[2|250|3|6|60|600|610|620|7|7m|7d|7dm|7di|7dmi|70|700|700i|710|710c|7100|7500|7500fe|7tdmi|8|810|9|9tdmi|920|strongarm|strongarm110|strongarm1100]}
@@itemx -mxscale
d38 71
a108 1
will not execute on the target processor.
d110 2
a111 2
@@cindex @@code{-marmv} command line option, ARM
@@item -marmv@@code{[2|2a|3|3m|4|4t|5|5t|5te]}
d114 60
a173 3
will not execute on the target architecture.
The option @@code{-marmv5te} specifies that v5t architecture should be
used with the El Segundo extensions enabled.
d177 3
a179 18
This option specifies that only Thumb instructions should be assembled.

@@cindex @@code{-mall} command line option, ARM
@@item -mall
This option specifies that any Arm or Thumb instruction should be assembled.

@@cindex @@code{-mfpa} command line option, ARM
@@item -mfpa @@code{[10|11]}
This option specifies the floating point architecture in use on the
target processor. 

@@cindex @@code{-mfpe-old} command line option, ARM
@@item -mfpe-old
Do not allow the assembly of floating point multiple instructions.

@@cindex @@code{-mno-fpu} command line option, ARM
@@item -mno-fpu
Do not allow the assembly of any floating point instructions.
d295 1
a295 1
boundary).  This is for compatability with ARM's own assembler.
d346 8
@


1.1.2.1
log
@vendor-branch-i-fy GNU binutils (2.11.2) to facilitate an update
@
text
@@


1.1.2.2
log
@Import GNU binutils 2.14 from the Free Software Foundation
(in case the update goes FUBAR, it can be easily backed off)
@
text
@d34 3
a36 2
@@cindex @@code{-mcpu=} command line option, ARM
@@item -mcpu=@@var{processor}[+@@var{extension}@@dots{}]
d39 1
a39 71
will not execute on the target processor.  The following processor names are
recognized: 
@@code{arm1},
@@code{arm2},
@@code{arm250},
@@code{arm3},
@@code{arm6},
@@code{arm60},
@@code{arm600},
@@code{arm610},
@@code{arm620},
@@code{arm7},
@@code{arm7m},
@@code{arm7d},
@@code{arm7dm},
@@code{arm7di},
@@code{arm7dmi},
@@code{arm70},
@@code{arm700},
@@code{arm700i},
@@code{arm710},
@@code{arm710t},
@@code{arm720},
@@code{arm720t},
@@code{arm740t},
@@code{arm710c},
@@code{arm7100},
@@code{arm7500},
@@code{arm7500fe},
@@code{arm7t},
@@code{arm7tdmi},
@@code{arm8},
@@code{arm810},
@@code{strongarm},
@@code{strongarm1},
@@code{strongarm110},
@@code{strongarm1100},
@@code{strongarm1110},
@@code{arm9},
@@code{arm920},
@@code{arm920t},
@@code{arm922t},
@@code{arm940t},
@@code{arm9tdmi},
@@code{arm9e},
@@code{arm946e-r0},
@@code{arm946e},
@@code{arm966e-r0},
@@code{arm966e},
@@code{arm10t},
@@code{arm10e},
@@code{arm1020},
@@code{arm1020t},
@@code{arm1020e}, 
@@code{ep9312} (ARM920 with Cirrus Maverick coprocessor),
@@code{i80200} (Intel XScale processor)
@@code{iwmmxt} (Intel(r) XScale processor with Wireless MMX(tm) technology coprocessor)
and
@@code{xscale}.  
The special name @@code{all} may be used to allow the
assembler to accept instructions valid for any ARM processor.

In addition to the basic instruction set, the assembler can be told to 
accept various extension mnemonics that extend the processor using the 
co-processor instruction space.  For example, @@code{-mcpu=arm920+maverick}
is equivalent to specifying @@code{-mcpu=ep9312}.  The following extensions
are currently supported: 
@@code{+maverick}
@@code{+iwmmxt}
and
@@code{+xscale}.
d41 2
a42 2
@@cindex @@code{-march=} command line option, ARM
@@item -march=@@var{architecture}[+@@var{extension}@@dots{}]
d45 3
a47 60
will not execute on the target architecture.  The following architecture 
names are recognized: 
@@code{armv1},
@@code{armv2},
@@code{armv2a},
@@code{armv2s},
@@code{armv3},
@@code{armv3m},
@@code{armv4},
@@code{armv4xm},
@@code{armv4t},
@@code{armv4txm},
@@code{armv5},
@@code{armv5t},
@@code{armv5txm},
@@code{armv5te},
@@code{armv5texp}
@@code{iwmmxt}
and
@@code{xscale}.
If both @@code{-mcpu} and
@@code{-march} are specified, the assembler will use
the setting for @@code{-mcpu}.

The architecture option can be extended with the same instruction set
extension options as the @@code{-mcpu} option.

@@cindex @@code{-mfpu=} command line option, ARM
@@item -mfpu=@@var{floating-point-format}

This option specifies the floating point format to assemble for.  The
assembler will issue an error message if an attempt is made to assemble
an instruction which will not execute on the target floating point unit.  
The following format options are recognized:
@@code{softfpa},
@@code{fpe},
@@code{fpe2},
@@code{fpe3},
@@code{fpa},
@@code{fpa10},
@@code{fpa11},
@@code{arm7500fe},
@@code{softvfp},
@@code{softvfp+vfp},
@@code{vfp},
@@code{vfp10},
@@code{vfp10-r0},
@@code{vfp9},
@@code{vfpxd},
@@code{arm1020t}
and
@@code{arm1020e}.

In addition to determining which instructions are assembled, this option
also affects the way in which the @@code{.double} assembler directive behaves
when assembling little-endian code.

The default is dependent on the processor selected.  For Architecture 5 or 
later, the default is to assembler for VFP instructions; for earlier 
architectures the default is to assemble for FPA instructions.
d51 18
a68 3
This option specifies that the assembler should start assembling Thumb
instructions; that is, it should behave as though the file starts with a 
@@code{.code 16} directive.
d184 1
a184 1
boundary).  This is for compatibility with ARM's own assembler.
a234 8
@@code{GAS} maintains a separate literal pool for each section and each
sub-section.  The @@code{.ltorg} directive will only affect the literal
pool of the current section and sub-section.  At the end of assembly
all remaining, un-empty literal pools will automatically be dumped.

Note - older versions of @@code{GAS} would dump the current literal
pool any time a section change occurred.  This is no longer done, since
it prevents accurate control of the placement of literal pools.
@


1.1.2.3
log
@GNU Binutils, version 2.15
@
text
@d1 1
a1 1
@@c Copyright 1996, 1997, 1998, 1999, 2000, 2001, 2003
a24 1
* ARM Mapping Symbols::      Mapping Symbols
a82 2
@@code{arm926e},
@@code{arm926ejs},
d91 1
a91 4
@@code{arm1020e},
@@code{arm1026ejs},
@@code{arm1136js},
@@code{arm1136jfs},
d130 1
a130 3
@@code{armv5texp},
@@code{armv6},
@@code{armv6j},
d163 1
a163 3
@@code{arm1020t},
@@code{arm1020e},
@@code{arm1136jfs}
d165 1
a165 1
@@code{maverick}.
d202 1
a202 1
This indicates the floating point variant of the APCS should be
a210 10
@@cindex @@code{-mfloat-abi=} command line option, ARM
@@item -mfloat-abi=@@var{abi}
This option specifies that the output generated by the assembler should be
marked as using specified floating point ABI.
The following values are recognized:
@@code{soft},
@@code{softfp}
and
@@code{hard}.

a305 14
@@cindex @@code{unreq} directive, ARM
@@item .unreq @@var{alias-name}
This undefines a register alias which was previously defined using the
@@code{req} directive.  For example:

@@smallexample
        foo .req r0
        .unreq foo
@@end smallexample

An error occurs if the name is undefined.  Note - this pseudo op can
be used to delete builtin in register name aliases (eg 'r0').  This
should only be done if it is really necessary.

a426 29

@@node ARM Mapping Symbols
@@section Mapping Symbols

The ARM ELF specification requires that special symbols be inserted
into object files to mark certain features:

@@table @@code

@@cindex @@code{$a}
@@item $a
At the start of a region of code containing ARM instructions.

@@cindex @@code{$t}
@@item $t
At the start of a region of code containing THUMB instructions.

@@cindex @@code{$d}
@@item $d
At the start of a region of data.

@@end table

The assembler will automatically insert these symbols for you - there
is no need to code them yourself.  Support for tagging symbols ($b,
$f, $p and $m) which is also mentioned in the current ARM ELF
specification is not implemented.  This is because they have been
dropped from the new EABI and so tools cannot rely upon their
presence.
@


1.1.1.1
log
@Import OpenBSD 3.3 source repository from CTM 3132 the first time
This opens an OpenBSD-mirabile (aka MirBSD) repository.

### MirBSD is:
# Copyright (c) 1982-2003 by Thorsten "mirabile" Glaser <x86@@ePost.de>
# Copyright © 1968-2003  The authors of And contributors to UNIXÆ, the
#       C Language, BSD/Berkeley Unix; 386BSD, NetBSD 1.1 and OpenBSD.
#
# Anyone who obtained a copy of this work is hereby permitted to freely use,
# distribute, modify, merge, sublicence, give away or sell it as long as the
# authors are given due credit and the following notice is retained:
#
# This work is provided "as is", with no explicit or implicit warranty what-
# soever. Use it only at your own risk. In no event may an author or contri-
# butor be held liable for any damage, directly or indirectly, that origina-
# ted through or is caused by creation or modification of this work.

MirBSD is my private tree. MirBSD does not differ very much from OpenBSD
and intentionally tracks OpenBSD. That's why it _is_ OpenBSD, just not the
official one. It's like with DarrenBSD.

At time of this writing, no advertising for MirBSD must be done,
because the advertising clause has not yet been sorted out.

http://templeofhate.com/tglaser/MirBSD/index.php
@
text
@@


1.1.1.2
log
@Sync of src/gnu with OpenBSD (promised a long time ago)
@
text
@d34 3
a36 2
@@cindex @@code{-mcpu=} command line option, ARM
@@item -mcpu=@@var{processor}[+@@var{extension}@@dots{}]
d39 1
a39 71
will not execute on the target processor.  The following processor names are
recognized: 
@@code{arm1},
@@code{arm2},
@@code{arm250},
@@code{arm3},
@@code{arm6},
@@code{arm60},
@@code{arm600},
@@code{arm610},
@@code{arm620},
@@code{arm7},
@@code{arm7m},
@@code{arm7d},
@@code{arm7dm},
@@code{arm7di},
@@code{arm7dmi},
@@code{arm70},
@@code{arm700},
@@code{arm700i},
@@code{arm710},
@@code{arm710t},
@@code{arm720},
@@code{arm720t},
@@code{arm740t},
@@code{arm710c},
@@code{arm7100},
@@code{arm7500},
@@code{arm7500fe},
@@code{arm7t},
@@code{arm7tdmi},
@@code{arm8},
@@code{arm810},
@@code{strongarm},
@@code{strongarm1},
@@code{strongarm110},
@@code{strongarm1100},
@@code{strongarm1110},
@@code{arm9},
@@code{arm920},
@@code{arm920t},
@@code{arm922t},
@@code{arm940t},
@@code{arm9tdmi},
@@code{arm9e},
@@code{arm946e-r0},
@@code{arm946e},
@@code{arm966e-r0},
@@code{arm966e},
@@code{arm10t},
@@code{arm10e},
@@code{arm1020},
@@code{arm1020t},
@@code{arm1020e}, 
@@code{ep9312} (ARM920 with Cirrus Maverick coprocessor),
@@code{i80200} (Intel XScale processor)
@@code{iwmmxt} (Intel(r) XScale processor with Wireless MMX(tm) technology coprocessor)
and
@@code{xscale}.  
The special name @@code{all} may be used to allow the
assembler to accept instructions valid for any ARM processor.

In addition to the basic instruction set, the assembler can be told to 
accept various extension mnemonics that extend the processor using the 
co-processor instruction space.  For example, @@code{-mcpu=arm920+maverick}
is equivalent to specifying @@code{-mcpu=ep9312}.  The following extensions
are currently supported: 
@@code{+maverick}
@@code{+iwmmxt}
and
@@code{+xscale}.
d41 2
a42 2
@@cindex @@code{-march=} command line option, ARM
@@item -march=@@var{architecture}[+@@var{extension}@@dots{}]
d45 3
a47 60
will not execute on the target architecture.  The following architecture 
names are recognized: 
@@code{armv1},
@@code{armv2},
@@code{armv2a},
@@code{armv2s},
@@code{armv3},
@@code{armv3m},
@@code{armv4},
@@code{armv4xm},
@@code{armv4t},
@@code{armv4txm},
@@code{armv5},
@@code{armv5t},
@@code{armv5txm},
@@code{armv5te},
@@code{armv5texp}
@@code{iwmmxt}
and
@@code{xscale}.
If both @@code{-mcpu} and
@@code{-march} are specified, the assembler will use
the setting for @@code{-mcpu}.

The architecture option can be extended with the same instruction set
extension options as the @@code{-mcpu} option.

@@cindex @@code{-mfpu=} command line option, ARM
@@item -mfpu=@@var{floating-point-format}

This option specifies the floating point format to assemble for.  The
assembler will issue an error message if an attempt is made to assemble
an instruction which will not execute on the target floating point unit.  
The following format options are recognized:
@@code{softfpa},
@@code{fpe},
@@code{fpe2},
@@code{fpe3},
@@code{fpa},
@@code{fpa10},
@@code{fpa11},
@@code{arm7500fe},
@@code{softvfp},
@@code{softvfp+vfp},
@@code{vfp},
@@code{vfp10},
@@code{vfp10-r0},
@@code{vfp9},
@@code{vfpxd},
@@code{arm1020t}
and
@@code{arm1020e}.

In addition to determining which instructions are assembled, this option
also affects the way in which the @@code{.double} assembler directive behaves
when assembling little-endian code.

The default is dependent on the processor selected.  For Architecture 5 or 
later, the default is to assembler for VFP instructions; for earlier 
architectures the default is to assemble for FPA instructions.
d51 18
a68 3
This option specifies that the assembler should start assembling Thumb
instructions; that is, it should behave as though the file starts with a 
@@code{.code 16} directive.
d184 1
a184 1
boundary).  This is for compatibility with ARM's own assembler.
a234 8
@@code{GAS} maintains a separate literal pool for each section and each
sub-section.  The @@code{.ltorg} directive will only affect the literal
pool of the current section and sub-section.  At the end of assembly
all remaining, un-empty literal pools will automatically be dumped.

Note - older versions of @@code{GAS} would dump the current literal
pool any time a section change occurred.  This is no longer done, since
it prevents accurate control of the placement of literal pools.
@

