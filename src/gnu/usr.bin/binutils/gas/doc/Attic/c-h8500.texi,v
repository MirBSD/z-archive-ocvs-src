head	1.3;
access;
symbols
	binutils-2_15:1.1.2.2
	cvs-200406091940:1.1.1.2
	MIRBSD_7quater:1.2
	cvs-200405160640:1.1.1.1
	cvs-200401271800:1.1.1.1
	cvs-200401261630:1.1.1.1
	cvs-200401021645:1.1.1.1
	MIRBSD_7_ALPHA:1.2.0.6
	MIRBSD_7:1.2.0.4
	cvs-200312222040:1.1.1.1
	cvs-200312031730:1.1.1.1
	MIRBSD_7ter:1.2
	MIRBSD_7_DEV:1.2.0.2
	cvs-200310020700:1.1.1.1
	cvs-200309271030:1.1.1.1
	cvs-200309251530:1.1.1.1
	binutils_2_14:1.1.2.2
	binutils_2_11_2:1.1.2.1
	FSF:1.1.2
	cvs-200308302005:1.1.1.1
	cvs-200308171200:1.1.1.1
	ctm-3496:1.1.1.1
	ctm-3449:1.1.1.1
	ctm-3437:1.1.1.1
	cvs-200307191805:1.1.1.1
	ctm-3425:1.1.1.1
	cvs-200307091500:1.1.1.1
	ctm-3389:1.1.1.1
	cvs-200306291430:1.1.1.1
	ctm-3341:1.1.1.1
	MIRBSD_5:1.1.1.1
	cvs-200306082100:1.1.1.1
	ctm-3316:1.1.1.1
	ctm-3272:1.1.1.1
	ctm-3264:1.1.1.1
	cvs-200305071630:1.1.1.1
	MIRBSD_4:1.1.1.1
	ctm-3203:1.1.1.1
	cvs-20030410-1130:1.1.1.1
	ctm-3155:1.1.1.1
	ctm-3132:1.1.1.1
	openbsd:1.1.1;
locks; strict;
comment	@# @;


1.3
date	2003.11.04.17.25.35;	author tg;	state dead;
branches;
next	1.2;

1.2
date	2003.09.23.21.02.16;	author tg;	state Exp;
branches;
next	1.1;

1.1
date	2003.03.22.17.39.34;	author tg;	state Exp;
branches
	1.1.1.1
	1.1.2.1;
next	;

1.1.1.1
date	2003.03.22.17.39.34;	author tg;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	2004.06.09.20.31.45;	author tg;	state Exp;
branches;
next	;

1.1.2.1
date	2003.09.23.15.41.43;	author tg;	state Exp;
branches;
next	1.1.2.2;

1.1.2.2
date	2003.09.23.16.05.45;	author tg;	state Exp;
branches;
next	;


desc
@@


1.3
log
@Yours sincerely, licence auditor, strikes again.


Remove stuff under the so-called "GNU Free Documentation License".

You are actually even breaching the licence when you are
storing GFDL-licenced documents on an encrypted filesystem,
or "even  storing  it  on  a  file-sharing  system  with
non-world-readable permissions", according to the information
found at http://home.twcny.rr.com/nerode/neroden/fdl.html
via Slashdot.

I am thinking whether to adopt the (amended) Debian Social
Contract, and either the DFSG or the OSD (or both) for MirOS.
(see the /. story)

src/gnu/libstdc++:

| The Docs: FDL
|
|    The documentation shipped with the library and made available over the
|    web,   including   the  pages  generated  from  source  comments,  are
|    copyrighted  by  the  Free  Software  Foundation, and placed under the
|    [3]GNU   Free   Documentation   License  version  1.1.  There  are  no
|    Front-Cover Texts, no Back-Cover Texts, and no Invariant Sections.

Of course this doesn't apply to documentation for libstdc++ generated by
ourselfes from GPL'd or LGPL'd files, because the GFDL is incompatible
with both of them.


Hint: if you can dig out older versions of the GNU tools man pages, such
as gcc 3.0 and binutils 2.12/2.13 (for example), which are not yet GFDL
licenced, please give me a hint (I'm not actively searching myself now)
or mail them to me, and be sure I'll commit them, together with a warning
about inactuality.
@
text
@@@c Copyright (C) 1991, 1992, 1993, 1994, 1995 Free Software Foundation, Inc.
@@c This is part of the GAS manual.
@@c For copying conditions, see the file as.texinfo.
@@page
@@node H8/500-Dependent
@@chapter H8/500 Dependent Features

@@cindex H8/500 support
@@menu
* H8/500 Options::              Options
* H8/500 Syntax::               Syntax
* H8/500 Floating Point::       Floating Point
* H8/500 Directives::           H8/500 Machine Directives
* H8/500 Opcodes::              Opcodes
@@end menu

@@node H8/500 Options
@@section Options

@@cindex H8/500 options (none)
@@cindex options, H8/500 (none)
@@code{@@value{AS}} has no additional command-line options for the
Renesas (formerly Hitachi) H8/500 family.

@@node H8/500 Syntax
@@section Syntax

@@menu
* H8/500-Chars::                Special Characters
* H8/500-Regs::                 Register Names
* H8/500-Addressing::           Addressing Modes
@@end menu

@@node H8/500-Chars
@@subsection Special Characters

@@cindex line comment character, H8/500
@@cindex H8/500 line comment character
@@samp{!} is the line comment character.

@@cindex line separator, H8/500
@@cindex statement separator, H8/500
@@cindex H8/500 line separator
@@samp{;} can be used instead of a newline to separate statements.

@@cindex symbol names, @@samp{$} in
@@cindex @@code{$} in symbol names
Since @@samp{$} has no special meaning, you may use it in symbol names.

@@node H8/500-Regs
@@subsection Register Names

@@cindex H8/500 registers
@@cindex registers, H8/500
You can use the predefined symbols @@samp{r0}, @@samp{r1}, @@samp{r2},
@@samp{r3}, @@samp{r4}, @@samp{r5}, @@samp{r6}, and @@samp{r7} to refer to
the H8/500 registers.

The H8/500 also has these control registers:

@@table @@code
@@item cp
code pointer

@@item dp
data pointer

@@item bp
base pointer

@@item tp
stack top pointer

@@item ep
extra pointer

@@item sr
status register

@@item ccr
condition code register
@@end table

All registers are 16 bits long.  To represent 32 bit numbers, use two
adjacent registers; for distant memory addresses, use one of the segment
pointers (@@code{cp} for the program counter; @@code{dp} for
@@code{r0}--@@code{r3}; @@code{ep} for @@code{r4} and @@code{r5}; and
@@code{tp} for @@code{r6} and @@code{r7}.

@@node H8/500-Addressing
@@subsection Addressing Modes

@@cindex addressing modes, H8/500
@@cindex H8/500 addressing modes
@@value{AS} understands the following addressing modes for the H8/500:
@@table @@code
@@item R@@var{n}
Register direct

@@item @@@@R@@var{n}
Register indirect

@@item @@@@(d:8, R@@var{n})
Register indirect with 8 bit signed displacement

@@item @@@@(d:16, R@@var{n})
Register indirect with 16 bit signed displacement

@@item @@@@-R@@var{n}
Register indirect with pre-decrement

@@item @@@@R@@var{n}+
Register indirect with post-increment

@@item @@@@@@var{aa}:8
8 bit absolute address

@@item @@@@@@var{aa}:16
16 bit absolute address

@@item #@@var{xx}:8
8 bit immediate

@@item #@@var{xx}:16
16 bit immediate
@@end table

@@node H8/500 Floating Point
@@section Floating Point

@@cindex floating point, H8/500 (@@sc{ieee})
@@cindex H8/500 floating point (@@sc{ieee})
The H8/500 family has no hardware floating point, but the @@code{.float}
directive generates @@sc{ieee} floating-point numbers for compatibility
with other development tools.

@@node H8/500 Directives
@@section H8/500 Machine Directives

@@cindex H8/500 machine directives (none)
@@cindex machine directives, H8/500 (none)
@@cindex @@code{word} directive, H8/500
@@cindex @@code{int} directive, H8/500
@@code{@@value{AS}} has no machine-dependent directives for the H8/500.
However, on this platform the @@samp{.int} and @@samp{.word} directives
generate 16-bit numbers.

@@node H8/500 Opcodes
@@section Opcodes

@@cindex H8/500 opcode summary
@@cindex opcode summary, H8/500
@@cindex mnemonics, H8/500
@@cindex instruction summary, H8/500
For detailed information on the H8/500 machine instruction set, see
@@cite{H8/500 Series Programming Manual} (Renesas M21T001).

@@code{@@value{AS}} implements all the standard H8/500 opcodes.  No additional
pseudo-instructions are needed on this family.

@@ifset SMALL
@@c this table, due to the multi-col faking and hardcoded order, looks silly
@@c except in smallbook.  See comments below "@@set SMALL" near top of this file.

The following table summarizes H8/500 opcodes and their operands:

@@c Use @@group if it ever works, instead of @@page
@@page
@@smallexample
@@i{Legend:}
abs8      @@r{8-bit absolute address}
abs16     @@r{16-bit absolute address}
abs24     @@r{24-bit absolute address}
crb       @@r{@@code{ccr}, @@code{br}, @@code{ep}, @@code{dp}, @@code{tp}, @@code{dp}}
disp8     @@r{8-bit displacement}
ea        @@r{@@code{rn}, @@code{@@@@rn}, @@code{@@@@(d:8, rn)}, @@code{@@@@(d:16, rn)},}
          @@r{@@code{@@@@-rn}, @@code{@@@@rn+}, @@code{@@@@aa:8}, @@code{@@@@aa:16},}
          @@r{@@code{#xx:8}, @@code{#xx:16}}
ea_mem    @@r{@@code{@@@@rn}, @@code{@@@@(d:8, rn)}, @@code{@@@@(d:16, rn)},}
          @@r{@@code{@@@@-rn}, @@code{@@@@rn+}, @@code{@@@@aa:8}, @@code{@@@@aa:16}}
ea_noimm  @@r{@@code{rn}, @@code{@@@@rn}, @@code{@@@@(d:8, rn)}, @@code{@@@@(d:16, rn)},}
          @@r{@@code{@@@@-rn}, @@code{@@@@rn+}, @@code{@@@@aa:8}, @@code{@@@@aa:16}}
fp        r6
imm4      @@r{4-bit immediate data}
imm8      @@r{8-bit immediate data}
imm16     @@r{16-bit immediate data}
pcrel8    @@r{8-bit offset from program counter}
pcrel16   @@r{16-bit offset from program counter}
qim       @@r{@@code{-2}, @@code{-1}, @@code{1}, @@code{2}}
rd        @@r{any register}
rs        @@r{a register distinct from rd}
rlist     @@r{comma-separated list of registers in parentheses;}
          @@r{register ranges @@code{rd-rs} are allowed}
sp        @@r{stack pointer (@@code{r7})}
sr        @@r{status register}
sz        @@r{size; @@samp{.b} or @@samp{.w}.  If omitted, default @@samp{.w}}

ldc[.b] ea,crb                 bcc[.w] pcrel16
ldc[.w] ea,sr                  bcc[.b] pcrel8 
add[:q] sz qim,ea_noimm        bhs[.w] pcrel16
add[:g] sz ea,rd               bhs[.b] pcrel8 
adds sz ea,rd                  bcs[.w] pcrel16
addx sz ea,rd                  bcs[.b] pcrel8 
and sz ea,rd                   blo[.w] pcrel16
andc[.b] imm8,crb              blo[.b] pcrel8 
andc[.w] imm16,sr              bne[.w] pcrel16
bpt                            bne[.b] pcrel8 
bra[.w] pcrel16                beq[.w] pcrel16
bra[.b] pcrel8                 beq[.b] pcrel8 
bt[.w] pcrel16                 bvc[.w] pcrel16
bt[.b] pcrel8                  bvc[.b] pcrel8 
brn[.w] pcrel16                bvs[.w] pcrel16
brn[.b] pcrel8                 bvs[.b] pcrel8 
bf[.w] pcrel16                 bpl[.w] pcrel16
bf[.b] pcrel8                  bpl[.b] pcrel8 
bhi[.w] pcrel16                bmi[.w] pcrel16
bhi[.b] pcrel8                 bmi[.b] pcrel8 
bls[.w] pcrel16                bge[.w] pcrel16
bls[.b] pcrel8                 bge[.b] pcrel8 
@@page
blt[.w] pcrel16                mov[:g][.b] imm8,ea_mem       
blt[.b] pcrel8                 mov[:g][.w] imm16,ea_mem      
bgt[.w] pcrel16                movfpe[.b] ea,rd              
bgt[.b] pcrel8                 movtpe[.b] rs,ea_noimm        
ble[.w] pcrel16                mulxu sz ea,rd                
ble[.b] pcrel8                 neg sz ea                     
bclr sz imm4,ea_noimm          nop                           
bclr sz rs,ea_noimm            not sz ea                     
bnot sz imm4,ea_noimm          or sz ea,rd                   
bnot sz rs,ea_noimm            orc[.b] imm8,crb              
bset sz imm4,ea_noimm          orc[.w] imm16,sr              
bset sz rs,ea_noimm            pjmp abs24                    
bsr[.b] pcrel8                 pjmp @@@@rd                     
bsr[.w] pcrel16                pjsr abs24                    
btst sz imm4,ea_noimm          pjsr @@@@rd                     
btst sz rs,ea_noimm            prtd imm8                     
clr sz ea                      prtd imm16                    
cmp[:e][.b] imm8,rd            prts                          
cmp[:i][.w] imm16,rd           rotl sz ea                    
cmp[:g].b imm8,ea_noimm        rotr sz ea                    
cmp[:g][.w] imm16,ea_noimm     rotxl sz ea                   
Cmp[:g] sz ea,rd               rotxr sz ea                   
dadd rs,rd                     rtd imm8                     
divxu sz ea,rd                 rtd imm16                    
dsub rs,rd                     rts                          
exts[.b] rd                    scb/f rs,pcrel8               
extu[.b] rd                    scb/ne rs,pcrel8             
jmp @@@@rd                        scb/eq rs,pcrel8             
jmp @@@@(imm8,rd)                 shal sz ea                   
jmp @@@@(imm16,rd)                shar sz ea                    
jmp abs16                      shll sz ea            
jsr @@@@rd                        shlr sz ea            
jsr @@@@(imm8,rd)                 sleep                 
jsr @@@@(imm16,rd)                stc[.b] crb,ea_noimm  
jsr abs16                      stc[.w] sr,ea_noimm   
ldm @@@@sp+,(rlist)               stm (rlist),@@@@-sp     
link fp,imm8                   sub sz ea,rd          
link fp,imm16                  subs sz ea,rd         
mov[:e][.b] imm8,rd            subx sz ea,rd         
mov[:i][.w] imm16,rd           swap[.b] rd           
mov[:l][.w] abs8,rd            tas[.b] ea     
mov[:l].b abs8,rd              trapa imm4     
mov[:s][.w] rs,abs8            trap/vs        
mov[:s].b rs,abs8              tst sz ea      
mov[:f][.w] @@@@(disp8,fp),rd     unlk fp        
mov[:f][.w] rs,@@@@(disp8,fp)     xch[.w] rs,rd 
mov[:f].b @@@@(disp8,fp),rd       xor sz ea,rd   
mov[:f].b rs,@@@@(disp8,fp)       xorc.b imm8,crb
mov[:g] sz rs,ea_mem           xorc.w imm16,sr
mov[:g] sz ea,rd              
@@end smallexample
@@end ifset
@


1.2
log
@looks as if some sour wine (Federweiﬂer <german>, for an English
description see http://forum.leo.org/archiv/2002_11/04/20021104125717e_en.html)
could help me to bear the pain upgrading binutils to 2.14

todo:
 - test if this works at all
 - test if this works
 - test if nothing breaks
 - nuke all occurences of "false" and "true" in binutils (including gdb),
   see bfd.h "Poison" for reference
 - talk to the OpenBSD people, ask them if they could improve this
@
text
@@


1.1
log
@Initial revision
@
text
@d22 2
a23 2
@@code{@@value{AS}} has no additional command-line options for the Hitachi
H8/500 family.
d156 1
a156 1
@@cite{H8/500 Series Programming Manual} (Hitachi M21T001).
@


1.1.2.1
log
@vendor-branch-i-fy GNU binutils (2.11.2) to facilitate an update
@
text
@@


1.1.2.2
log
@Import GNU binutils 2.14 from the Free Software Foundation
(in case the update goes FUBAR, it can be easily backed off)
@
text
@d22 2
a23 2
@@code{@@value{AS}} has no additional command-line options for the
Renesas (formerly Hitachi) H8/500 family.
d156 1
a156 1
@@cite{H8/500 Series Programming Manual} (Renesas M21T001).
@


1.1.1.1
log
@Import OpenBSD 3.3 source repository from CTM 3132 the first time
This opens an OpenBSD-mirabile (aka MirBSD) repository.

### MirBSD is:
# Copyright (c) 1982-2003 by Thorsten "mirabile" Glaser <x86@@ePost.de>
# Copyright © 1968-2003  The authors of And contributors to UNIXÆ, the
#       C Language, BSD/Berkeley Unix; 386BSD, NetBSD 1.1 and OpenBSD.
#
# Anyone who obtained a copy of this work is hereby permitted to freely use,
# distribute, modify, merge, sublicence, give away or sell it as long as the
# authors are given due credit and the following notice is retained:
#
# This work is provided "as is", with no explicit or implicit warranty what-
# soever. Use it only at your own risk. In no event may an author or contri-
# butor be held liable for any damage, directly or indirectly, that origina-
# ted through or is caused by creation or modification of this work.

MirBSD is my private tree. MirBSD does not differ very much from OpenBSD
and intentionally tracks OpenBSD. That's why it _is_ OpenBSD, just not the
official one. It's like with DarrenBSD.

At time of this writing, no advertising for MirBSD must be done,
because the advertising clause has not yet been sorted out.

http://templeofhate.com/tglaser/MirBSD/index.php
@
text
@@


1.1.1.2
log
@Sync of src/gnu with OpenBSD (promised a long time ago)
@
text
@d22 2
a23 2
@@code{@@value{AS}} has no additional command-line options for the
Renesas (formerly Hitachi) H8/500 family.
d156 1
a156 1
@@cite{H8/500 Series Programming Manual} (Renesas M21T001).
@

