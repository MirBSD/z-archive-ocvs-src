head	1.3;
access;
symbols
	binutils-2_15:1.1.2.2
	cvs-200406091940:1.1.1.2
	MIRBSD_7quater:1.2
	cvs-200405160640:1.1.1.1
	cvs-200401271800:1.1.1.1
	cvs-200401261630:1.1.1.1
	cvs-200401021645:1.1.1.1
	MIRBSD_7_ALPHA:1.2.0.6
	MIRBSD_7:1.2.0.4
	cvs-200312222040:1.1.1.1
	cvs-200312031730:1.1.1.1
	MIRBSD_7ter:1.2
	MIRBSD_7_DEV:1.2.0.2
	cvs-200310020700:1.1.1.1
	cvs-200309271030:1.1.1.1
	cvs-200309251530:1.1.1.1
	binutils_2_14:1.1.2.2
	binutils_2_11_2:1.1.2.1
	FSF:1.1.2
	cvs-200308302005:1.1.1.1
	cvs-200308171200:1.1.1.1
	ctm-3496:1.1.1.1
	ctm-3449:1.1.1.1
	ctm-3437:1.1.1.1
	cvs-200307191805:1.1.1.1
	ctm-3425:1.1.1.1
	cvs-200307091500:1.1.1.1
	ctm-3389:1.1.1.1
	cvs-200306291430:1.1.1.1
	ctm-3341:1.1.1.1
	MIRBSD_5:1.1.1.1
	cvs-200306082100:1.1.1.1
	ctm-3316:1.1.1.1
	ctm-3272:1.1.1.1
	ctm-3264:1.1.1.1
	cvs-200305071630:1.1.1.1
	MIRBSD_4:1.1.1.1
	ctm-3203:1.1.1.1
	cvs-20030410-1130:1.1.1.1
	ctm-3155:1.1.1.1
	ctm-3132:1.1.1.1
	openbsd:1.1.1;
locks; strict;
comment	@# @;


1.3
date	2003.11.04.17.25.53;	author tg;	state dead;
branches;
next	1.2;

1.2
date	2003.09.23.21.02.17;	author tg;	state Exp;
branches;
next	1.1;

1.1
date	2003.03.22.17.39.37;	author tg;	state Exp;
branches
	1.1.1.1
	1.1.2.1;
next	;

1.1.1.1
date	2003.03.22.17.39.37;	author tg;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	2004.06.09.20.31.47;	author tg;	state Exp;
branches;
next	;

1.1.2.1
date	2003.09.23.15.41.44;	author tg;	state Exp;
branches;
next	1.1.2.2;

1.1.2.2
date	2003.09.23.16.05.47;	author tg;	state Exp;
branches;
next	;


desc
@@


1.3
log
@Yours sincerely, licence auditor, strikes again.


Remove stuff under the so-called "GNU Free Documentation License".

You are actually even breaching the licence when you are
storing GFDL-licenced documents on an encrypted filesystem,
or "even  storing  it  on  a  file-sharing  system  with
non-world-readable permissions", according to the information
found at http://home.twcny.rr.com/nerode/neroden/fdl.html
via Slashdot.

I am thinking whether to adopt the (amended) Debian Social
Contract, and either the DFSG or the OSD (or both) for MirOS.
(see the /. story)

src/gnu/libstdc++:

| The Docs: FDL
|
|    The documentation shipped with the library and made available over the
|    web,   including   the  pages  generated  from  source  comments,  are
|    copyrighted  by  the  Free  Software  Foundation, and placed under the
|    [3]GNU   Free   Documentation   License  version  1.1.  There  are  no
|    Front-Cover Texts, no Back-Cover Texts, and no Invariant Sections.

Of course this doesn't apply to documentation for libstdc++ generated by
ourselfes from GPL'd or LGPL'd files, because the GFDL is incompatible
with both of them.


Hint: if you can dig out older versions of the GNU tools man pages, such
as gcc 3.0 and binutils 2.12/2.13 (for example), which are not yet GFDL
licenced, please give me a hint (I'm not actively searching myself now)
or mail them to me, and be sure I'll commit them, together with a warning
about inactuality.
@
text
@@@c Copyright 1999, 2000 Free Software Foundation, Inc.
@@c This is part of the GAS manual.
@@c For copying conditions, see the file as.texinfo.
@@c TI TMS320C54X description by Timothy Wall, twall@@cygnus.com
@@ifset GENERIC
@@page
@@node TIC54X-Dependent
@@chapter TIC54X Dependent Features
@@end ifset
@@ifclear GENERIC
@@node Machine Dependencies
@@chapter TIC54X Dependent Features
@@end ifclear

@@cindex TIC54X support
@@menu
* TIC54X-Opts::              Command-line Options
* TIC54X-Block::             Blocking
* TIC54X-Env::               Environment Settings
* TIC54X-Constants::         Constants Syntax
* TIC54X-Subsyms::           String Substitution
* TIC54X-Locals::            Local Label Syntax
* TIC54X-Builtins::          Builtin Assembler Math Functions
* TIC54X-Ext::               Extended Addressing Support
* TIC54X-Directives::        Directives
* TIC54X-Macros::            Macro Features
* TIC54X-MMRegs::            Memory-mapped Registers
@@end menu

@@node TIC54X-Opts
@@section Options

@@cindex options, TIC54X
@@cindex TIC54X options
The TMS320C54x version of @@code{@@value{AS}} has a few machine-dependent options.

@@cindex @@samp{-mfar-mode} option, far-mode
@@cindex @@samp{-mf} option, far-mode
You can use the @@samp{-mfar-mode} option to enable extended addressing mode.
All addresses will be assumed to be > 16 bits, and the appropriate
relocation types will be used.  This option is equivalent to using the
@@samp{.far_mode} directive in the assembly code.  If you do not use the
@@samp{-mfar-mode} option, all references will be assumed to be 16 bits.  
This option may be abbreviated to @@samp{-mf}.

@@cindex @@samp{-mcpu} option, cpu
You can use the @@samp{-mcpu} option to specify a particular CPU.
This option is equivalent to using the @@samp{.version} directive in the
assembly code.  For recognized CPU codes, see
@@xref{TIC54X-Directives,,@@code{.version}}.  The default CPU version is
@@samp{542}.   

@@cindex @@samp{-merrors-to-file} option, stderr redirect
@@cindex @@samp{-me} option, stderr redirect
You can use the @@samp{-merrors-to-file} option to redirect error output
to a file (this provided for those deficient environments which don't
provide adequate output redirection).  This option may be abbreviated to
@@samp{-me}. 

@@node TIC54X-Block
@@section Blocking
A blocked section or memory block is guaranteed not to cross the blocking
boundary (usually a page, or 128 words) if it is smaller than the
blocking size, or to start on a page boundary if it is larger than the
blocking size.

@@node TIC54X-Env
@@section Environment Settings

@@cindex environment settings, TIC54X
@@cindex @@samp{A_DIR} environment variable, TIC54X
@@cindex @@samp{C54XDSP_DIR} environment variable, TIC54X
@@samp{C54XDSP_DIR} and @@samp{A_DIR} are semicolon-separated
paths which are added to the list of directories normally searched for
source and include files.  @@samp{C54XDSP_DIR} will override @@samp{A_DIR}.

@@node TIC54X-Constants
@@section Constants Syntax

@@cindex constants, TIC54X
The TIC54X version of @@code{@@value{AS}} allows the following additional
constant formats, using a suffix to indicate the radix:
@@smallexample
@@cindex binary constants, TIC54X

Binary                  @@code{000000B, 011000b}
Octal                   @@code{10Q, 224q}
Hexadecimal             @@code{45h, 0FH}

@@end smallexample

@@node TIC54X-Subsyms
@@section String Substitution
A subset of allowable symbols (which we'll call subsyms) may be assigned
arbitrary string values.  This is roughly equivalent to C preprocessor
#define macros.  When @@code{@@value{AS}} encounters one of these
symbols, the symbol is replaced in the input stream by its string value.
Subsym names @@strong{must} begin with a letter. 

Subsyms may be defined using the @@code{.asg} and @@code{.eval} directives
(@@xref{TIC54X-Directives,,@@code{.asg}},
@@xref{TIC54X-Directives,,@@code{.eval}}. 

Expansion is recursive until a previously encountered symbol is seen, at
which point substitution stops.  

In this example, x is replaced with SYM2; SYM2 is replaced with SYM1, and SYM1
is replaced with x.  At this point, x has already been encountered
and the substitution stops.

@@smallexample @@code
 .asg   "x",SYM1 
 .asg   "SYM1",SYM2
 .asg   "SYM2",x
 add    x,a             ; final code assembled is "add  x, a"
@@end smallexample

Macro parameters are converted to subsyms; a side effect of this is the normal
@@code{@@value{AS}} '\ARG' dereferencing syntax is unnecessary.  Subsyms
defined within a macro will have global scope, unless the @@code{.var}
directive is used to identify the subsym as a local macro variable
@@pxref{TIC54X-Directives,,@@code{.var}}.

Substitution may be forced in situations where replacement might be
ambiguous by placing colons on either side of the subsym.  The following
code: 

@@smallexample @@code
 .eval  "10",x
LAB:X:  add     #x, a
@@end smallexample

When assembled becomes:

@@smallexample @@code
LAB10  add     #10, a
@@end smallexample

Smaller parts of the string assigned to a subsym may be accessed with
the following syntax:

@@table @@code
@@item @@code{:@@var{symbol}(@@var{char_index}):}
Evaluates to a single-character string, the character at @@var{char_index}.
@@item @@code{:@@var{symbol}(@@var{start},@@var{length}):}
Evaluates to a substring of @@var{symbol} beginning at @@var{start} with
length @@var{length}.
@@end table

@@node TIC54X-Locals
@@section Local Labels
Local labels may be defined in two ways:

@@itemize @@bullet
@@item
$N, where N is a decimal number between 0 and 9
@@item
LABEL?, where LABEL is any legal symbol name.  
@@end itemize

Local labels thus defined may be redefined or automatically generated.
The scope of a local label is based on when it may be undefined or reset.
This happens when one of the following situations is encountered:

@@itemize @@bullet
@@item
.newblock directive @@pxref{TIC54X-Directives,,@@code{.newblock}}
@@item
The current section is changed (.sect, .text, or .data)
@@item
Entering or leaving an included file
@@item
The macro scope where the label was defined is exited
@@end itemize

@@node TIC54X-Builtins
@@section Math Builtins

@@cindex math builtins, TIC54X
@@cindex TIC54X builtin math functions
@@cindex builtin math functions, TIC54X

The following built-in functions may be used to generate a
floating-point value.  All return a floating-point value except
@@samp{$cvi}, @@samp{$int}, and @@samp{$sgn}, which return an integer
value. 

@@table @@code
@@cindex @@code{$acos} math builtin, TIC54X
@@item @@code{$acos(@@var{expr})}
Returns the floating point arccosine of @@var{expr}.

@@cindex @@code{$asin} math builtin, TIC54X
@@item @@code{$asin(@@var{expr})}
Returns the floating point arcsine of @@var{expr}.

@@cindex @@code{$atan} math builtin, TIC54X
@@item @@code{$atan(@@var{expr})}
Returns the floating point arctangent of @@var{expr}.

@@cindex @@code{$atan2} math builtin, TIC54X
@@item @@code{$atan2(@@var{expr1},@@var{expr2})}
Returns the floating point arctangent of @@var{expr1} / @@var{expr2}.

@@cindex @@code{$ceil} math builtin, TIC54X
@@item @@code{$ceil(@@var{expr})}
Returns the smallest integer not less than @@var{expr} as floating point.

@@cindex @@code{$cosh} math builtin, TIC54X
@@item @@code{$cosh(@@var{expr})}
Returns the floating point hyperbolic cosine of @@var{expr}.

@@cindex @@code{$cos} math builtin, TIC54X
@@item @@code{$cos(@@var{expr})}
Returns the floating point cosine of @@var{expr}.

@@cindex @@code{$cvf} math builtin, TIC54X
@@item @@code{$cvf(@@var{expr})}
Returns the integer value @@var{expr} converted to floating-point.

@@cindex @@code{$cvi} math builtin, TIC54X
@@item @@code{$cvi(@@var{expr})}
Returns the floating point value @@var{expr} converted to integer.

@@cindex @@code{$exp} math builtin, TIC54X
@@item @@code{$exp(@@var{expr})}
Returns the floating point value e ^ @@var{expr}.

@@cindex @@code{$fabs} math builtin, TIC54X
@@item @@code{$fabs(@@var{expr})}
Returns the floating point absolute value of @@var{expr}.

@@cindex @@code{$floor} math builtin, TIC54X
@@item @@code{$floor(@@var{expr})}
Returns the largest integer that is not greater than @@var{expr} as
floating point.

@@cindex @@code{$fmod} math builtin, TIC54X
@@item @@code{$fmod(@@var{expr1},@@var{expr2})}
Returns the floating point remainder of @@var{expr1} / @@var{expr2}.

@@cindex @@code{$int} math builtin, TIC54X
@@item @@code{$int(@@var{expr})}
Returns 1 if @@var{expr} evaluates to an integer, zero otherwise.

@@cindex @@code{$ldexp} math builtin, TIC54X
@@item @@code{$ldexp(@@var{expr1},@@var{expr2})}
Returns the floating point value @@var{expr1} * 2 ^ @@var{expr2}.

@@cindex @@code{$log10} math builtin, TIC54X
@@item @@code{$log10(@@var{expr})}
Returns the base 10 logarithm of @@var{expr}.

@@cindex @@code{$log} math builtin, TIC54X
@@item @@code{$log(@@var{expr})}
Returns the natural logarithm of @@var{expr}.

@@cindex @@code{$max} math builtin, TIC54X
@@item @@code{$max(@@var{expr1},@@var{expr2})}
Returns the floating point maximum of @@var{expr1} and @@var{expr2}.

@@cindex @@code{$min} math builtin, TIC54X
@@item @@code{$min(@@var{expr1},@@var{expr2})}
Returns the floating point minimum of @@var{expr1} and @@var{expr2}.

@@cindex @@code{$pow} math builtin, TIC54X
@@item @@code{$pow(@@var{expr1},@@var{expr2})}
Returns the floating point value @@var{expr1} ^ @@var{expr2}.

@@cindex @@code{$round} math builtin, TIC54X
@@item @@code{$round(@@var{expr})}
Returns the nearest integer to @@var{expr} as a floating point number.

@@cindex @@code{$sgn} math builtin, TIC54X
@@item @@code{$sgn(@@var{expr})}
Returns -1, 0, or 1 based on the sign of @@var{expr}.

@@cindex @@code{$sin} math builtin, TIC54X
@@item @@code{$sin(@@var{expr})}
Returns the floating point sine of @@var{expr}.

@@cindex @@code{$sinh} math builtin, TIC54X
@@item @@code{$sinh(@@var{expr})}
Returns the floating point hyperbolic sine of @@var{expr}.

@@cindex @@code{$sqrt} math builtin, TIC54X
@@item @@code{$sqrt(@@var{expr})}
Returns the floating point square root of @@var{expr}.

@@cindex @@code{$tan} math builtin, TIC54X
@@item @@code{$tan(@@var{expr})}
Returns the floating point tangent of @@var{expr}.

@@cindex @@code{$tanh} math builtin, TIC54X
@@item @@code{$tanh(@@var{expr})}
Returns the floating point hyperbolic tangent of @@var{expr}.

@@cindex @@code{$trunc} math builtin, TIC54X
@@item @@code{$trunc(@@var{expr})}
Returns the integer value of @@var{expr} truncated towards zero as
floating point.

@@end table

@@node TIC54X-Ext
@@section Extended Addressing
The @@code{LDX} pseudo-op is provided for loading the extended addressing bits
of a label or address.  For example, if an address @@code{_label} resides
in extended program memory, the value of @@code{_label} may be loaded as
follows:
@@smallexample @@code
 ldx     #_label,16,a    ; loads extended bits of _label
 or      #_label,a       ; loads lower 16 bits of _label
 bacc    a               ; full address is in accumulator A
@@end smallexample

@@node TIC54X-Directives
@@section Directives

@@cindex machine directives, TIC54X
@@cindex TIC54X machine directives

@@table @@code

@@cindex @@code{align} directive, TIC54X
@@cindex @@code{even} directive, TIC54X
@@item .align [@@var{size}]
@@itemx .even
Align the section program counter on the next boundary, based on
@@var{size}.  @@var{size} may be any power of 2.  @@code{.even} is
equivalent to @@code{.align} with a @@var{size} of 2.
@@table @@code
@@item 1
Align SPC to word boundary
@@item 2
Align SPC to longword boundary (same as .even)
@@item 128       
Align SPC to page boundary
@@end table

@@cindex @@code{asg} directive, TIC54X
@@item .asg @@var{string}, @@var{name}
Assign @@var{name} the string @@var{string}.  String replacement is
performed on @@var{string} before assignment.

@@cindex @@code{eval} directive, TIC54X
@@itemx .eval @@var{string}, @@var{name}
Evaluate the contents of string @@var{string} and assign the result as a
string to the subsym @@var{name}.  String replacement is performed on
@@var{string} before assignment. 

@@cindex @@code{bss} directive, TIC54X
@@item .bss @@var{symbol}, @@var{size} [, [@@var{blocking_flag}] [,@@var{alignment_flag}]]
Reserve space for @@var{symbol} in the .bss section.  @@var{size} is in
words.  If present, @@var{blocking_flag} indicates the allocated space
should be aligned on a page boundary if it would otherwise cross a page
boundary.  If present, @@var{alignment_flag} causes the assembler to
allocate @@var{size} on a long word boundary.

@@cindex @@code{byte} directive, TIC54X
@@cindex @@code{ubyte} directive, TIC54X
@@cindex @@code{char} directive, TIC54X
@@cindex @@code{uchar} directive, TIC54X
@@item .byte @@var{value} [,...,@@var{value_n}]
@@itemx .ubyte @@var{value} [,...,@@var{value_n}]
@@itemx .char @@var{value} [,...,@@var{value_n}]
@@itemx .uchar @@var{value} [,...,@@var{value_n}]
Place one or more bytes into consecutive words of the current section.
The upper 8 bits of each word is zero-filled.  If a label is used, it
points to the word allocated for the first byte encountered.

@@cindex @@code{clink} directive, TIC54X
@@item .clink ["@@var{section_name}"]
Set STYP_CLINK flag for this section, which indicates to the linker that
if no symbols from this section are referenced, the section should not
be included in the link.  If @@var{section_name} is omitted, the current
section is used.

@@cindex @@code{c_mode} directive, TIC54X
@@item .c_mode
TBD.

@@cindex @@code{copy} directive, TIC54X
@@item .copy "@@var{filename}" | @@var{filename}
@@itemx .include "@@var{filename}" | @@var{filename}
Read source statements from @@var{filename}.  The normal include search
path is used.  Normally .copy will cause statements from the included
file to be printed in the assembly listing and .include will not, but
this distinction is not currently implemented.

@@cindex @@code{data} directive, TIC54X
@@item .data
Begin assembling code into the .data section.

@@cindex @@code{double} directive, TIC54X
@@cindex @@code{ldouble} directive, TIC54X
@@cindex @@code{float} directive, TIC54X
@@cindex @@code{xfloat} directive, TIC54X
@@item .double @@var{value} [,...,@@var{value_n}]
@@itemx .ldouble @@var{value} [,...,@@var{value_n}]
@@itemx .float @@var{value} [,...,@@var{value_n}]
@@itemx .xfloat @@var{value} [,...,@@var{value_n}]
Place an IEEE single-precision floating-point representation of one or
more floating-point values into the current section.  All but
@@code{.xfloat} align the result on a longword boundary.  Values are
stored most-significant word first. 

@@cindex @@code{drlist} directive, TIC54X
@@cindex @@code{drnolist} directive, TIC54X
@@item .drlist
@@itemx .drnolist
Control printing of directives to the listing file.  Ignored.

@@cindex @@code{emsg} directive, TIC54X
@@cindex @@code{mmsg} directive, TIC54X
@@cindex @@code{wmsg} directive, TIC54X
@@item .emsg @@var{string}
@@itemx .mmsg @@var{string}
@@itemx .wmsg @@var{string}
Emit a user-defined error, message, or warning, respectively.

@@cindex @@code{far_mode} directive, TIC54X
@@item .far_mode
Use extended addressing when assembling statements.  This should appear
only once per file, and is equivalent to the -mfar-mode option @@pxref{TIC54X-Opts,,@@code{-mfar-mode}}.

@@cindex @@code{fclist} directive, TIC54X
@@cindex @@code{fcnolist} directive, TIC54X
@@item .fclist
@@itemx .fcnolist
Control printing of false conditional blocks to the listing file.

@@cindex @@code{field} directive, TIC54X
@@item .field @@var{value} [,@@var{size}]
Initialize a bitfield of @@var{size} bits in the current section.  If
@@var{value} is relocatable, then @@var{size} must be 16.  @@var{size}
defaults to 16 bits.  If @@var{value} does not fit into @@var{size} bits,
the value will be truncated.  Successive @@code{.field} directives will
pack starting at the current word, filling the most significant bits
first, and aligning to the start of the next word if the field size does
not fit into the space remaining in the current word.  A @@code{.align}
directive with an operand of 1 will force the next @@code{.field}
directive to begin packing into a new word.  If a label is used, it
points to the word that contains the specified field.

@@cindex @@code{global} directive, TIC54X
@@cindex @@code{def} directive, TIC54X
@@cindex @@code{ref} directive, TIC54X
@@item .global @@var{symbol} [,...,@@var{symbol_n}]
@@itemx .def @@var{symbol} [,...,@@var{symbol_n}]
@@itemx .ref @@var{symbol} [,...,@@var{symbol_n}]
@@code{.def} nominally identifies a symbol defined in the current file
and availalbe to other files.  @@code{.ref} identifies a symbol used in
the current file but defined elsewhere.  Both map to the standard
@@code{.global} directive.

@@cindex @@code{half} directive, TIC54X
@@cindex @@code{uhalf} directive, TIC54X
@@cindex @@code{short} directive, TIC54X
@@cindex @@code{ushort} directive, TIC54X
@@cindex @@code{int} directive, TIC54X
@@cindex @@code{uint} directive, TIC54X
@@cindex @@code{word} directive, TIC54X
@@cindex @@code{uword} directive, TIC54X
@@item .half @@var{value} [,...,@@var{value_n}]
@@itemx .uhalf @@var{value} [,...,@@var{value_n}]
@@itemx .short @@var{value} [,...,@@var{value_n}]
@@itemx .ushort @@var{value} [,...,@@var{value_n}]
@@itemx .int @@var{value} [,...,@@var{value_n}]
@@itemx .uint @@var{value} [,...,@@var{value_n}]
@@itemx .word @@var{value} [,...,@@var{value_n}]
@@itemx .uword @@var{value} [,...,@@var{value_n}]
Place one or more values into consecutive words of the current section.
If a label is used, it points to the word allocated for the first value
encountered. 

@@cindex @@code{label} directive, TIC54X
@@item .label @@var{symbol}
Define a special @@var{symbol} to refer to the load time address of the
current section program counter.

@@cindex @@code{length} directive, TIC54X
@@cindex @@code{width} directive, TIC54X
@@item .length
@@itemx .width
Set the page length and width of the output listing file.  Ignored.

@@cindex @@code{list} directive, TIC54X
@@cindex @@code{nolist} directive, TIC54X
@@item .list
@@itemx .nolist
Control whether the source listing is printed.  Ignored.

@@cindex @@code{long} directive, TIC54X
@@cindex @@code{ulong} directive, TIC54X
@@cindex @@code{xlong} directive, TIC54X
@@item .long @@var{value} [,...,@@var{value_n}]
@@itemx .ulong @@var{value} [,...,@@var{value_n}]
@@itemx .xlong @@var{value} [,...,@@var{value_n}]
Place one or more 32-bit values into consecutive words in the current
section.  The most significant word is stored first.  @@code{.long} and
@@code{.ulong} align the result on a longword boundary; @@code{xlong} does
not. 

@@cindex @@code{loop} directive, TIC54X
@@cindex @@code{break} directive, TIC54X
@@cindex @@code{endloop} directive, TIC54X
@@item .loop [@@var{count}]
@@itemx .break [@@var{condition}]
@@itemx .endloop
Repeatedly assemble a block of code.  @@code{.loop} begins the block, and
@@code{.endloop} marks its termination.  @@var{count} defaults to 1024,
and indicates the number of times the block should be repeated.
@@code{.break} terminates the loop so that assembly begins after the
@@code{.endloop} directive.  The optional @@var{condition} will cause the
loop to terminate only if it evaluates to zero.

@@cindex @@code{macro} directive, TIC54X
@@cindex @@code{endm} directive, TIC54X
@@item @@var{macro_name} .macro [@@var{param1}][,...@@var{param_n}]
@@itemx [.mexit]
@@itemx .endm
See the section on macros for more explanation (@@xref{TIC54X-Macros}.

@@cindex @@code{mlib} directive, TIC54X
@@item .mlib "@@var{filename}" | @@var{filename}
Load the macro library @@var{filename}.  @@var{filename} must be an
archived library (BFD ar-compatible) of text files, expected to contain
only macro definitions.   The standard include search path is used.

@@cindex @@code{mlist} directive, TIC54X
@@cindex @@code{mnolist} directive, TIC54X
@@item .mlist
@@item .mnolist
Control whether to include macro and loop block expansions in the
listing output.  Ignored.

@@cindex @@code{mmregs} directive, TIC54X
@@item .mmregs
Define global symbolic names for the 'c54x registers.  Supposedly
equivalent to executing @@code{.set} directives for each register with
its memory-mapped value, but in reality is provided only for
compatibility and does nothing.

@@cindex @@code{newblock} directive, TIC54X
@@item .newblock
This directive resets any TIC54X local labels currently defined.  Normal
@@code{@@value{AS}} local labels are unaffected.

@@cindex @@code{option} directive, TIC54X
@@item .option @@var{option_list}
Set listing options.  Ignored.

@@cindex @@code{sblock} directive, TIC54X
@@item .sblock "@@var{section_name}" | @@var{section_name} [,"@@var{name_n}" | @@var{name_n}]
Designate @@var{section_name} for blocking.  Blocking guarantees that a
section will start on a page boundary (128 words) if it would otherwise
cross a page boundary.  Only initialized sections may be designated with
this directive.  See also @@xref{TIC54X-Block}.

@@cindex @@code{sect} directive, TIC54X
@@item .sect "@@var{section_name}"
Define a named initialized section and make it the current section.

@@cindex @@code{set} directive, TIC54X
@@cindex @@code{equ} directive, TIC54X
@@item @@var{symbol} .set "@@var{value}"
@@itemx @@var{symbol} .equ "@@var{value}"
Equate a constant @@var{value} to a @@var{symbol}, which is placed in the
symbol table.  @@var{symbol} may not be previously defined.  

@@cindex @@code{space} directive, TIC54X
@@cindex @@code{bes} directive, TIC54X
@@item .space @@var{size_in_bits}
@@itemx .bes @@var{size_in_bits}
Reserve the given number of bits in the current section and zero-fill
them.  If a label is used with @@code{.space}, it points to the
@@strong{first} word reserved.  With @@code{.bes}, the label points to the
@@strong{last} word reserved.

@@cindex @@code{sslist} directive, TIC54X
@@cindex @@code{ssnolist} directive, TIC54X
@@item .sslist
@@itemx .ssnolist
Controls the inclusion of subsym replacement in the listing output.  Ignored.

@@cindex @@code{string} directive, TIC54X
@@cindex @@code{pstring} directive, TIC54X
@@item .string "@@var{string}" [,...,"@@var{string_n}"]
@@itemx .pstring "@@var{string}" [,...,"@@var{string_n}"]
Place 8-bit characters from @@var{string} into the current section.
@@code{.string} zero-fills the upper 8 bits of each word, while
@@code{.pstring} puts two characters into each word, filling the
most-significant bits first.  Unused space is zero-filled.  If a label
is used, it points to the first word initialized.

@@cindex @@code{struct} directive, TIC54X
@@cindex @@code{tag} directive, TIC54X
@@cindex @@code{endstruct} directive, TIC54X
@@item [@@var{stag}] .struct [@@var{offset}]
@@itemx [@@var{name_1}] element [@@var{count_1}]
@@itemx [@@var{name_2}] element [@@var{count_2}]
@@itemx [@@var{tname}] .tag @@var{stagx} [@@var{tcount}]
@@itemx ...
@@itemx [@@var{name_n}] element [@@var{count_n}]
@@itemx [@@var{ssize}] .endstruct
@@itemx @@var{label} .tag [@@var{stag}]
Assign symbolic offsets to the elements of a structure.  @@var{stag}
defines a symbol to use to reference the structure.  @@var{offset}
indicates a starting value to use for the first element encountered;
otherwise it defaults to zero.  Each element can have a named offset,
@@var{name}, which is a symbol assigned the value of the element's offset
into the structure.  If @@var{stag} is missing, these become global
symbols.  @@var{count} adjusts the offset that many times, as if
@@code{element} were an array.  @@code{element} may be one of
@@code{.byte}, @@code{.word}, @@code{.long}, @@code{.float}, or any
equivalent of those, and the structure offset is adjusted accordingly.
@@code{.field} and @@code{.string} are also allowed; the size of
@@code{.field} is one bit, and @@code{.string} is considered to be one
word in size.  Only element descriptors, structure/union tags,
@@code{.align} and conditional assembly directives are allowed within
@@code{.struct}/@@code{.endstruct}.  @@code{.align} aligns member offsets
to word boundaries only.  @@var{ssize}, if provided, will always be
assigned the size of the structure.

The @@code{.tag} directive, in addition to being used to define a
structure/union element within a structure, may be used to apply a
structure to a symbol.  Once applied to @@var{label}, the individual
structure elements may be applied to @@var{label} to produce the desired
offsets using @@var{label} as the structure base. 

@@cindex @@code{tab} directive, TIC54X
@@item .tab
Set the tab size in the output listing.  Ignored.

@@cindex @@code{union} directive, TIC54X
@@cindex @@code{tag} directive, TIC54X
@@cindex @@code{endunion} directive, TIC54X
@@item [@@var{utag}] .union 
@@itemx [@@var{name_1}] element [@@var{count_1}]
@@itemx [@@var{name_2}] element [@@var{count_2}]
@@itemx [@@var{tname}] .tag @@var{utagx}[,@@var{tcount}]
@@itemx ...
@@itemx [@@var{name_n}] element [@@var{count_n}]
@@itemx [@@var{usize}] .endstruct
@@itemx @@var{label} .tag [@@var{utag}]
Similar to @@code{.struct}, but the offset after each element is reset to
zero, and the @@var{usize} is set to the maximum of all defined elements.
Starting offset for the union is always zero.

@@cindex @@code{usect} directive, TIC54X
@@item [@@var{symbol}] .usect "@@var{section_name}", @@var{size}, [,[@@var{blocking_flag}] [,@@var{alignment_flag}]]
Reserve space for variables in a named, uninitialized section (similar to
.bss).  @@code{.usect} allows definitions sections independent of .bss.
@@var{symbol} points to the first location reserved by this allocation.
The symbol may be used as a variable name.  @@var{size} is the allocated
size in words.  @@var{blocking_flag} indicates whether to block this
section on a page boundary (128 words) (@@pxref{TIC54X-Block}).
@@var{alignment flag} indicates whether the section should be
longword-aligned.  

@@cindex @@code{var} directive, TIC54X
@@item .var @@var{sym}[,..., @@var{sym_n}]
Define a subsym to be a local variable within a macro.  See
@@xref{TIC54X-Macros}. 

@@cindex @@code{version} directive, TIC54X
@@item .version @@var{version}
Set which processor to build instructions for.  Though the following
values are accepted, the op is ignored.
@@table @@code
@@item 541
@@itemx 542
@@itemx 543
@@itemx 545
@@itemx 545LP
@@itemx 546LP
@@itemx 548
@@itemx 549
@@end table
@@end table

@@node TIC54X-Macros
@@section Macros

@@cindex TIC54X-specific macros
@@cindex macros, TIC54X
Macros do not require explicit dereferencing of arguments (i.e. \ARG).  

During macro expansion, the macro parameters are converted to subsyms.
If the number of arguments passed the macro invocation exceeds the
number of parameters defined, the last parameter is assigned the string
equivalent of all remaining arguments.  If fewer arguments are given
than parameters, the missing parameters are assigned empty strings.  To
include a comma in an argument, you must enclose the argument in quotes.

@@cindex subsym builtins, TIC54X
@@cindex TIC54X subsym builtins
@@cindex builtin subsym functions, TIC54X
The following built-in subsym functions allow examination of the string
value of subsyms (or ordinary strings).  The arguments are strings
unless otherwise indicated (subsyms passed as args will be replaced by
the strings they represent).
@@table @@code
@@cindex @@code{$symlen} subsym builtin, TIC54X
@@item @@code{$symlen(@@var{str})}
Returns the length of @@var{str}.

@@cindex @@code{$symcmp} subsym builtin, TIC54X
@@item @@code{$symcmp(@@var{str1},@@var{str2})}
Returns 0 if @@var{str1} == @@var{str2}, non-zero otherwise.  

@@cindex @@code{$firstch} subsym builtin, TIC54X
@@item @@code{$firstch(@@var{str},@@var{ch})}
Returns index of the first occurrence of character constant @@var{ch} in
@@var{str}. 

@@cindex @@code{$lastch} subsym builtin, TIC54X
@@item @@code{$lastch(@@var{str},@@var{ch})}
Returns index of the last occurrence of character constant @@var{ch} in
@@var{str}. 

@@cindex @@code{$isdefed} subsym builtin, TIC54X
@@item @@code{$isdefed(@@var{symbol})}
Returns zero if the symbol @@var{symbol} is not in the symbol table,
non-zero otherwise.

@@cindex @@code{$ismember} subsym builtin, TIC54X
@@item @@code{$ismember(@@var{symbol},@@var{list})}
Assign the first member of comma-separated string @@var{list} to
@@var{symbol}; @@var{list} is reassigned the remainder of the list.  Returns
zero if @@var{list} is a null string.  Both arguments must be subsyms.

@@cindex @@code{$iscons} subsym builtin, TIC54X
@@item @@code{$iscons(@@var{expr})}
Returns 1 if string @@var{expr} is binary, 2 if octal, 3 if hexadecimal,
4 if a character, 5 if decimal, and zero if not an integer.

@@cindex @@code{$isname} subsym builtin, TIC54X
@@item @@code{$isname(@@var{name})}
Returns 1 if @@var{name} is a valid symbol name, zero otherwise.

@@cindex @@code{$isreg} subsym builtin, TIC54X
@@item @@code{$isreg(@@var{reg})}
Returns 1 if @@var{reg} is a valid predefined register name (AR0-AR7 only).

@@cindex @@code{$structsz} subsym builtin, TIC54X
@@item @@code{$structsz(@@var{stag})}
Returns the size of the structure or union represented by @@var{stag}.

@@cindex @@code{$structacc} subsym builtin, TIC54X
@@item @@code{$structacc(@@var{stag})}
Returns the reference point of the structure or union represented by
@@var{stag}.   Always returns zero.

@@end table

@@node TIC54X-MMRegs
@@section Memory-mapped Registers

@@cindex TIC54X memory-mapped registers
@@cindex registers, TIC54X memory-mapped
@@cindex memory-mapped registers, TIC54X
The following symbols are recognized as memory-mapped registers:

@@table @@code
@@end table
@


1.2
log
@looks as if some sour wine (Federweiﬂer <german>, for an English
description see http://forum.leo.org/archiv/2002_11/04/20021104125717e_en.html)
could help me to bear the pain upgrading binutils to 2.14

todo:
 - test if this works at all
 - test if this works
 - test if nothing breaks
 - nuke all occurences of "false" and "true" in binutils (including gdb),
   see bfd.h "Poison" for reference
 - talk to the OpenBSD people, ask them if they could improve this
@
text
@@


1.1
log
@Initial revision
@
text
@d7 2
a8 2
@@node C54X-Dependent
@@chapter C54X Dependent Features
d12 1
a12 1
@@chapter C54X Dependent Features
d15 1
a15 1
@@cindex C54X support
d17 11
a27 11
* C54X-Opts::              Command-line Options
* C54X-Block::             Blocking
* C54X-Env::               Environment Settings
* C54X-Constants::         Constants Syntax
* C54X-Subsyms::           String Substitution
* C54X-Locals::            Local Label Syntax
* C54X-Builtins::          Builtin Assembler Math Functions
* C54X-Ext::               Extended Addressing Support
* C54X-Directives::        Directives
* C54X-Macros::            Macro Features
* C54X-MMRegs::            Memory-mapped Registers
d30 1
a30 1
@@node C54X-Opts
d33 3
a35 3
@@cindex options, C54X
@@cindex C54X options
The 'c54x version of @@code{@@value{AS}} has a few machine-dependent options.
d50 1
a50 1
@@xref{C54X-Directives,,@@code{.version}}.  The default CPU version is
d60 1
a60 1
@@node C54X-Block
d67 1
a67 1
@@node C54X-Env
d70 3
a72 3
@@cindex environment settings, C54X
@@cindex @@samp{A_DIR} environment variable, C54X
@@cindex @@samp{C54XDSP_DIR} environment variable, C54X
d77 1
a77 1
@@node C54X-Constants
d80 2
a81 2
@@cindex constants, C54X
The C54X version of @@code{@@value{AS}} allows the following additional
d84 1
a84 1
@@cindex binary constants, C54X
d92 1
a92 1
@@node C54X-Subsyms
d101 2
a102 2
(@@xref{C54X-Directives,,@@code{.asg}},
@@xref{C54X-Directives,,@@code{.eval}}. 
d122 1
a122 1
@@pxref{C54X-Directives,,@@code{.var}}.
d150 1
a150 1
@@node C54X-Locals
d167 1
a167 1
.newblock directive @@pxref{C54X-Directives,,@@code{.newblock}}
d176 1
a176 1
@@node C54X-Builtins
d179 3
a181 3
@@cindex math builtins, C54X
@@cindex C54X builtin math functions
@@cindex builtin math functions, C54X
d189 1
a189 1
@@cindex @@code{$acos} math builtin, C54X
d193 1
a193 1
@@cindex @@code{$asin} math builtin, C54X
d197 1
a197 1
@@cindex @@code{$atan} math builtin, C54X
d201 1
a201 1
@@cindex @@code{$atan2} math builtin, C54X
d205 1
a205 1
@@cindex @@code{$ceil} math builtin, C54X
d209 1
a209 1
@@cindex @@code{$cosh} math builtin, C54X
d213 1
a213 1
@@cindex @@code{$cos} math builtin, C54X
d217 1
a217 1
@@cindex @@code{$cvf} math builtin, C54X
d221 1
a221 1
@@cindex @@code{$cvi} math builtin, C54X
d225 1
a225 1
@@cindex @@code{$exp} math builtin, C54X
d229 1
a229 1
@@cindex @@code{$fabs} math builtin, C54X
d233 1
a233 1
@@cindex @@code{$floor} math builtin, C54X
d238 1
a238 1
@@cindex @@code{$fmod} math builtin, C54X
d242 1
a242 1
@@cindex @@code{$int} math builtin, C54X
d246 1
a246 1
@@cindex @@code{$ldexp} math builtin, C54X
d250 1
a250 1
@@cindex @@code{$log10} math builtin, C54X
d254 1
a254 1
@@cindex @@code{$log} math builtin, C54X
d258 1
a258 1
@@cindex @@code{$max} math builtin, C54X
d262 1
a262 1
@@cindex @@code{$min} math builtin, C54X
d266 1
a266 1
@@cindex @@code{$pow} math builtin, C54X
d270 1
a270 1
@@cindex @@code{$round} math builtin, C54X
d274 1
a274 1
@@cindex @@code{$sgn} math builtin, C54X
d278 1
a278 1
@@cindex @@code{$sin} math builtin, C54X
d282 1
a282 1
@@cindex @@code{$sinh} math builtin, C54X
d286 1
a286 1
@@cindex @@code{$sqrt} math builtin, C54X
d290 1
a290 1
@@cindex @@code{$tan} math builtin, C54X
d294 1
a294 1
@@cindex @@code{$tanh} math builtin, C54X
d298 1
a298 1
@@cindex @@code{$trunc} math builtin, C54X
d305 1
a305 1
@@node C54X-Ext
d317 1
a317 1
@@node C54X-Directives
d320 2
a321 2
@@cindex machine directives, C54X
@@cindex C54X machine directives
d325 2
a326 2
@@cindex @@code{align} directive, C54X
@@cindex @@code{even} directive, C54X
d341 1
a341 1
@@cindex @@code{asg} directive, C54X
d346 1
a346 1
@@cindex @@code{eval} directive, C54X
d352 1
a352 1
@@cindex @@code{bss} directive, C54X
d360 4
a363 4
@@cindex @@code{byte} directive, C54X
@@cindex @@code{ubyte} directive, C54X
@@cindex @@code{char} directive, C54X
@@cindex @@code{uchar} directive, C54X
d372 1
a372 1
@@cindex @@code{clink} directive, C54X
d379 1
a379 1
@@cindex @@code{c_mode} directive, C54X
d383 1
a383 1
@@cindex @@code{copy} directive, C54X
d391 1
a391 1
@@cindex @@code{data} directive, C54X
d395 4
a398 4
@@cindex @@code{double} directive, C54X
@@cindex @@code{ldouble} directive, C54X
@@cindex @@code{float} directive, C54X
@@cindex @@code{xfloat} directive, C54X
d408 2
a409 2
@@cindex @@code{drlist} directive, C54X
@@cindex @@code{drnolist} directive, C54X
d414 3
a416 3
@@cindex @@code{emsg} directive, C54X
@@cindex @@code{mmsg} directive, C54X
@@cindex @@code{wmsg} directive, C54X
d422 1
a422 1
@@cindex @@code{far_mode} directive, C54X
d425 1
a425 1
only once per file, and is equivalent to the -mfar-mode option @@pxref{C54X-Opts,,@@code{-mfar-mode}}.
d427 2
a428 2
@@cindex @@code{fclist} directive, C54X
@@cindex @@code{fcnolist} directive, C54X
d433 1
a433 1
@@cindex @@code{field} directive, C54X
d446 3
a448 3
@@cindex @@code{global} directive, C54X
@@cindex @@code{def} directive, C54X
@@cindex @@code{ref} directive, C54X
d457 8
a464 8
@@cindex @@code{half} directive, C54X
@@cindex @@code{uhalf} directive, C54X
@@cindex @@code{short} directive, C54X
@@cindex @@code{ushort} directive, C54X
@@cindex @@code{int} directive, C54X
@@cindex @@code{uint} directive, C54X
@@cindex @@code{word} directive, C54X
@@cindex @@code{uword} directive, C54X
d477 1
a477 1
@@cindex @@code{label} directive, C54X
d482 2
a483 2
@@cindex @@code{length} directive, C54X
@@cindex @@code{width} directive, C54X
d488 2
a489 2
@@cindex @@code{list} directive, C54X
@@cindex @@code{nolist} directive, C54X
d494 3
a496 3
@@cindex @@code{long} directive, C54X
@@cindex @@code{ulong} directive, C54X
@@cindex @@code{xlong} directive, C54X
d505 3
a507 3
@@cindex @@code{loop} directive, C54X
@@cindex @@code{break} directive, C54X
@@cindex @@code{endloop} directive, C54X
d518 2
a519 2
@@cindex @@code{macro} directive, C54X
@@cindex @@code{endm} directive, C54X
d523 1
a523 1
See the section on macros for more explanation (@@xref{C54X-Macros}.
d525 1
a525 1
@@cindex @@code{mlib} directive, C54X
d531 2
a532 2
@@cindex @@code{mlist} directive, C54X
@@cindex @@code{mnolist} directive, C54X
d538 1
a538 1
@@cindex @@code{mmregs} directive, C54X
d545 1
a545 1
@@cindex @@code{newblock} directive, C54X
d547 1
a547 1
This directive resets any C54X local labels currently defined.  Normal
d550 1
a550 1
@@cindex @@code{option} directive, C54X
d554 1
a554 1
@@cindex @@code{sblock} directive, C54X
d559 1
a559 1
this directive.  See also @@xref{C54X-Block}.
d561 1
a561 1
@@cindex @@code{sect} directive, C54X
d565 2
a566 2
@@cindex @@code{set} directive, C54X
@@cindex @@code{equ} directive, C54X
d572 2
a573 2
@@cindex @@code{space} directive, C54X
@@cindex @@code{bes} directive, C54X
d581 2
a582 2
@@cindex @@code{sslist} directive, C54X
@@cindex @@code{ssnolist} directive, C54X
d587 2
a588 2
@@cindex @@code{string} directive, C54X
@@cindex @@code{pstring} directive, C54X
d597 3
a599 3
@@cindex @@code{struct} directive, C54X
@@cindex @@code{tag} directive, C54X
@@cindex @@code{endstruct} directive, C54X
d621 1
a621 1
@@code{.align} and conditioanl assembly directies are allowed within
d632 1
a632 1
@@cindex @@code{tab} directive, C54X
d636 3
a638 3
@@cindex @@code{union} directive, C54X
@@cindex @@code{tag} directive, C54X
@@cindex @@code{endunion} directive, C54X
d651 1
a651 1
@@cindex @@code{usect} directive, C54X
d653 1
a653 1
Reserve space for variables in a named, uninitialzed section (similar to
d658 1
a658 1
section on a page boundary (128 words) (@@pxref{C54X-Block}).
d662 1
a662 1
@@cindex @@code{var} directive, C54X
d665 1
a665 1
@@xref{C54X-Macros}. 
d667 1
a667 1
@@cindex @@code{version} directive, C54X
d683 1
a683 1
@@node C54X-Macros
d686 2
a687 2
@@cindex C54X-specific macros
@@cindex macros, C54X
d695 1
a695 1
include a comma in an argument, you must enclose the agument in quotes.
d697 3
a699 3
@@cindex subsym builtins, C54X
@@cindex C54X subsym builtins
@@cindex builtin subsym functions, C54X
d705 1
a705 1
@@cindex @@code{$symlen} subsym builtin, C54X
d709 1
a709 1
@@cindex @@code{$symcmp} subsym builtin, C54X
d713 1
a713 1
@@cindex @@code{$firstch} subsym builtin, C54X
d718 1
a718 1
@@cindex @@code{$lastch} subsym builtin, C54X
d723 1
a723 1
@@cindex @@code{$isdefed} subsym builtin, C54X
d728 1
a728 1
@@cindex @@code{$ismember} subsym builtin, C54X
d734 1
a734 1
@@cindex @@code{$iscons} subsym builtin, C54X
d739 1
a739 1
@@cindex @@code{$isname} subsym builtin, C54X
d743 1
a743 1
@@cindex @@code{$isreg} subsym builtin, C54X
d747 1
a747 1
@@cindex @@code{$structsz} subsym builtin, C54X
d751 1
a751 1
@@cindex @@code{$structacc} subsym builtin, C54X
d758 1
a758 1
@@node C54X-MMRegs
d761 3
a763 3
@@cindex C54X memory-mapped registers
@@cindex registers, C54X memory-mapped
@@cindex memory-mapped registers, C54X
d767 1
a767 1
@@end table@


1.1.2.1
log
@vendor-branch-i-fy GNU binutils (2.11.2) to facilitate an update
@
text
@@


1.1.2.2
log
@Import GNU binutils 2.14 from the Free Software Foundation
(in case the update goes FUBAR, it can be easily backed off)
@
text
@d7 2
a8 2
@@node TIC54X-Dependent
@@chapter TIC54X Dependent Features
d12 1
a12 1
@@chapter TIC54X Dependent Features
d15 1
a15 1
@@cindex TIC54X support
d17 11
a27 11
* TIC54X-Opts::              Command-line Options
* TIC54X-Block::             Blocking
* TIC54X-Env::               Environment Settings
* TIC54X-Constants::         Constants Syntax
* TIC54X-Subsyms::           String Substitution
* TIC54X-Locals::            Local Label Syntax
* TIC54X-Builtins::          Builtin Assembler Math Functions
* TIC54X-Ext::               Extended Addressing Support
* TIC54X-Directives::        Directives
* TIC54X-Macros::            Macro Features
* TIC54X-MMRegs::            Memory-mapped Registers
d30 1
a30 1
@@node TIC54X-Opts
d33 3
a35 3
@@cindex options, TIC54X
@@cindex TIC54X options
The TMS320C54x version of @@code{@@value{AS}} has a few machine-dependent options.
d50 1
a50 1
@@xref{TIC54X-Directives,,@@code{.version}}.  The default CPU version is
d60 1
a60 1
@@node TIC54X-Block
d67 1
a67 1
@@node TIC54X-Env
d70 3
a72 3
@@cindex environment settings, TIC54X
@@cindex @@samp{A_DIR} environment variable, TIC54X
@@cindex @@samp{C54XDSP_DIR} environment variable, TIC54X
d77 1
a77 1
@@node TIC54X-Constants
d80 2
a81 2
@@cindex constants, TIC54X
The TIC54X version of @@code{@@value{AS}} allows the following additional
d84 1
a84 1
@@cindex binary constants, TIC54X
d92 1
a92 1
@@node TIC54X-Subsyms
d101 2
a102 2
(@@xref{TIC54X-Directives,,@@code{.asg}},
@@xref{TIC54X-Directives,,@@code{.eval}}. 
d122 1
a122 1
@@pxref{TIC54X-Directives,,@@code{.var}}.
d150 1
a150 1
@@node TIC54X-Locals
d167 1
a167 1
.newblock directive @@pxref{TIC54X-Directives,,@@code{.newblock}}
d176 1
a176 1
@@node TIC54X-Builtins
d179 3
a181 3
@@cindex math builtins, TIC54X
@@cindex TIC54X builtin math functions
@@cindex builtin math functions, TIC54X
d189 1
a189 1
@@cindex @@code{$acos} math builtin, TIC54X
d193 1
a193 1
@@cindex @@code{$asin} math builtin, TIC54X
d197 1
a197 1
@@cindex @@code{$atan} math builtin, TIC54X
d201 1
a201 1
@@cindex @@code{$atan2} math builtin, TIC54X
d205 1
a205 1
@@cindex @@code{$ceil} math builtin, TIC54X
d209 1
a209 1
@@cindex @@code{$cosh} math builtin, TIC54X
d213 1
a213 1
@@cindex @@code{$cos} math builtin, TIC54X
d217 1
a217 1
@@cindex @@code{$cvf} math builtin, TIC54X
d221 1
a221 1
@@cindex @@code{$cvi} math builtin, TIC54X
d225 1
a225 1
@@cindex @@code{$exp} math builtin, TIC54X
d229 1
a229 1
@@cindex @@code{$fabs} math builtin, TIC54X
d233 1
a233 1
@@cindex @@code{$floor} math builtin, TIC54X
d238 1
a238 1
@@cindex @@code{$fmod} math builtin, TIC54X
d242 1
a242 1
@@cindex @@code{$int} math builtin, TIC54X
d246 1
a246 1
@@cindex @@code{$ldexp} math builtin, TIC54X
d250 1
a250 1
@@cindex @@code{$log10} math builtin, TIC54X
d254 1
a254 1
@@cindex @@code{$log} math builtin, TIC54X
d258 1
a258 1
@@cindex @@code{$max} math builtin, TIC54X
d262 1
a262 1
@@cindex @@code{$min} math builtin, TIC54X
d266 1
a266 1
@@cindex @@code{$pow} math builtin, TIC54X
d270 1
a270 1
@@cindex @@code{$round} math builtin, TIC54X
d274 1
a274 1
@@cindex @@code{$sgn} math builtin, TIC54X
d278 1
a278 1
@@cindex @@code{$sin} math builtin, TIC54X
d282 1
a282 1
@@cindex @@code{$sinh} math builtin, TIC54X
d286 1
a286 1
@@cindex @@code{$sqrt} math builtin, TIC54X
d290 1
a290 1
@@cindex @@code{$tan} math builtin, TIC54X
d294 1
a294 1
@@cindex @@code{$tanh} math builtin, TIC54X
d298 1
a298 1
@@cindex @@code{$trunc} math builtin, TIC54X
d305 1
a305 1
@@node TIC54X-Ext
d317 1
a317 1
@@node TIC54X-Directives
d320 2
a321 2
@@cindex machine directives, TIC54X
@@cindex TIC54X machine directives
d325 2
a326 2
@@cindex @@code{align} directive, TIC54X
@@cindex @@code{even} directive, TIC54X
d341 1
a341 1
@@cindex @@code{asg} directive, TIC54X
d346 1
a346 1
@@cindex @@code{eval} directive, TIC54X
d352 1
a352 1
@@cindex @@code{bss} directive, TIC54X
d360 4
a363 4
@@cindex @@code{byte} directive, TIC54X
@@cindex @@code{ubyte} directive, TIC54X
@@cindex @@code{char} directive, TIC54X
@@cindex @@code{uchar} directive, TIC54X
d372 1
a372 1
@@cindex @@code{clink} directive, TIC54X
d379 1
a379 1
@@cindex @@code{c_mode} directive, TIC54X
d383 1
a383 1
@@cindex @@code{copy} directive, TIC54X
d391 1
a391 1
@@cindex @@code{data} directive, TIC54X
d395 4
a398 4
@@cindex @@code{double} directive, TIC54X
@@cindex @@code{ldouble} directive, TIC54X
@@cindex @@code{float} directive, TIC54X
@@cindex @@code{xfloat} directive, TIC54X
d408 2
a409 2
@@cindex @@code{drlist} directive, TIC54X
@@cindex @@code{drnolist} directive, TIC54X
d414 3
a416 3
@@cindex @@code{emsg} directive, TIC54X
@@cindex @@code{mmsg} directive, TIC54X
@@cindex @@code{wmsg} directive, TIC54X
d422 1
a422 1
@@cindex @@code{far_mode} directive, TIC54X
d425 1
a425 1
only once per file, and is equivalent to the -mfar-mode option @@pxref{TIC54X-Opts,,@@code{-mfar-mode}}.
d427 2
a428 2
@@cindex @@code{fclist} directive, TIC54X
@@cindex @@code{fcnolist} directive, TIC54X
d433 1
a433 1
@@cindex @@code{field} directive, TIC54X
d446 3
a448 3
@@cindex @@code{global} directive, TIC54X
@@cindex @@code{def} directive, TIC54X
@@cindex @@code{ref} directive, TIC54X
d457 8
a464 8
@@cindex @@code{half} directive, TIC54X
@@cindex @@code{uhalf} directive, TIC54X
@@cindex @@code{short} directive, TIC54X
@@cindex @@code{ushort} directive, TIC54X
@@cindex @@code{int} directive, TIC54X
@@cindex @@code{uint} directive, TIC54X
@@cindex @@code{word} directive, TIC54X
@@cindex @@code{uword} directive, TIC54X
d477 1
a477 1
@@cindex @@code{label} directive, TIC54X
d482 2
a483 2
@@cindex @@code{length} directive, TIC54X
@@cindex @@code{width} directive, TIC54X
d488 2
a489 2
@@cindex @@code{list} directive, TIC54X
@@cindex @@code{nolist} directive, TIC54X
d494 3
a496 3
@@cindex @@code{long} directive, TIC54X
@@cindex @@code{ulong} directive, TIC54X
@@cindex @@code{xlong} directive, TIC54X
d505 3
a507 3
@@cindex @@code{loop} directive, TIC54X
@@cindex @@code{break} directive, TIC54X
@@cindex @@code{endloop} directive, TIC54X
d518 2
a519 2
@@cindex @@code{macro} directive, TIC54X
@@cindex @@code{endm} directive, TIC54X
d523 1
a523 1
See the section on macros for more explanation (@@xref{TIC54X-Macros}.
d525 1
a525 1
@@cindex @@code{mlib} directive, TIC54X
d531 2
a532 2
@@cindex @@code{mlist} directive, TIC54X
@@cindex @@code{mnolist} directive, TIC54X
d538 1
a538 1
@@cindex @@code{mmregs} directive, TIC54X
d545 1
a545 1
@@cindex @@code{newblock} directive, TIC54X
d547 1
a547 1
This directive resets any TIC54X local labels currently defined.  Normal
d550 1
a550 1
@@cindex @@code{option} directive, TIC54X
d554 1
a554 1
@@cindex @@code{sblock} directive, TIC54X
d559 1
a559 1
this directive.  See also @@xref{TIC54X-Block}.
d561 1
a561 1
@@cindex @@code{sect} directive, TIC54X
d565 2
a566 2
@@cindex @@code{set} directive, TIC54X
@@cindex @@code{equ} directive, TIC54X
d572 2
a573 2
@@cindex @@code{space} directive, TIC54X
@@cindex @@code{bes} directive, TIC54X
d581 2
a582 2
@@cindex @@code{sslist} directive, TIC54X
@@cindex @@code{ssnolist} directive, TIC54X
d587 2
a588 2
@@cindex @@code{string} directive, TIC54X
@@cindex @@code{pstring} directive, TIC54X
d597 3
a599 3
@@cindex @@code{struct} directive, TIC54X
@@cindex @@code{tag} directive, TIC54X
@@cindex @@code{endstruct} directive, TIC54X
d621 1
a621 1
@@code{.align} and conditional assembly directives are allowed within
d632 1
a632 1
@@cindex @@code{tab} directive, TIC54X
d636 3
a638 3
@@cindex @@code{union} directive, TIC54X
@@cindex @@code{tag} directive, TIC54X
@@cindex @@code{endunion} directive, TIC54X
d651 1
a651 1
@@cindex @@code{usect} directive, TIC54X
d653 1
a653 1
Reserve space for variables in a named, uninitialized section (similar to
d658 1
a658 1
section on a page boundary (128 words) (@@pxref{TIC54X-Block}).
d662 1
a662 1
@@cindex @@code{var} directive, TIC54X
d665 1
a665 1
@@xref{TIC54X-Macros}. 
d667 1
a667 1
@@cindex @@code{version} directive, TIC54X
d683 1
a683 1
@@node TIC54X-Macros
d686 2
a687 2
@@cindex TIC54X-specific macros
@@cindex macros, TIC54X
d695 1
a695 1
include a comma in an argument, you must enclose the argument in quotes.
d697 3
a699 3
@@cindex subsym builtins, TIC54X
@@cindex TIC54X subsym builtins
@@cindex builtin subsym functions, TIC54X
d705 1
a705 1
@@cindex @@code{$symlen} subsym builtin, TIC54X
d709 1
a709 1
@@cindex @@code{$symcmp} subsym builtin, TIC54X
d713 1
a713 1
@@cindex @@code{$firstch} subsym builtin, TIC54X
d718 1
a718 1
@@cindex @@code{$lastch} subsym builtin, TIC54X
d723 1
a723 1
@@cindex @@code{$isdefed} subsym builtin, TIC54X
d728 1
a728 1
@@cindex @@code{$ismember} subsym builtin, TIC54X
d734 1
a734 1
@@cindex @@code{$iscons} subsym builtin, TIC54X
d739 1
a739 1
@@cindex @@code{$isname} subsym builtin, TIC54X
d743 1
a743 1
@@cindex @@code{$isreg} subsym builtin, TIC54X
d747 1
a747 1
@@cindex @@code{$structsz} subsym builtin, TIC54X
d751 1
a751 1
@@cindex @@code{$structacc} subsym builtin, TIC54X
d758 1
a758 1
@@node TIC54X-MMRegs
d761 3
a763 3
@@cindex TIC54X memory-mapped registers
@@cindex registers, TIC54X memory-mapped
@@cindex memory-mapped registers, TIC54X
d767 1
a767 1
@@end table
@


1.1.1.1
log
@Import OpenBSD 3.3 source repository from CTM 3132 the first time
This opens an OpenBSD-mirabile (aka MirBSD) repository.

### MirBSD is:
# Copyright (c) 1982-2003 by Thorsten "mirabile" Glaser <x86@@ePost.de>
# Copyright © 1968-2003  The authors of And contributors to UNIXÆ, the
#       C Language, BSD/Berkeley Unix; 386BSD, NetBSD 1.1 and OpenBSD.
#
# Anyone who obtained a copy of this work is hereby permitted to freely use,
# distribute, modify, merge, sublicence, give away or sell it as long as the
# authors are given due credit and the following notice is retained:
#
# This work is provided "as is", with no explicit or implicit warranty what-
# soever. Use it only at your own risk. In no event may an author or contri-
# butor be held liable for any damage, directly or indirectly, that origina-
# ted through or is caused by creation or modification of this work.

MirBSD is my private tree. MirBSD does not differ very much from OpenBSD
and intentionally tracks OpenBSD. That's why it _is_ OpenBSD, just not the
official one. It's like with DarrenBSD.

At time of this writing, no advertising for MirBSD must be done,
because the advertising clause has not yet been sorted out.

http://templeofhate.com/tglaser/MirBSD/index.php
@
text
@@


1.1.1.2
log
@Sync of src/gnu with OpenBSD (promised a long time ago)
@
text
@d7 2
a8 2
@@node TIC54X-Dependent
@@chapter TIC54X Dependent Features
d12 1
a12 1
@@chapter TIC54X Dependent Features
d15 1
a15 1
@@cindex TIC54X support
d17 11
a27 11
* TIC54X-Opts::              Command-line Options
* TIC54X-Block::             Blocking
* TIC54X-Env::               Environment Settings
* TIC54X-Constants::         Constants Syntax
* TIC54X-Subsyms::           String Substitution
* TIC54X-Locals::            Local Label Syntax
* TIC54X-Builtins::          Builtin Assembler Math Functions
* TIC54X-Ext::               Extended Addressing Support
* TIC54X-Directives::        Directives
* TIC54X-Macros::            Macro Features
* TIC54X-MMRegs::            Memory-mapped Registers
d30 1
a30 1
@@node TIC54X-Opts
d33 3
a35 3
@@cindex options, TIC54X
@@cindex TIC54X options
The TMS320C54x version of @@code{@@value{AS}} has a few machine-dependent options.
d50 1
a50 1
@@xref{TIC54X-Directives,,@@code{.version}}.  The default CPU version is
d60 1
a60 1
@@node TIC54X-Block
d67 1
a67 1
@@node TIC54X-Env
d70 3
a72 3
@@cindex environment settings, TIC54X
@@cindex @@samp{A_DIR} environment variable, TIC54X
@@cindex @@samp{C54XDSP_DIR} environment variable, TIC54X
d77 1
a77 1
@@node TIC54X-Constants
d80 2
a81 2
@@cindex constants, TIC54X
The TIC54X version of @@code{@@value{AS}} allows the following additional
d84 1
a84 1
@@cindex binary constants, TIC54X
d92 1
a92 1
@@node TIC54X-Subsyms
d101 2
a102 2
(@@xref{TIC54X-Directives,,@@code{.asg}},
@@xref{TIC54X-Directives,,@@code{.eval}}. 
d122 1
a122 1
@@pxref{TIC54X-Directives,,@@code{.var}}.
d150 1
a150 1
@@node TIC54X-Locals
d167 1
a167 1
.newblock directive @@pxref{TIC54X-Directives,,@@code{.newblock}}
d176 1
a176 1
@@node TIC54X-Builtins
d179 3
a181 3
@@cindex math builtins, TIC54X
@@cindex TIC54X builtin math functions
@@cindex builtin math functions, TIC54X
d189 1
a189 1
@@cindex @@code{$acos} math builtin, TIC54X
d193 1
a193 1
@@cindex @@code{$asin} math builtin, TIC54X
d197 1
a197 1
@@cindex @@code{$atan} math builtin, TIC54X
d201 1
a201 1
@@cindex @@code{$atan2} math builtin, TIC54X
d205 1
a205 1
@@cindex @@code{$ceil} math builtin, TIC54X
d209 1
a209 1
@@cindex @@code{$cosh} math builtin, TIC54X
d213 1
a213 1
@@cindex @@code{$cos} math builtin, TIC54X
d217 1
a217 1
@@cindex @@code{$cvf} math builtin, TIC54X
d221 1
a221 1
@@cindex @@code{$cvi} math builtin, TIC54X
d225 1
a225 1
@@cindex @@code{$exp} math builtin, TIC54X
d229 1
a229 1
@@cindex @@code{$fabs} math builtin, TIC54X
d233 1
a233 1
@@cindex @@code{$floor} math builtin, TIC54X
d238 1
a238 1
@@cindex @@code{$fmod} math builtin, TIC54X
d242 1
a242 1
@@cindex @@code{$int} math builtin, TIC54X
d246 1
a246 1
@@cindex @@code{$ldexp} math builtin, TIC54X
d250 1
a250 1
@@cindex @@code{$log10} math builtin, TIC54X
d254 1
a254 1
@@cindex @@code{$log} math builtin, TIC54X
d258 1
a258 1
@@cindex @@code{$max} math builtin, TIC54X
d262 1
a262 1
@@cindex @@code{$min} math builtin, TIC54X
d266 1
a266 1
@@cindex @@code{$pow} math builtin, TIC54X
d270 1
a270 1
@@cindex @@code{$round} math builtin, TIC54X
d274 1
a274 1
@@cindex @@code{$sgn} math builtin, TIC54X
d278 1
a278 1
@@cindex @@code{$sin} math builtin, TIC54X
d282 1
a282 1
@@cindex @@code{$sinh} math builtin, TIC54X
d286 1
a286 1
@@cindex @@code{$sqrt} math builtin, TIC54X
d290 1
a290 1
@@cindex @@code{$tan} math builtin, TIC54X
d294 1
a294 1
@@cindex @@code{$tanh} math builtin, TIC54X
d298 1
a298 1
@@cindex @@code{$trunc} math builtin, TIC54X
d305 1
a305 1
@@node TIC54X-Ext
d317 1
a317 1
@@node TIC54X-Directives
d320 2
a321 2
@@cindex machine directives, TIC54X
@@cindex TIC54X machine directives
d325 2
a326 2
@@cindex @@code{align} directive, TIC54X
@@cindex @@code{even} directive, TIC54X
d341 1
a341 1
@@cindex @@code{asg} directive, TIC54X
d346 1
a346 1
@@cindex @@code{eval} directive, TIC54X
d352 1
a352 1
@@cindex @@code{bss} directive, TIC54X
d360 4
a363 4
@@cindex @@code{byte} directive, TIC54X
@@cindex @@code{ubyte} directive, TIC54X
@@cindex @@code{char} directive, TIC54X
@@cindex @@code{uchar} directive, TIC54X
d372 1
a372 1
@@cindex @@code{clink} directive, TIC54X
d379 1
a379 1
@@cindex @@code{c_mode} directive, TIC54X
d383 1
a383 1
@@cindex @@code{copy} directive, TIC54X
d391 1
a391 1
@@cindex @@code{data} directive, TIC54X
d395 4
a398 4
@@cindex @@code{double} directive, TIC54X
@@cindex @@code{ldouble} directive, TIC54X
@@cindex @@code{float} directive, TIC54X
@@cindex @@code{xfloat} directive, TIC54X
d408 2
a409 2
@@cindex @@code{drlist} directive, TIC54X
@@cindex @@code{drnolist} directive, TIC54X
d414 3
a416 3
@@cindex @@code{emsg} directive, TIC54X
@@cindex @@code{mmsg} directive, TIC54X
@@cindex @@code{wmsg} directive, TIC54X
d422 1
a422 1
@@cindex @@code{far_mode} directive, TIC54X
d425 1
a425 1
only once per file, and is equivalent to the -mfar-mode option @@pxref{TIC54X-Opts,,@@code{-mfar-mode}}.
d427 2
a428 2
@@cindex @@code{fclist} directive, TIC54X
@@cindex @@code{fcnolist} directive, TIC54X
d433 1
a433 1
@@cindex @@code{field} directive, TIC54X
d446 3
a448 3
@@cindex @@code{global} directive, TIC54X
@@cindex @@code{def} directive, TIC54X
@@cindex @@code{ref} directive, TIC54X
d457 8
a464 8
@@cindex @@code{half} directive, TIC54X
@@cindex @@code{uhalf} directive, TIC54X
@@cindex @@code{short} directive, TIC54X
@@cindex @@code{ushort} directive, TIC54X
@@cindex @@code{int} directive, TIC54X
@@cindex @@code{uint} directive, TIC54X
@@cindex @@code{word} directive, TIC54X
@@cindex @@code{uword} directive, TIC54X
d477 1
a477 1
@@cindex @@code{label} directive, TIC54X
d482 2
a483 2
@@cindex @@code{length} directive, TIC54X
@@cindex @@code{width} directive, TIC54X
d488 2
a489 2
@@cindex @@code{list} directive, TIC54X
@@cindex @@code{nolist} directive, TIC54X
d494 3
a496 3
@@cindex @@code{long} directive, TIC54X
@@cindex @@code{ulong} directive, TIC54X
@@cindex @@code{xlong} directive, TIC54X
d505 3
a507 3
@@cindex @@code{loop} directive, TIC54X
@@cindex @@code{break} directive, TIC54X
@@cindex @@code{endloop} directive, TIC54X
d518 2
a519 2
@@cindex @@code{macro} directive, TIC54X
@@cindex @@code{endm} directive, TIC54X
d523 1
a523 1
See the section on macros for more explanation (@@xref{TIC54X-Macros}.
d525 1
a525 1
@@cindex @@code{mlib} directive, TIC54X
d531 2
a532 2
@@cindex @@code{mlist} directive, TIC54X
@@cindex @@code{mnolist} directive, TIC54X
d538 1
a538 1
@@cindex @@code{mmregs} directive, TIC54X
d545 1
a545 1
@@cindex @@code{newblock} directive, TIC54X
d547 1
a547 1
This directive resets any TIC54X local labels currently defined.  Normal
d550 1
a550 1
@@cindex @@code{option} directive, TIC54X
d554 1
a554 1
@@cindex @@code{sblock} directive, TIC54X
d559 1
a559 1
this directive.  See also @@xref{TIC54X-Block}.
d561 1
a561 1
@@cindex @@code{sect} directive, TIC54X
d565 2
a566 2
@@cindex @@code{set} directive, TIC54X
@@cindex @@code{equ} directive, TIC54X
d572 2
a573 2
@@cindex @@code{space} directive, TIC54X
@@cindex @@code{bes} directive, TIC54X
d581 2
a582 2
@@cindex @@code{sslist} directive, TIC54X
@@cindex @@code{ssnolist} directive, TIC54X
d587 2
a588 2
@@cindex @@code{string} directive, TIC54X
@@cindex @@code{pstring} directive, TIC54X
d597 3
a599 3
@@cindex @@code{struct} directive, TIC54X
@@cindex @@code{tag} directive, TIC54X
@@cindex @@code{endstruct} directive, TIC54X
d621 1
a621 1
@@code{.align} and conditional assembly directives are allowed within
d632 1
a632 1
@@cindex @@code{tab} directive, TIC54X
d636 3
a638 3
@@cindex @@code{union} directive, TIC54X
@@cindex @@code{tag} directive, TIC54X
@@cindex @@code{endunion} directive, TIC54X
d651 1
a651 1
@@cindex @@code{usect} directive, TIC54X
d653 1
a653 1
Reserve space for variables in a named, uninitialized section (similar to
d658 1
a658 1
section on a page boundary (128 words) (@@pxref{TIC54X-Block}).
d662 1
a662 1
@@cindex @@code{var} directive, TIC54X
d665 1
a665 1
@@xref{TIC54X-Macros}. 
d667 1
a667 1
@@cindex @@code{version} directive, TIC54X
d683 1
a683 1
@@node TIC54X-Macros
d686 2
a687 2
@@cindex TIC54X-specific macros
@@cindex macros, TIC54X
d695 1
a695 1
include a comma in an argument, you must enclose the argument in quotes.
d697 3
a699 3
@@cindex subsym builtins, TIC54X
@@cindex TIC54X subsym builtins
@@cindex builtin subsym functions, TIC54X
d705 1
a705 1
@@cindex @@code{$symlen} subsym builtin, TIC54X
d709 1
a709 1
@@cindex @@code{$symcmp} subsym builtin, TIC54X
d713 1
a713 1
@@cindex @@code{$firstch} subsym builtin, TIC54X
d718 1
a718 1
@@cindex @@code{$lastch} subsym builtin, TIC54X
d723 1
a723 1
@@cindex @@code{$isdefed} subsym builtin, TIC54X
d728 1
a728 1
@@cindex @@code{$ismember} subsym builtin, TIC54X
d734 1
a734 1
@@cindex @@code{$iscons} subsym builtin, TIC54X
d739 1
a739 1
@@cindex @@code{$isname} subsym builtin, TIC54X
d743 1
a743 1
@@cindex @@code{$isreg} subsym builtin, TIC54X
d747 1
a747 1
@@cindex @@code{$structsz} subsym builtin, TIC54X
d751 1
a751 1
@@cindex @@code{$structacc} subsym builtin, TIC54X
d758 1
a758 1
@@node TIC54X-MMRegs
d761 3
a763 3
@@cindex TIC54X memory-mapped registers
@@cindex registers, TIC54X memory-mapped
@@cindex memory-mapped registers, TIC54X
d767 1
a767 1
@@end table
@

