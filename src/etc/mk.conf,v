head	1.80;
access;
symbols
	tg-mergetmp-mirosx-1:1.80
	tg-mergefixes-1-branch:1.80.0.4
	tg-mergefixes-1-base:1.80
	MIROS_X:1.80.0.2
	MIROS_X_BASE:1.80
	tg-mergetmp-3:1.80
	MIRBSD_XP_MIRPPC:1.75.0.4
	MIRBSD_XP_SPARC_BASE:1.75
	MIRBSD_XP_SPARC:1.75.0.2
	MIRBSD_7quater:1.26.2.11.2.1
	MIRBSD_7_ALPHA:1.26.2.11.0.4
	MIRBSD_7:1.26.2.11.0.2
	MIRBSD_7ter:1.26.2.11
	MIRBSD_7_DEV:1.26.0.2
	MIRBSD_5:1.11
	MIRBSD_4:1.5;
locks; strict;
comment	@# @;


1.80
date	2004.11.30.16.46.53;	author tg;	state Exp;
branches;
next	1.79;

1.79
date	2004.10.24.17.05.13;	author tg;	state Exp;
branches;
next	1.78;

1.78
date	2004.10.23.00.16.23;	author tg;	state Exp;
branches;
next	1.77;

1.77
date	2004.10.16.17.41.15;	author tg;	state Exp;
branches;
next	1.76;

1.76
date	2004.10.12.19.18.28;	author tg;	state Exp;
branches;
next	1.75;

1.75
date	2004.10.08.19.43.16;	author tg;	state Exp;
branches;
next	1.74;

1.74
date	2004.09.18.22.21.49;	author tg;	state Exp;
branches;
next	1.73;

1.73
date	2004.09.18.12.36.37;	author tg;	state Exp;
branches;
next	1.72;

1.72
date	2004.09.15.19.01.22;	author tg;	state Exp;
branches;
next	1.71;

1.71
date	2004.08.28.16.03.22;	author tg;	state Exp;
branches;
next	1.70;

1.70
date	2004.08.23.07.50.41;	author tg;	state Stab;
branches;
next	1.69;

1.69
date	2004.08.15.17.51.01;	author tg;	state Exp;
branches;
next	1.68;

1.68
date	2004.07.15.06.56.12;	author tg;	state Exp;
branches;
next	1.67;

1.67
date	2004.07.13.20.29.06;	author tg;	state Exp;
branches;
next	1.66;

1.66
date	2004.07.02.17.16.39;	author tg;	state Exp;
branches;
next	1.65;

1.65
date	2004.06.29.16.28.32;	author tg;	state Exp;
branches;
next	1.64;

1.64
date	2004.06.27.18.07.42;	author tg;	state Exp;
branches;
next	1.63;

1.63
date	2004.06.24.14.12.37;	author tg;	state Exp;
branches;
next	1.62;

1.62
date	2004.06.17.19.52.41;	author tg;	state Exp;
branches;
next	1.61;

1.61
date	2004.06.15.16.00.39;	author tg;	state Exp;
branches;
next	1.60;

1.60
date	2004.06.14.00.25.40;	author tg;	state Exp;
branches;
next	1.59;

1.59
date	2004.06.13.17.21.00;	author tg;	state Exp;
branches;
next	1.58;

1.58
date	2004.06.11.18.20.14;	author tg;	state Exp;
branches;
next	1.57;

1.57
date	2004.05.23.20.48.22;	author tg;	state Exp;
branches;
next	1.56;

1.56
date	2004.05.07.19.13.24;	author tg;	state Exp;
branches;
next	1.55;

1.55
date	2004.05.02.18.28.09;	author tg;	state Exp;
branches;
next	1.54;

1.54
date	2004.05.02.16.38.22;	author tg;	state Exp;
branches;
next	1.53;

1.53
date	2004.05.02.15.15.58;	author tg;	state Exp;
branches;
next	1.52;

1.52
date	2004.04.27.18.57.23;	author tg;	state Exp;
branches;
next	1.51;

1.51
date	2004.04.10.22.23.33;	author tg;	state Exp;
branches;
next	1.50;

1.50
date	2004.03.10.17.37.15;	author tg;	state Exp;
branches;
next	1.49;

1.49
date	2004.03.09.21.10.42;	author tg;	state Exp;
branches;
next	1.48;

1.48
date	2004.03.07.18.01.41;	author tg;	state Exp;
branches;
next	1.47;

1.47
date	2004.03.02.10.32.14;	author tg;	state Exp;
branches;
next	1.46;

1.46
date	2004.03.02.09.18.44;	author tg;	state Exp;
branches;
next	1.45;

1.45
date	2004.02.29.01.19.45;	author tg;	state Exp;
branches;
next	1.44;

1.44
date	2004.02.27.00.08.29;	author tg;	state Exp;
branches;
next	1.43;

1.43
date	2004.01.21.22.00.23;	author tg;	state Exp;
branches;
next	1.42;

1.42
date	2004.01.19.16.23.34;	author tg;	state Exp;
branches;
next	1.41;

1.41
date	2004.01.17.23.58.30;	author tg;	state Exp;
branches;
next	1.40;

1.40
date	2004.01.16.23.39.07;	author tg;	state Exp;
branches;
next	1.39;

1.39
date	2004.01.11.18.35.12;	author tg;	state Exp;
branches;
next	1.38;

1.38
date	2004.01.07.21.27.07;	author tg;	state Exp;
branches;
next	1.37;

1.37
date	2003.12.29.00.17.15;	author tg;	state Exp;
branches;
next	1.36;

1.36
date	2003.12.18.19.43.25;	author tg;	state Exp;
branches;
next	1.35;

1.35
date	2003.12.17.18.19.22;	author tg;	state Exp;
branches;
next	1.34;

1.34
date	2003.12.17.18.01.54;	author tg;	state Exp;
branches;
next	1.33;

1.33
date	2003.12.12.16.00.50;	author tg;	state Exp;
branches;
next	1.32;

1.32
date	2003.12.05.13.51.56;	author tg;	state Exp;
branches;
next	1.31;

1.31
date	2003.11.30.07.18.50;	author tg;	state Exp;
branches;
next	1.30;

1.30
date	2003.11.30.02.26.24;	author tg;	state Exp;
branches;
next	1.29;

1.29
date	2003.11.16.08.36.30;	author tg;	state Exp;
branches;
next	1.28;

1.28
date	2003.11.09.12.53.26;	author tg;	state Exp;
branches;
next	1.27;

1.27
date	2003.11.06.18.42.25;	author tg;	state Exp;
branches;
next	1.26;

1.26
date	2003.10.03.11.32.14;	author tg;	state Exp;
branches
	1.26.2.1;
next	1.25;

1.25
date	2003.10.02.22.04.42;	author tg;	state Exp;
branches;
next	1.24;

1.24
date	2003.09.04.13.26.20;	author tg;	state Exp;
branches;
next	1.23;

1.23
date	2003.09.02.01.46.20;	author tg;	state Exp;
branches;
next	1.22;

1.22
date	2003.08.16.15.31.50;	author tg;	state Exp;
branches;
next	1.21;

1.21
date	2003.07.24.17.09.11;	author tg;	state Exp;
branches;
next	1.20;

1.20
date	2003.07.24.15.43.16;	author tg;	state Exp;
branches;
next	1.19;

1.19
date	2003.07.15.11.54.11;	author tg;	state Exp;
branches;
next	1.18;

1.18
date	2003.07.15.11.13.02;	author tg;	state Exp;
branches;
next	1.17;

1.17
date	2003.07.07.22.51.29;	author tg;	state Exp;
branches;
next	1.16;

1.16
date	2003.07.07.14.38.54;	author tg;	state Exp;
branches;
next	1.15;

1.15
date	2003.06.30.13.56.50;	author tg;	state Exp;
branches;
next	1.14;

1.14
date	2003.06.29.21.28.28;	author tg;	state Exp;
branches;
next	1.13;

1.13
date	2003.06.28.16.39.42;	author tg;	state Exp;
branches;
next	1.12;

1.12
date	2003.06.19.15.04.09;	author tg;	state Exp;
branches;
next	1.11;

1.11
date	2003.05.19.17.05.37;	author tg;	state Exp;
branches;
next	1.10;

1.10
date	2003.05.17.19.40.11;	author tg;	state Exp;
branches;
next	1.9;

1.9
date	2003.05.13.18.46.13;	author tg;	state Exp;
branches;
next	1.8;

1.8
date	2003.05.13.18.36.00;	author tg;	state Exp;
branches;
next	1.7;

1.7
date	2003.05.12.22.03.05;	author tg;	state Exp;
branches;
next	1.6;

1.6
date	2003.04.24.08.47.24;	author tg;	state Exp;
branches;
next	1.5;

1.5
date	2003.04.14.18.52.06;	author tg;	state Exp;
branches;
next	1.4;

1.4
date	2003.04.12.13.07.45;	author tg;	state Exp;
branches;
next	1.3;

1.3
date	2003.04.12.13.01.13;	author tg;	state Exp;
branches;
next	1.2;

1.2
date	2003.03.31.16.30.29;	author tg;	state Exp;
branches;
next	1.1;

1.1
date	2003.03.23.21.47.59;	author tg;	state Exp;
branches;
next	;

1.26.2.1
date	2003.10.23.20.45.14;	author tg;	state Exp;
branches;
next	1.26.2.2;

1.26.2.2
date	2003.10.24.19.02.49;	author tg;	state Exp;
branches;
next	1.26.2.3;

1.26.2.3
date	2003.10.24.19.05.11;	author tg;	state Exp;
branches;
next	1.26.2.4;

1.26.2.4
date	2003.10.24.19.43.59;	author tg;	state Exp;
branches;
next	1.26.2.5;

1.26.2.5
date	2003.10.25.14.03.50;	author tg;	state Exp;
branches;
next	1.26.2.6;

1.26.2.6
date	2003.10.26.23.05.38;	author tg;	state Exp;
branches;
next	1.26.2.7;

1.26.2.7
date	2003.10.27.16.38.11;	author tg;	state Exp;
branches;
next	1.26.2.8;

1.26.2.8
date	2003.10.28.05.28.59;	author tg;	state Exp;
branches;
next	1.26.2.9;

1.26.2.9
date	2003.11.09.17.27.39;	author tg;	state Exp;
branches;
next	1.26.2.10;

1.26.2.10
date	2003.11.09.19.33.30;	author tg;	state Exp;
branches;
next	1.26.2.11;

1.26.2.11
date	2003.11.15.21.19.51;	author tg;	state Exp;
branches
	1.26.2.11.2.1;
next	;

1.26.2.11.2.1
date	2004.04.10.22.20.47;	author tg;	state Exp;
branches;
next	;


desc
@@


1.80
log
@remove NOPROFILE traces (we can't build profiled libs anyway)
switch NOMAN, NOLINT, NOPROG to yes/no logic (defaulting to yes if defined)
@
text
@# $MirBSD: src/etc/mk.conf,v 1.79 2004/10/24 17:05:13 tg Exp $
#@@@@MDPART@@@@

# This is the make configuration file for MirOS and MirPorts.
# This file is included by the system Makefile includes and contains
# selected default settings and modules which can be overridden, al-
# tered or activated in /etc/mk.conf.local unless $MAKECONF_OVERRIDE
# is set.  *THIS IS A SAMPLE FILE*  Review it before changing.

### Set up sudo(8) first; use visudoers(8) and sudoers(5)
#SUDO?=			sudo

### Options for MirPorts (recommended)
# make clean descends into dependencies
# is overriden by certain ports though
CLEANDEPENDS?=		yes
# make checksum uses this order
PREFERRED_CIPHERS=	sha512 rmd160 sha1 md5
# install all subpackages by default on make install
# NOTE: earlier MirPorts versions defaulted to off!
#PREFER_SUBPKG_INSTALL?=no	# default: yes

### If you really, really want /bin and /sbin to depend on /usr/lib
# Note: this does not link _all_ binaries dynamically, but some which
# depend on being statically linked may be broken (boot process bins?)
#STATIC=		#empty
## The exact contrary
# Remove support for shared libraries
#NOPIC=			yes

## Misc optimization settings
DEFCOPTS+=		-fno-strict-aliasing -fno-strength-reduce -fgcse \
			-fschedule-insns2 -fthread-jumps -Wformat

# Speed up compile; if using mfs /tmp might be better to leave empty
PIPE?=			-pipe

### make build release process
# Build no ramdisk/floppy/CD during make release
#REL_NO_KERNEL?=	yes	# nothing
#REL_NO_FLOPPY?=	yes	# no floppy kernel/image
#REL_NO_GENERIC?=	yes	# no kernel (bsd)
#REL_NO_RAMDISK?=	yes	# no ramdisk (bsd.rd)
#REL_NO_AUTOISO?=	yes	# no bootable ISO image

### debugging
# Set MKC_DEBG to enable debugging support
.ifdef	MKC_DEBG
DEFCOPTS+=		-O1 -g -DDEBUG=1
DEBUGLIBS=		Yes
INSTALL_STRIP=		#nothing
.endif

### Patent issues
# Define this if you live in the United States of America. Note: I'm not
# aware of all patents there, just RC5, MDC-2 and TrueType hinting.
#MKC_USAP?=		yes	# default: No

### Sendmail fnordization
#SENDMAIL_WANT_SASL?=	Yes	# SMTP AUTH, needs cyrus-sasl2 port
#SENDMAIL_WANT_LDAP?=	Yes	# LDAP support, needs OpenLDAP port
@


1.79
log
@use -pipe by default
@
text
@d1 1
a1 1
# $MirBSD: src/etc/mk.conf,v 1.78 2004/10/23 00:16:23 tg Exp $
d29 1
a29 1
#NOPIC=			defined
@


1.78
log
@merge sendmail
@
text
@d1 1
a1 1
# $MirBSD: src/etc/mk.conf,v 1.77 2004/10/16 17:41:15 tg Exp $
d35 2
a36 2
# Uncomment this if you use a non-mfs /tmp
#PIPE+=			-pipe
@


1.77
log
@pull OpenBSD-morecurrent for #8 release
@
text
@d1 1
a1 1
# $MirBSD: src/etc/mk.conf,v 1.76 2004/10/12 19:18:28 tg Exp $
a61 1
#SENDMAIL_WANT_MILTER?=	No	# Milter API, enabled by default, unsupported
@


1.76
log
@when using -g, use -O1 as well.
makes it less of a nightmare.
@
text
@d1 1
a1 1
# $MirBSD: src/etc/mk.conf,v 1.75 2004/10/08 19:43:16 tg Exp $
a62 3

# stuff that doesn't work else at the moment
CSYS+=-D"ETHER_ALIGN=2"		# for now
@


1.75
log
@STATIC must be empty for dynamically linked /bin, /sbin
(which we don't want ;)
@
text
@d1 1
a1 1
# $MirBSD: src/etc/mk.conf,v 1.74 2004/09/18 22:21:49 tg Exp $
d49 1
a49 1
DEFCOPTS+=		-g -DDEBUG=1
@


1.74
log
@use ?= more often...
@
text
@d1 1
a1 1
# $MirBSD: src/etc/mk.conf,v 1.73 2004/09/18 12:36:37 tg Exp $
d26 1
a26 1
#STATIC=		defined
@


1.73
log
@* remove C2OPTS, since pgcc is gone
* unify C0OPTS, C3OPTS to DEFCOPTS
* we can build an automatic ISO by default
@
text
@d1 1
a1 1
# $MirBSD: src/etc/mk.conf,v 1.72 2004/09/15 19:01:22 tg Exp $
d21 1
a21 1
#PREFER_SUBPKG_INSTALL=	no	# default: yes
d40 5
a44 5
#REL_NO_KERNEL=		yes	# nothing
#REL_NO_FLOPPY=		yes	# no floppy kernel/image
#REL_NO_GENERIC=	yes	# no kernel (bsd)
#REL_NO_RAMDISK=	yes	# no ramdisk (bsd.rd)
#REL_NO_AUTOISO=	yes	# no bootable ISO image
d57 1
a57 1
#MKC_USAP=		yes	# default: No
d60 3
a62 3
#SENDMAIL_WANT_SASL=	Yes	# SMTP AUTH, needs cyrus-sasl2 port
#SENDMAIL_WANT_LDAP=	Yes	# LDAP support, needs OpenLDAP port
#SENDMAIL_WANT_MILTER=	No	# Milter API, enabled by default, unsupported
@


1.72
log
@we've got a floppy7.fs again (too much stripped down tho :(
@
text
@d1 1
a1 1
# $MirBSD: src/etc/mk.conf,v 1.71 2004/08/28 16:03:22 tg Exp $
d32 1
a32 1
C0OPTS+=		-fno-strict-aliasing -fno-strength-reduce -fgcse \
d44 1
a44 1
REL_NO_AUTOISO=		yes	# no bootable ISO image
d49 1
a49 1
C0OPTS+=		-g -DDEBUG=1
@


1.71
log
@don't dupe, don't sparc
@
text
@d1 1
a1 1
# $MirBSD: src/etc/mk.conf,v 1.70 2004/08/23 07:50:41 tg Exp $
a64 1
REL_NO_FLOPPY=Yes		# for now
@


1.70
log
@sha512 joins the boat, and is preferred even over ripemd-160 if found
rationale: while sha-512 is similar to sha-1 (weaker than rmd160)
and relatively new (not as well tested), it's a longer hash, and
probably more secure than the 160-bit ones (MD5 ought to not be spoken
of any longer... for years)
@
text
@d1 1
a1 1
# $MirBSD: src/etc/mk.conf,v 1.69 2004/08/15 17:51:01 tg Exp $
d41 3
a43 3
#REL_NO_GENERIC=	yes	# no kernel
REL_NO_FLOPPY=		yes	# no floppy kernel/image
#REL_NO_RAMDISK=	yes	# no large ramdisk kernel
a44 1
REL_NO_MINIROOT=	yes	# (sparc only)
d64 1
@


1.69
log
@REL_DEBUG_SNAP vanished a few days ago
@
text
@d1 1
a1 1
# $MirBSD: src/etc/mk.conf,v 1.68 2004/07/15 06:56:12 tg Exp $
d18 1
a18 1
PREFERRED_CIPHERS=	rmd160 sha1 md5
@


1.68
log
@more build and set fixes
don't use -g globally - ld(1) is broken and dumps core

this is still a test release :(
@
text
@d1 1
a1 1
# $MirBSD: src/etc/mk.conf,v 1.67 2004/07/13 20:29:06 tg Exp $
a66 1
REL_DEBUG_SNAP=1		# snapshots -> debugging ;)
@


1.67
log
@add /etc/malloc.conf to base and -g to cflags - for snapshots ;)
we want our users to _test_ that damn thing, for example the
suddenly crashing xterm on copy'n'paste...
@
text
@d1 1
a1 1
# $MirBSD: src/etc/mk.conf,v 1.66 2004/07/02 17:16:39 tg Exp $
d67 1
a67 3
C0OPTS+=-g			# snapshots == debugging!
INSTALL_STRIP=	#nothing	# ditto
REL_DEBUG_SNAP=1		# ditto
@


1.66
log
@since I don't like to install _all_ subpackages by default,
here's the knob to turn it off.

agreed bsiegert@@
@
text
@d1 1
a1 1
# $MirBSD: src/etc/mk.conf,v 1.65 2004/06/29 16:28:32 tg Exp $
d67 3
@


1.65
log
@* floppy is still broken (on i386)
  ETOOLAZY, will be fixed later
* OSTYPE can only speed up if given on command line or so,
  because <sys.mk> comes before mk.conf...
@
text
@d1 1
a1 1
# $MirBSD: src/etc/mk.conf,v 1.64 2004/06/27 18:07:42 tg Exp $
d19 3
@


1.64
log
@always issue format warnings
discovered while fixing dd
@
text
@d1 1
a1 1
# $MirBSD: src/etc/mk.conf,v 1.63 2004/06/24 14:12:37 tg Exp $
d39 1
a39 1
#REL_NO_FLOPPY=		yes	# no floppy kernel/image
a61 1
OSNAME=MirBSD			# speed up
@


1.63
log
@add some "for now" provisions
@
text
@d1 1
a1 1
# $MirBSD: src/etc/mk.conf,v 1.62 2004/06/17 19:52:41 tg Exp $
d30 1
a30 1
			-fschedule-insns2 -fthread-jumps
@


1.62
log
@preliminary build fixes, whitespace fixes, dependency fixes,
manpage installation and naming fixes, programme hard-link
fixes & addition to <bsd.cfwrap.mk>, removal-of-NOPROFILE-option
fixes etc.

you should be able to build kernel & userland with this set
of source and the following line in /etc/mk.conf added:
| CSYS+=		-D"ETHER_ALIGN=2"
@
text
@d1 1
a1 1
# $MirBSD: src/etc/mk.conf,v 1.61 2004/06/15 16:00:39 tg Exp $
d61 4
@


1.61
log
@spacing
@
text
@d1 1
a1 1
# $MirBSD: src/etc/mk.conf,v 1.60 2004/06/14 00:25:40 tg Exp $
a23 1

a26 2
# same for the ports tree
#NO_SHARED_LIBS=	yes
d41 1
a41 1
#REL_NO_AUTOISO=	yes	# no bootable ISO image
@


1.60
log
@First (probably not working[1]) attempt at modernizing the framework:
* MANZ, MANPS, NOPROFILE die (always set to false, false, true)
* Fortran generating code for <bsd.prog.mk> dies (pascal to follow)
* GLOBAL_AUTOCONF_CACHE dies (birth of <bsd.gnuwrap.mk> to follow...)
* sanitize my head and rewrite certain pieces of certain Makefiles
* move most mk.conf functionality out of there, so a system
  without mk.conf works really well(TM)
* attempt at synching docs with reality

[1] First update *.mk, then remove old mk.conf and mk.conf.local,
    then install new mk.conf and adapt it to suit your needs.

Why don't the OpenBSD people modernize parts of this? The indenting
is really really bad in places, and MANSUBDIR was... well. I have
done it with 1/3 of the code now, and it works. Even better.

There will definitively follow more ;-)
@
text
@d1 1
a1 1
# $MirBSD: src/etc/mk.conf,v 1.59 2004/06/13 17:21:00 tg Exp $
d11 1
a11 1
#SUDO?=sudo
d32 2
a33 2
C0OPTS+=	-fno-strict-aliasing -fno-strength-reduce -fgcse \
		-fschedule-insns2 -fthread-jumps
d36 1
a36 1
#PIPE+=		-pipe
d40 6
a45 6
#REL_NO_KERNEL=	yes		# nothing
#REL_NO_GENERIC=yes		# no kernel
#REL_NO_FLOPPY=	yes		# no floppy kernel/image
#REL_NO_RAMDISK=yes		# no large ramdisk kernel
#REL_NO_AUTOISO=yes		# no bootable ISO image
REL_NO_MINIROOT=yes		# (sparc only)
d50 3
a52 3
C0OPTS+=	-g -DDEBUG=1
DEBUGLIBS=	Yes
INSTALL_STRIP=	#nothing
d58 1
a58 1
#MKC_USAP=		yes
@


1.59
log
@fix "make obj" with new mk.conf
oops ;)
@
text
@d1 3
a3 20
# $MirBSD: src/etc/mk.conf,v 1.58 2004/06/11 18:20:14 tg Exp $
#-
# Copyright (c) 2003, 2004
#	Thorsten "mirabile" Glaser <tg@@66h.42h.de>
#
# Licensee is hereby permitted to deal in this work without restric-
# tion, including unlimited rights to use, publically perform, modi-
# fy, merge, distribute, sell, give away or sublicence, provided the
# above copyright notices, these terms and the disclaimer are retai-
# ned in all redistributions, or reproduced in accompanying documen-
# tation or other materials provided with binary redistributions.
#
# Licensor hereby provides this work "AS IS" and WITHOUT WARRANTY of
# any kind, expressed or implied, to the maximum extent permitted by
# applicable law, but with the warranty of being written without ma-
# licious intent or gross negligence; in no event shall licensor, an
# author or contributor be held liable for any damage, direct, indi-
# rect or other, however caused, arising in any way out of the usage
# of covered work, even if advised of the possibility of such damage.
#-
d8 1
a8 28
# is set.

# include this only once
.if !defined(MKC_DONE)
MKC_DONE=Done

.if !defined(MAKECONF_OVERRIDE)

# same procedure as including myself for the local file
.if defined(MAKECONF_LOCAL) && exists(${MAKECONF_LOCAL})
.include "${MAKECONF_LOCAL}"
.elif exists(/etc/mk.conf.local)
.include "/etc/mk.conf.local"
.endif

#@@@@MDPART@@@@
### Flags for mk.conf use
MKC_PGCC?=no		# use /usr/bin/pgcc as $CC (NO/yes)
NO_GCC3?=no		# don't build egcs as part of base (NO/yes)
#NO_CXX=no		# don't want, don't have C++ (yes/NO)
#NO_GADA=no		# don't build nor use Ada (yes/NO)
#NO_GF77=no		# don't build nor use Fortran (yes/NO)
#NO_GOBJC=no		# don't build nor use Objective C (yes/NO)
#NO_PASCAL=no		# don't build nor use GNU Pascal (yes/NO)
#NO_GJC=no		# ...the "compiler for the Java(TM) language" (yes/NO)
MKC_EGCC?=no		# have ports/lang/egcs installed and use it (NO/yes)
MKC_WARN?=no		# use a plethora of -Warnings (NO/yes/all)
MKC_DEBG?=no		# compile with -g and don't strip (NO/yes)
d13 1
a13 1
### Options for the ports tree (recommended)
d16 1
a16 1
CLEANDEPENDS?=yes
d18 1
a18 1
PREFERRED_CIPHERS=rmd160 sha1 md5
d23 1
a23 1
#STATIC=1
d27 1
a27 1
#NOPIC=defined
d29 1
a29 1
#NO_SHARED_LIBS=yes
a34 12
# Warnings
.if (${MKC_WARN:L} == "yes") || (${MKC_WARN:L} == "all")
WARNS+=	-Wall -Wcast-qual -Wcast-align -Wfloat-equal -Wconversion -Wpacked
WARNS+=	-Waggregate-return -Wnested-externs -Winline -Wformat=2 -W
WARNS+=	-Wuninitialized -Wsequence-point -Wshadow -Wpadded -Wwrite-strings
.if ${MKC_WARN:L} == "all"
WARNS+=	-Wsystem-headers -Wunrechable-code -Wmissing-declarations
.endif
C0OPTS+=-Wstrict-prototypes $(WARNS) $(GWARNEXTRA)
WARNINGS?=yes
.endif

d36 1
a36 7
#GCEXTRA+=	-pipe

### Disable functionality and cleanup
# TCP Wrappers, a.k.a /etc/hosts.{deny,allow} and friends
# Note: libwrap.{a,so.*} is still built and used within the tree.
# This just changes the behaviour of some programmes.
#TCP_WRAPPERS=	no
a45 3
# Set DESTDIR and RELEASEDIR both on NFS (uncomment to enable)
#NFSDESTDIR=	/altroot/dest	# do not use /mnt or a subpath
#NFSRELEASEDIR=	/altroot/rel	# do not use only one of these
d48 2
a49 1
.if ${MKC_DEBG:L} == "yes"
d51 1
a54 5
############################################################
# Customizations for admins rebuilding system on their own #
# "make release" with these flags changed isn't supported! #
############################################################

d63 1
a63 30
SENDMAIL_WANT_MILTER=	Yes	# Milter API, enabled by default, unsupported

### Modularized base system
## Apache
#SKIPDIR+= usr.sbin/httpd
## Sendmail
#SKIPDIR+= gnu/usr.sbin/sendmail
## GCC 2.95
#SKIPDIR+= gnu/egcs/gcc
## anoncvs
#SKIPDIR+= distrib/anoncvs distrib/anoncvsbin
## Lynx
#SKIPDIR+= gnu/usr.bin/lynx
## Perl
#SKIPDIR+= gnu/usr.bin/perl
## Texinfo
#SKIPDIR+= gnu/usr.bin/texinfo
## CVS
#SKIPDIR+= gnu/usr.bin/cvs
## RCS
#SKIPDIR+= gnu/usr.bin/rcs
## all BSD Games
#SKIPDIR+= games
## the USD/PSD/SMM doc
#SKIPDIR+= share/doc
## XFree86 (make obj, make b-r)
#SKIPDIR+= X-Window

.endif
.endif
@


1.58
log
@improvements on the no-kernel-during-make-release stuff,
and upgrade to latest licence
@
text
@d1 1
a1 1
# $MirBSD: src/share/misc/licence.template,v 1.11 2004/05/28 15:34:01 tg Rel $
d42 2
a43 2
#MKC_PGCC?=no		# use /usr/bin/pgcc as $CC (NO/yes)
#NO_GCC3?=no		# don't build egcs as part of base (NO/yes)
@


1.57
log
@first soft attempt to merge
add learn dirs to mtree
@
text
@d1 1
a1 1
# $MirBSD: src/etc/mk.conf,v 1.56 2004/05/07 19:13:24 tg Exp $
d4 1
a4 1
#	Thorsten Glaser <x86@@ePost.de>
d16 4
a19 4
# licious intent or gross negligence; in no event shall an author or
# contributor be held liable for any direct, indirect or other dama-
# ge, however caused, arising in any way out of the usage of covered
# work, even if advised of the possibility of such damage.
d101 7
a107 11
# Build no ramdisk/floppy during make release
#REL_NO_RAMDISKM= yes		# i386
#REL_NO_RAMDISKCD=yes		# i386
#REL_NO_RAMDISK=  yes		# sparc
#REL_NO_MINIROOT= yes		# sparc
# Build no kernel (bsd, bsd.rd, ramdisk) at all during make release
#REL_NO_KERNEL=   yes		# i386,sparc
# Kernels for make release
#REL_NO_GENERIC=  yes		# i386,sparc
# Build no automatically generated "boot-only iso" during make release
REL_NO_AUTOISO=   yes		# i386,sparc
@


1.56
log
@sync
@
text
@d1 1
a1 1
# $MirBSD: src/etc/mk.conf,v 1.55 2004/05/02 18:28:09 tg Exp $
d4 1
a4 1
#	Thorsten Glaser <x86@@ePost.de> for the MirOS Project
d6 6
a11 6
# Subject to these terms, everybody who obtained a copy of this work
# is hereby permitted to deal in the work without restriction inclu-
# ding without limitation the rights to use, distribute, sell, modi-
# fy, publically perform, give away, merge or sublicence it provided
# this notice is kept and the authors and contributors are given due
# credit in derivates or accompanying documents.
d13 7
a19 5
# This work is provided "as is" with no explicit or implicit warran-
# ties whatsoever to the maximum extent permitted by applicable law;
# in no event may an author or contributor be held liable for damage
# that is, directly or indirectly, caused by the work, even if advi-
# sed of the possibility of such damage.
d42 2
a43 2
MKC_PGCC?=no		# use /usr/bin/pgcc as $CC (NO/yes)
NO_GCC3?=no		# don't build egcs as part of base (NO/yes)
a53 15
.if ${HAS_GCC3:L} != "yes"
# Architectures with in-tree egcs (optionally gcc3 from ports)
MKC_PGCC=	Yes
NO_GCC3=	Yes
.else
# Architectures with also in-tree gcc3 (thus no gcc3 from ports)
MKC_EGCC=	No
.endif

.if ${HAS_GCC2:L} == "no"
# Architectures with only in-tree gcc3 (AMD64)
MKC_PGCC=	No
MKC_EGCC=	No
.endif

d71 1
a71 1
#NOPIC=yes
d75 3
a77 57
### Compiler madness
# XXX should go into <bsd.own.mk>
.if ${MKC_EGCC:L} == "yes"
MKC_PGCC=	no
.endif
.if ${NO_GCC3:L} == "yes"
MKC_PGCC=	yes
.endif
.if ${MKC_PGCC:L} == "yes"
CC=		pgcc
HOSTCC=		pgcc
NO_CXX=		Yes
NO_GADA=	Yes
NO_GF77=	Yes
NO_GOBJC=	Yes
NO_PASCAL=	Yes
NO_GJC=		Yes
.else
.if ${MKC_EGCC:L} == "yes"
CC=		egcc
HOSTCC=		egcc
CXX=		ec++
NO_CXX=		No
NO_GADA=	Yes
NO_GF77=	Yes
NO_GOBJC=	Yes
NO_PASCAL=	Yes
NO_GJC=		Yes
.else
CC=		gcc
HOSTCC=		gcc
.if defined(NO_CXX) && ${NO_CXX:L} == "yes"
CXX=		c++
.endif
.endif
.endif
#CPP=		/usr/bin/cpp
#AS=		/usr/bin/as
#LD=		/usr/bin/ld

# Misc optimization settings
.if ${MACHINE} == "i386"
C2OPTS=		-march=i486 -mcpu=pentium \
		-mpreferred-stack-boundary=2 -malign-functions=0
C3OPTS=		-march=pentium -mcpu=athlon-xp \
		-mpreferred-stack-boundary=2 -fno-align-functions
.elif ${MACHINE} == "sparc"
C2OPTS=		-mtune=supersparc -mcpu=v8
C3OPTS=		$(C2OPTS)
.endif
.if ${MKC_PGCC:L} == "yes"
COPTS+=		$(C2OPTS) -O2 -Wbounded
.else
COPTS+=		$(C3OPTS) -O2			# was: s/-O2/-Os/
.endif
COPTS+=		-fno-strict-aliasing -fno-strength-reduce -fgcse \
		-fschedule-insns2 -fthread-jumps $(GCEXTRA)
d87 2
a88 1
COPTS+=	-Wstrict-prototypes $(WARNS) $(GWARNEXTRA)
a94 5
# You can enable/disable any of these you want
# Don't lint things (recommended)
NOLINT=1
# One Time Passwords
#SKEY=no
d98 1
a98 1
TCP_WRAPPERS=	no
d118 1
a118 1
COPTS+=		-g -DDEBUG=1
a161 5

# MirBSD pkgtools (default)
#MIRBSD_PKGTOOLS=yes
# OpenBSD pkgtools (for MirOS)
#MIRBSD_PKGTOOLS=no
@


1.55
log
@syntax error
@
text
@d1 1
a1 1
# $MirBSD: src/etc/mk.conf,v 1.54 2004/05/02 16:38:22 tg Exp $
a180 1
#REL_NO_SLIM=     yes		# i386
@


1.54
log
@fix gcc2 CFLAGS
@
text
@d1 1
a1 1
# $MirBSD: src/etc/mk.conf,v 1.53 2004/05/02 15:15:58 tg Exp $
d139 1
a139 1
COPTS+=		$(C2OPTS) -O2 -Wbounded -Wnonnull
@


1.53
log
@basic capability support (HAS_GCC2, HAS_GCC3)
XXX much of this should go into <bsd.own.mk>
@
text
@d1 1
a1 1
# $MirBSD: src/etc/mk.conf,v 1.52 2004/04/27 18:57:23 tg Exp $
d130 4
a133 2
C2OPTS=		-march=i486 -mcpu=pentium -malign-functions=0
C3OPTS=		-march=pentium -mcpu=athlon-xp -mpreferred-stack-boundary=2
d139 1
a139 1
COPTS+=		$(C2OPTS) -O2 -Wbounded
d141 1
a141 1
COPTS+=		$(C3OPTS) -O2 -fno-align-functions	# was: s/-O2/-Os/
@


1.52
log
@time to go back to -O2 for gcc3...
@
text
@d1 1
a1 1
# $MirBSD: src/etc/mk.conf,v 1.51 2004/04/10 22:23:33 tg Exp $
d52 15
d89 1
a89 2

# We want to use egcs / gcc 3.3 (code optimizer is not that broken :)
d99 6
a104 6
NO_CXX=yes
NO_GADA=yes
NO_GF77=yes
NO_GOBJC=yes
NO_PASCAL=yes
NO_GJC=yes
d110 6
a115 1
NO_CXX=		no
@


1.51
log
@sparc optimization swapping from #7-stable, for now
we'll use a totally different mk.conf soon anyways
@
text
@d1 1
a1 1
# $MirBSD: mk.conf,v 1.26.2.11.2.1 2004/04/10 22:20:47 tg Exp $
d118 1
a118 1
COPTS+=		$(C2OPTS) -O2 -Wbounded $(GCEXTRA)
d120 1
a120 2
COPTS+=		$(C3OPTS) -Os -fno-align-functions -fno-strict-aliasing \
		-fgcse -fschedule-insns2 -fthread-jumps $(GCEXTRA)
d122 2
@


1.50
log
@* fix the build system
* fix and enable the GNU Pascal RTS and Utils
  -> gpc is now fully supported; Hello World works.
* merge OpenBSD-OpenSSH 3.8, bump patchlevel
* add fchroot(2) diff, From: Pedro Martelletto <pbastos@@rdc.puc-rio.br>
* add fchroot(2) man page from NetBSD and myself
* fix orders of manpage sections
* fix displaying of .Nx mdoc macro
* convert scripts requiring bash to ksh
* nuke a shutload of GNU make idiotisms
* add pregenerated manpages - help2man is just bloat
* increase shlib versions after fchroot addition
* adjust and unbreak mk.conf after recent changes
* fix boot system version number after CD boot changes
* understand why Makefile.bsd-wrapper is needed as filename. Finally.
* regenerate files after syscalls.master change
* fix RCS Id detection and generation while here
* remove unused archs while there
* use __RCSID() macro in ssh ifdef __MirBSD__
* build ssh with -Werror, too

Note: this is a pre-snapshot, pre-build commit. Nothing
of this has actually been tested.

Like I said, please wait for the snapshot. Though, the
snapshot doesn't have any more circumstances preventing
me from working towards a release and upload now.
@
text
@d1 1
a1 1
# $MirBSD: mk.conf,v 1.49 2004/03/09 21:10:42 tg Exp $
d114 2
a115 1
C2OPTS=		-mcpu=v8 -mtune=supersparc
@


1.49
log
@* nuke obsolete files and parts of files
* enable pascal frontend
* enable CPIO naming convention:
  sv4cpio = .cpio
  sv4crc  = .cpio
  sv4cpio gzipped = .ngz (newc/gz)
  svrcrc  gzipped = .cgz (crc/gz)
* all packages are .cgz, all sets are .ngz
* add hooks for gjc frontend
* add stubbed out gpc and gjc rts hooks in src/gnu/gcc/Makefile
* enable java frontend (with almost no changes; this is what I
  call a _really_ nice langspec-subdir... amazing)
* bump patchlevel for these changes
* better document some changes
* matthieu@@openbsd.org assured me we need no X piclibs any more
* improve comments
* export whole libz to XFree86 .a modules
* correct usage of languages when bootstrapping gcc
* fix MKC_PGCC when USE_GCC3=no (since USE_GCC3 is a post-#7
  thing, and ports/lang/egcs is not available for -current)
* install man- and texinfopages for gpc

most of this stuff is tested. however, I *strongly* recommend
to not update, but rather wait for the next snapshot.

Now missing:
* pascal RTS
* a port for libgjc (I won't like it in base, due to the
  _heavy_ overhead (jar, ffi, boehm-gc*cough*, ...), but
  since the compiler is there, it should be easy)
* test pascal (c, cp, f, objc, and ada are fine already)
* test gcov? (proto is fine, all right)
* documentation improvements
* quality tests and improvements
* more ~/.etc
* get the damn cvs conflict script right ;)

Next projects:
* update binutils
* sync with openbsd
* rewrite large parts of build system
* write boot loader
* rewrite install system
@
text
@d1 1
a1 1
# $MirBSD: mk.conf,v 1.48 2004/03/07 18:01:41 tg Exp $
d177 3
a179 3
# Define this if you live in the United States of America
#MKC_USAP=		yes	# Note: I'm not aware of all patents there,
				# just RC5 & MDC-2, and TrueType hinting.
d181 1
@


1.48
log
@make MKC_USAP a global yes/NO toggle
no being the default, i.e. to build code which infringes
patents in the USA (has been like this since... long)
enable truetype bytecode hinting interpreter if not MKC_USAP
@
text
@d1 1
a1 1
# $MirBSD: mk.conf,v 1.47 2004/03/02 10:32:14 tg Exp $
d46 2
a47 1
#NO_PASCAL=yes		# don't build nor use GNU Pascal (YES/no)
d79 3
d90 1
@


1.47
log
@fortran (untested), RCS IDs, no a.out/coff any more and style nits
@
text
@d1 1
a1 1
# $MirBSD: mk.conf,v 1.46 2004/03/02 09:18:44 tg Exp $
d173 2
a174 1
#MKC_USAP=yes	# Note: I'm not aware of all patents there, just RC5 & MDC-2.
@


1.46
log
@welcome to the wonderful world of peace in MirOS,
Objective C and associated libraries/includes

thank you for being so nice to use standardized
make prereq / make includes mechanism

[x] test programme (hello world) runs
@
text
@d1 1
a1 1
# $MirBSD: mk.conf,v 1.45 2004/02/29 01:19:45 tg Exp $
d44 1
a44 1
#NO_GF77=yes		# don't build nor use Fortran (YES/no)
d141 1
a141 1
TCP_WRAPPERS=no
d145 1
a145 1
#REL_NO_RAMDISKM=yes		# i386
d147 2
a148 2
#REL_NO_RAMDISK=yes		# sparc
#REL_NO_MINIROOT=yes		# sparc
d150 1
a150 1
#REL_NO_KERNEL=yes		# i386,sparc
d152 2
a153 2
#REL_NO_GENERIC=yes		# i386,sparc
#REL_NO_SLIM=yes		# i386
d155 1
a155 1
REL_NO_AUTOISO=yes		# i386,sparc
d157 2
a158 2
#NFSDESTDIR=/altroot/dest	# do not use /mnt or a subpath
#NFSRELEASEDIR=/altroot/rel	# do not use only one of these
d162 2
a163 2
COPTS+=-g -DDEBUG=1
INSTALL_STRIP= #nothing
d175 3
a177 3
#SENDMAIL_WANT_SASL=Yes		# SMTP AUTH, needs cyrus-sasl2 port
#SENDMAIL_WANT_LDAP=Yes		# LDAP support, needs OpenLDAP port
SENDMAIL_WANT_MILTER=Yes	# Milter API, enabled by default, unsupported
@


1.45
log
@so, OpenBSD is for baby mulching machines. boring.
MirOS BSD is now for nuclear warheads driven in Ada, too.

well, it bootstraps itself, and the propolice problem is
documented. for upgrading you will need a binary snapshot.
in any case, update /usr/share/mk/ first.
@
text
@d1 1
a1 1
# $MirBSD: mk.conf,v 1.44 2004/02/27 00:08:29 tg Exp $
d45 1
a45 1
#NO_GOBJC=yes		# don't build nor use Objective C (YES/no)
@


1.44
log
@these will be handled by mirports in a few
@
text
@d1 1
a1 1
# $MirBSD: mk.conf,v 1.43 2004/01/21 22:00:23 tg Exp $
d42 2
a43 2
#NO_CXX=no		# don't want, don't have C++ (yes/NO for hysterical)
#NO_GADA=yes		# don't build nor use Ada (YES/no)
@


1.43
log
@* remove all GNU Automake files, we don't need them
* disable stupid "if Makefile.am isn't there, I can't build
  Makefile.in so I can't build Makefile so... huh?" stuff
* basically synch lists (base, not x11) with what is gained;
  more review needed
  XXX adjust notes
* various improvements I don't remember
* add configs from the FSF
  (with MirBSD and ekkoBSD support added by myself)
* update some FSF material
* plug some strcpy, strcat, sprintf, mktemp holes
* fix and unify the way where and how the gcc version subdirs are included

XXX someone string-"fix" roff and the gnu part (isdnd will be taken care of later)
@
text
@d1 1
a1 1
# $MirBSD: mk.conf,v 1.42 2004/01/19 16:23:34 tg Exp $
a59 6
# use systrace to build ports
#USE_SYSTRACE?=yes
# which fetch command to use?
#FETCH_CMD=/usr/bin/ftp -V -m	# default
#FETCH_CMD=/usr/bin/ftp -VE -m	# don't use EPSV
#FETCH_CMD=/usr/local/bin/wget	# use GNU wget
@


1.42
log
@NO_CXX defaults to "no", not "yes" for hysterical raisins
(and compatibility with #7 mk.conf)
@
text
@d1 1
a1 1
# $MirBSD: mk.conf,v 1.41 2004/01/17 23:58:30 tg Exp $
d191 1
a191 1
#SKIPDIR+= gnu/usr.bin/../egcs/gcc
@


1.41
log
@forgot one .undef NO_CXX
@
text
@d1 1
a1 1
# $MirBSD: mk.conf,v 1.40 2004/01/16 23:39:07 tg Exp $
d3 1
a3 1
# Copyright (c) 2003
d42 1
a42 1
NO_CXX=no		# don't want, don't have C++ (YES/no)
d101 1
a101 1
.if !defined(NO_CXX) || ${NO_CXX:L} == "no"
@


1.40
log
@shuffle set lists around (split out perl and egcs), as discussed with
Waldemar Brodkorb earlier
a full install still includes these sets, but think firewalls...

add (a bit of) protection around includes

NO_GCC3 flag
@
text
@d1 1
a1 1
# $MirBSD: mk.conf,v 1.39 2004/01/11 18:35:12 tg Exp $
d38 1
a38 1
@@@@MDPART@@@@
d41 6
a46 6
NO_GCC3?=no		# don't build egcs as part of base
NO_CXX=no		# don't want, don't have C++
#NO_GADA=yes		# don't build nor use Ada
#NO_GF77=yes		# don't build nor use Fortran
#NO_GOBJC=yes		# don't build nor use Objective C
#NO_PASCAL=yes		# don't build nor use GNU Pascal
a93 1
.undef NO_CXX
d97 1
d101 1
a101 1
.ifndef NO_CXX
d112 2
a113 4
C2OPTS=		-march=i486 -mcpu=pentium -malign-functions=0 -O2 -Wbounded
C3OPTS=		-march=pentium -mcpu=athlon-xp -Os -fno-align-functions \
		-mpreferred-stack-boundary=2 -fno-strict-aliasing -fgcse \
		-fschedule-insns2 -fthread-jumps -static-libgcc
d115 1
a115 3
C2OPTS=		-mcpu=supersparc -mtune=v8 -O2 -Wbounded
C3OPTS=		-mcpu=supersparc -mtune=v8 -Os -fno-align-functions \
		-fno-strict-aliasing -Wno-deprecated -static-libgcc
d118 1
a118 1
COPTS+=		$(C2OPTS) $(GCEXTRA)
d120 2
a121 1
COPTS+=		$(C3OPTS) $(GCEXTRA)
d151 4
a154 4
#REL_NO_RAMDISKM=yes	# i386
#REL_NO_RAMDISKCD=yes	# i386
#REL_NO_RAMDISK=yes	# sparc
#REL_NO_MINIROOT=yes	# sparc
d156 1
a156 1
#REL_NO_KERNEL=yes	# i386,sparc
d158 2
a159 2
#REL_NO_GENERIC=yes	# i386,sparc
#REL_NO_SLIM=yes	# i386
d161 1
a161 1
REL_NO_AUTOISO=yes	# i386,sparc
a193 2
## Kernels
# (see above)
@


1.39
log
@since the gpc people (and others) state gcc 3.3 isn't production quality yet,
let's just play with gpc and the other funky stuff right now, even if that
means still no sparc-gcc3 in current.

also, NO_CXX and friends change from defined/undef'd to yes/no
@
text
@d1 1
a1 1
# $MirBSD: mk.conf,v 1.38 2004/01/07 21:27:07 tg Exp $
d41 1
a194 2
## GCC 3
#SKIPDIR+= gnu/gcc
@


1.38
log
@note that using make release is not supported when you change the
flags in the customization section.

asked for by wbx@@
@
text
@d1 1
a1 1
# $MirBSD: mk.conf,v 1.37 2003/12/29 00:17:15 tg Exp $
d41 5
a45 4
#NO_CXX=1		# don't want, don't have C++
NO_GADA=1		# don't build nor use Ada
NO_GF77=1		# don't build nor use Fortran
NO_GOBJC=1		# don't build nor use Objective C
d86 5
a90 4
NO_CXX=1
NO_GADA=1
NO_GF77=1
NO_GOBJC=1
@


1.37
log
@-Wno-deprecated is needed
@
text
@d1 1
a1 1
# $MirBSD: mk.conf,v 1.36 2003/12/18 19:43:25 tg Exp $
d174 1
@


1.36
log
@* move sendmail stuff into sendmail dir makefile
* add LDAP configuration option
* document MILTER configuration option
* on wbx@@ request, and against what I want:
  enable compiling with libmilter by default, for now.

If there are any problems with either of these, which
aren't fixed, it'll go out again.
@
text
@d1 1
a1 1
# $MirBSD: mk.conf,v 1.35 2003/12/17 18:19:22 tg Exp $
d116 1
a116 1
		-fno-strict-aliasing -static-libgcc
@


1.35
log
@better handling of machdep files
add mk.conf machdep for sparc (ie, no gcc3, no X for now)
@
text
@d1 1
a1 1
# $MirBSD: mk.conf,v 1.34 2003/12/17 18:01:54 tg Exp $
d180 3
a182 10
### SMTP AUTH
.if defined(SENDMAIL_WANT_SASL)
BSDSRCDIR?=	/usr/src
.  if ${.CURDIR} == ${BSDSRCDIR}/gnu/usr.sbin/sendmail/sendmail
ENVDEF+=	-DSASL=2
LDADD+=		-lsasl2
CFLAGS+=	-I/usr/local/include
LDFLAGS+=	-L/usr/local/lib
.  endif
.endif
@


1.34
log
@second (piecewise) attempt to merge MirBSD #7ter into HEAD
@
text
@d1 1
a1 1
# $MirBSD: licence.template,v 1.8 2003/12/17 14:35:00 tg Exp $
d38 1
@


1.33
log
@when building with pgcc, don't build C++ and other fancy
stuff like that (because libstdc++ et al. use $CC, not
some ../gcc/xgcc -Bfoo/)
@
text
@d1 1
a1 1
# $MirBSD: mk.conf,v 1.32 2003/12/05 13:51:56 tg Exp $
d3 2
a4 1
# Copyright (c) 2002, 2003 Thorsten Glaser <x86@@ePost.de> for the MirOS Project
d9 1
a9 1
# fy, publically perform, give away, merge or sublicense it provided
d12 1
d14 1
a14 1
# ties whatsoever to the maximum extend permitted by applicable law;
d20 4
d107 1
d112 5
d150 4
a153 2
#REL_NO_RAMDISKM=yes
#REL_NO_RAMDISKCD=yes
d155 1
a155 1
#REL_NO_KERNEL=yes
d157 7
a163 4
#REL_NO_GENERIC=yes
#REL_NO_SLIM=yes
# Build no automatically generated bootable iso during make release
REL_NO_AUTOISO=yes
@


1.32
log
@To all MirOS users: I am your god.

(Translators note: this means, gcc 3 with propolice work^H^H^H^Hbuilds
 a C bootstrap without segfaulting, nothing more)

Done by using a propolice dated April 2003.
@
text
@d1 1
a1 1
# $MirBSD: mk.conf,v 1.31 2003/11/30 07:18:50 tg Exp $
d78 4
@


1.31
log
@* fix path to gcc
* prepare for turning on c++, ada, fortran, objective c
@
text
@d1 1
a1 1
# $MirBSD: mk.conf,v 1.30 2003/11/30 02:26:24 tg Exp $
d33 1
a33 1
MKC_PGCC?=yes		# use /usr/bin/pgcc as $CC (NO/yes)
@


1.30
log
@remove ${CKERNFLAGS}, because pgcc supports -ffreestanding as well
@
text
@d1 1
a1 1
# $MirBSD: mk.conf,v 1.29 2003/11/16 08:36:30 tg Exp $
d34 4
a37 1
NO_CXX=1		# don't want, don't have C++
d87 1
d91 1
d93 1
d177 1
a177 1
#SKIPDIR+= gnu/usr.bin/../gnu/gcc
@


1.29
log
@New option, to omit ciphers from libcrypto which are patented
outside of Europe (so we need not care about the patents).

Users affected (eg. these living in the US) should ask a friend
outside to download and install MirOS, then
	# echo MKC_USAP=yes >>/etc/mk.conf.local
and reboot (make b-r) the whole system, then send the sets to them.

This is not an officially supported release of MirOS. You will not
be able to use precompiled packages either, because of missing
symbols in shared libraries. You are completely on your own, if
you are using this. #include <disclaimer_us.h>
@
text
@d1 1
a1 1
# $MirBSD: mk.conf,v 1.28 2003/11/09 12:53:26 tg Exp $
a95 1
CKERNFLAGS=	# nothing
a97 1
CKERNFLAGS=	-ffreestanding
@


1.28
log
@Mostly... not fully...

One weekend's worth of work.

- catch up website log with changes really done till today
- add catch-up entries for wbx@@ and bsiegert@@, too
- move GNU documentation to src/gnu/doc and simplify it
- re-run autoconf on the gnu part of the tree again, to
  catch up with the GFDL-documentation removal
- provide non-GFDL-licenced as(1) and ld(1) manual pages
  XXX these are more than outdated!
- bump MirOS patchlevel
- build the system through, fixing showstoppers where
  they are encountered
- index.cgi and index.php come before index.htm,
  default.htm and index.html in httpd.conf
- speed up PHP processing
- prepare for "new" OpenBSD pkgtools (unsupported by MirBSD,
  but some MirPorts people want to play with them)
- move old weblog to CMS; update my info again
- update hRef""s in old weblogs
- move release announcements to /historic/
- copy feature list from last release announcement
  XXX need a "readible short list", or even
  XXX	a separation for the target environment
  XXX	(e.g. suits / techies / clients)
- add some recent news, so the page ain't empty
  missing:
	- about
	  + MirOS
	  + MirPorts
	- get MirOS!	(http d/l, http install, install docs)
	- relations	(to other BSD)
	  + ??? events ??? (here?)
	- history
	- older releases	(historic)
	- help pages
	  + FAQ
	  + Docs/Tuts	(hi wbx@@ here comes your place)
	    + install docs
	  + mailing lists
	- developers
	  + wbx
	  + bsiegert
	  + cnuke
	- CVSweb	(XXX need BSDadvocacy.org fix before)
	- AnonCVS	(howto; link to)
	- Links
  alternatively, change the layout? suggestions?
  why am I the only one who cares about www?
- merge development plan
- put a "project" into the miros page head
- fix cdboot Makefile
- fix gas wanting us a.out again (wut?)
  (turned out to be a must-fix in configure.in)
- stand/cdboot/NOTES merged into stand/README
- sync distrib set lists
- have TORI device (i386 libsa) always use bounce buffers
  (which, in fact, makes it succeed in loading the kernel)
  XXX kernel says it has less than 4 meg ram (degraded mode)
  XXX may be a bochs issue?
- fix random.S again
- move determining of file name / raw file flag in both
  bios/toridev.c to the end of bios/toriopen()
  => enables us to have two drivers at once
- fix disk probing for CD devices wrt BIOS driver

(eww. The tree isn't fully broken, but neither boot
 nor cdboot.bin are usable at all at the moment.
 I'll fix that ASAP.)
@
text
@d1 1
a1 1
# $MirBSD: mk.conf,v 1.27 2003/11/06 18:42:25 tg Exp $
d149 4
@


1.27
log
@* fix ftp(1) manual page
* implement -E parametre, mirroring the "epsv4" command
* document FETCH_CMD in mk.conf (use -E for certain servers)
prodded by wbx@@
@
text
@d1 1
a1 1
# $MirBSD: licence.template,v 1.6 2003/10/22 08:19:40 tg Exp $
d190 5
@


1.26
log
@o enter MirBSD #7bis RELEASE
o enable automatic execution of X-Window 'make b-r' after/within
  top-level 'make b-r' except if X-Window is contained in $(SKIPDIR)
@
text
@d1 17
a17 1
# $MirBSD: mk.conf,v 1.25 2003/10/02 22:04:42 tg Exp $
d50 4
@


1.26.2.1
log
@this is a glance of an idea for sparc support...
@
text
@d1 1
a1 1
# $MirBSD: mk.conf,v 1.26 2003/10/03 11:32:14 tg Exp $
a70 1
.if ${MACHINE} == "i386"
a74 4
.elif ${MACHINE} == "sparc"
C2OPTS=		-O2 -Wbounded
C3OPTS=		-Os -fno-align-functions -fno-strict-aliasing -static-libgcc
.endif
@


1.26.2.2
log
@CPU-specific optimizations for SPARCstation 5/20
from wbx@@
@
text
@d1 1
a1 1
# $MirBSD: mk.conf,v 1.26.2.1 2003/10/23 20:45:14 tg Exp $
d77 2
a78 3
C2OPTS=		-mcpu=supersparc -march=v8 -O2 -Wbounded
C3OPTS=		-mcpu=supersparc -march=v8 -Os -fno-align-functions \
		-fno-strict-aliasing -static-libgcc
@


1.26.2.3
log
@add a licence tag and a descriptive message to the top of this file
@
text
@d1 1
a1 20
# $MirBSD: licence.template,v 1.6 2003/10/22 08:19:40 tg Exp $
#-
# Copyright (c) 2002, 2003 Thorsten Glaser <x86@@ePost.de> for the MirOS Project
#
# Subject to these terms, everybody who obtained a copy of this work
# is hereby permitted to deal in the work without restriction inclu-
# ding without limitation the rights to use, distribute, sell, modi-
# fy, publically perform, give away, merge or sublicense it provided
# this notice is kept and the authors and contributors are given due
# credit in derivates or accompanying documents.
# This work is provided "as is" with no explicit or implicit warran-
# ties whatsoever to the maximum extend permitted by applicable law;
# in no event may an author or contributor be held liable for damage
# that is, directly or indirectly, caused by the work, even if advi-
# sed of the possibility of such damage.
#-
# This file is included by the system Makefile includes and contains
# selected default settings and modules which can be overridden, al-
# tered or activated in /etc/mk.conf.local unless $MAKECONF_OVERRIDE
# is set.
@


1.26.2.4
log
@o fix the sparc -mcpu/-mtune flags
  (these reported by wbx@@ yield invalid syntax)
o while here, make a bit more machine-independent
@
text
@d1 1
a1 1
# $MirBSD: mk.conf,v 1.26.2.3 2003/10/24 19:05:11 tg Exp $
d96 2
a97 2
C2OPTS=		-mcpu=v8 -mtune=supersparc -O2 -Wbounded
C3OPTS=		-mcpu=v8 -mtune=supersparc -Os -fno-align-functions \
d135 2
a136 4
#REL_NO_RAMDISKM=yes	# i386
#REL_NO_RAMDISKCD=yes	# i386
#REL_NO_RAMDISK=yes	# sparc
REL_NO_MINIROOT=yes	# sparc
d141 2
a142 2
#REL_NO_SLIM=yes	# i386
# Build no automatically generated "boot-only iso" during make release
@


1.26.2.5
log
@-mcpu=supersparc -mtune=v8
-mcpu=v8 -mtune=supersparc

I couldn't decide which one was faster, and wbx@@ didn't
tell me anything besides "I compiled with -march" (which
doesn't exist at all).

So I switched from the second to the first because the
code of a sample programme is 4 bytes (one insn) smaller.
@
text
@d1 1
a1 1
# $MirBSD: mk.conf,v 1.26.2.4 2003/10/24 19:43:59 tg Exp $
d96 2
a97 2
C2OPTS=		-mcpu=supersparc -mtune=v8 -O2 -Wbounded
C3OPTS=		-mcpu=supersparc -mtune=v8 -Os -fno-align-functions \
@


1.26.2.6
log
@don't build X-Window right now for MirOS BSD #7ter
(do we need it in the release?)

XXX do the other skipdirs (gcc, especially, since it
XXX is a bit weird) work correctly?
@
text
@d1 1
a1 1
# $MirBSD: mk.conf,v 1.26.2.5 2003/10/25 14:03:50 tg Exp $
d196 1
a196 1
SKIPDIR+= X-Window
@


1.26.2.7
log
@fix up / document better the $REL_NO_* variables for sparc target
@
text
@d1 1
a1 1
# $MirBSD: mk.conf,v 1.26.2.6 2003/10/26 23:05:38 tg Exp $
d140 1
a140 1
#REL_NO_KERNEL=yes	# i386,sparc
d142 1
a142 1
#REL_NO_GENERIC=yes	# i386,sparc
d145 1
a145 1
REL_NO_AUTOISO=yes	# i386,sparc
@


1.26.2.8
log
@sync

yes, this does mean this qnza thing sort of builds through,
makes release and seems to work.

details later, as well as a snapshot which should appear
on bsdadvocacy /current/sparc/ these days
@
text
@d1 1
a1 1
# $MirBSD: mk.conf,v 1.26.2.7 2003/10/27 16:38:11 tg Exp $
d137 1
a137 3
# XXX vnd break, needs to be fixed
REL_NO_RAMDISK=yes	# sparc
# XXX makefile does not exist yet
@


1.26.2.9
log
@Build both Ramdisk and Miniroot.

-
Turns out that the "vnd" problem was a problem with hardware;
it happened with a SuperSPARC 50 MHz CPU, but not with the
SuperSPARC II 75 MHz CPU I have now (though I needed a mainboard
upgrade, the old openfirmware seems to not like the new CPU and
suspects it's a Viking module (wtf?)...)

XXX ramdisk and miniroot need fixup. elf2aout I'm working on
XXX right now, but the ramdisk does't do NFS which should be
XXX done in any case, and things added for i386 (netcat, find
XXX come to mind) _could_ be possibly added to sparc as well.
@
text
@d1 1
a1 1
# $MirBSD: mk.conf,v 1.26.2.8 2003/10/28 05:28:59 tg Exp $
d137 4
a140 2
#REL_NO_RAMDISK=yes	# sparc
#REL_NO_MINIROOT=yes	# sparc
@


1.26.2.10
log
@enable 'make b-r' with DESTDIR _and_ RELEASEDIR on NFS
* not only one. both.
* enabled if uncommented (defined).
  if you want to disable, you must undefine the variables.
  just setting them empty WILL NOT HELP. I REPEAT: <repeat />

while here: check that nothing is mounted on /mnt
before starting make release
@
text
@d1 1
a1 1
# $MirBSD: mk.conf,v 1.26.2.9 2003/11/09 17:27:39 tg Exp $
a145 3
# Set DESTDIR and RELEASEDIR both on NFS (uncomment to enable)
#NFSDESTDIR=/altroot/dest	# do not use /mnt or a subpath
#NFSRELEASEDIR=/altroot/rel	# do not use only one of these
@


1.26.2.11
log
@X-Window is back on track, and in Tag: MIRBSD_7ter
@
text
@d1 1
a1 1
# $MirBSD: mk.conf,v 1.26.2.10 2003/11/09 19:33:30 tg Exp $
d199 1
a199 1
#SKIPDIR+= X-Window
@


1.26.2.11.2.1
log
@MFC: Sparc Functionality

Swapping -mcpu with -mtune args makes MirOS #7-stable run on some more
SPARCstation models (confirmed on SS5 by Waldemar Brodkorb, thanks)
while not loosing much optimisation (I hope).
@
text
@d1 1
a1 1
# $MirBSD: mk.conf,v 1.26.2.11 2003/11/15 21:19:51 tg Exp $
d96 2
a97 2
C2OPTS=		-mtune=supersparc -mcpu=v8 -O2 -Wbounded
C3OPTS=		-mtune=supersparc -mcpu=v8 -Os -fno-align-functions \
@


1.25
log
@make build
@
text
@d1 1
a1 1
# $MirBSD: mk.conf,v 1.24 2003/09/04 13:26:20 tg Exp $
d168 2
@


1.24
log
@framework for ports/lang/egcs/stable as system compiler (again),
for those who want it - or just as C++ compiler (for those who
still can't let their fingers away from C++ garbage), using
MKC_EGCC, which, if set, resets MKC_PGCC automatically, sets
$CC, $CXX and friends to the gcc port (without pathname), and
uses the COPTS intended for the gcc-3 in-tree system compiler.
@
text
@d1 1
a1 1
# $MirBSD: mk.conf,v 1.23 2003/09/02 01:46:20 tg Exp $
d126 4
d140 28
@


1.23
log
@provide MAKECONF_OVERRIDE facility:
if set (defined), mk.conf gets skipped

useful when cross-compiling
@
text
@d1 1
a1 1
# $MirBSD: mk.conf,v 1.22 2003/08/16 15:31:50 tg Exp $
d19 1
d49 3
d56 6
d65 1
@


1.22
log
@we have changelist.local, profile.local,
now we have mk.conf.local as well.
@
text
@d1 1
a1 1
# $MirBSD: mk.conf,v 1.21 2003/07/24 17:09:11 tg Exp $
d7 2
d126 1
@


1.21
log
@rename NO_CXX_INSTALLED to NO_CXX and change semantics:
if NO_CXX_INSTALLED is defined, signal that no c++ compiler is installed
if NO_CXX is defined, additionally don't compile the in-tree g++
@
text
@d1 1
a1 1
# $MirBSD: mk.conf,v 1.20 2003/07/24 15:43:16 tg Exp $
d6 7
@


1.20
log
@fix things for gcc 3.3
@
text
@d1 1
a1 1
# $MirBSD: mk.conf,v 1.19 2003/07/15 11:54:11 tg Exp $
d9 1
a9 1
NO_CXX_INSTALLED=1	# uncomment if /usr/bin/gcc,g++,c++ is not installed
@


1.19
log
@use NO_CXX_INSTALLED
@
text
@d1 1
a1 1
# $MirBSD: mk.conf,v 1.18 2003/07/15 11:13:02 tg Exp $
d38 1
a38 1
# We use egcs / gcc 3.2 (code optimizer is not that broken :)
d43 3
a45 3
CC=		/usr/local/bin/gcc
HOSTCC=		/usr/local/bin/gcc
CXX=		/usr/local/bin/c++
d51 4
d57 1
a57 1
COPTS+=		-Wbounded -march=i486 -mcpu=pentium -malign-functions=0 -O2
d60 1
a60 3
COPTS+=		-march=pentium -mcpu=athlon-xp -Os -fno-align-functions
COPTS+=		-mpreferred-stack-boundary=2 -fno-strict-aliasing -fgcse
COPTS+=		-fschedule-insns2 -fthread-jumps -static-libgcc
a61 1
COPTS+=		$(GCEXTRA)
d75 1
a75 1
#GCEXTRA?=	-pipe
@


1.18
log
@add flag: CXX_INSTALLED
currently set to NO; will be used by (at least) XFree86 and ports
@
text
@d1 1
a1 1
# $MirBSD: mk.conf,v 1.17 2003/07/07 22:51:29 tg Exp $
d9 1
a9 1
CXX_INSTALLED?=no	# is /usr/bin/gcc,g++,c++ installed?
@


1.17
log
@move out kernel make of GENERIC to distrib
add another one, SLIM kernel
@
text
@d1 1
a1 1
# $MirBSD: mk.conf,v 1.16 2003/07/07 14:38:54 tg Exp $
d8 4
a11 3
MKC_PGCC?=yes	# use /usr/bin/pgcc as $CC (NO/yes)
MKC_WARN?=no	# use a plethora of -Warnings (NO/yes/all)
MKC_DEBG?=no	# compile with -g and don't strip (NO/yes)
@


1.16
log
@add commented out flag to enable systrace policy

it's mainly intended for bulk package builds, or before
a (new) port is being committed, not for the regular user,
as it slows down the build process a lot.
@
text
@d1 1
a1 1
# $MirBSD: mk.conf,v 1.15 2003/06/30 13:56:50 tg Exp $
d92 3
@


1.15
log
@lose -Wstrict-prototypes, since it barfs at K&R code, too,
and we yet have too much unconverted in the base system
@
text
@d1 1
a1 1
# $MirBSD: mk.conf,v 1.14 2003/06/29 21:28:28 tg Exp $
d21 2
@


1.14
log
@fix, disable $SUDO by default
@
text
@d1 1
a1 1
# $MirBSD: mk.conf,v 1.13 2003/06/28 16:39:42 tg Exp $
d57 1
a57 1
COPTS+=		-Wstrict-prototypes $(GCEXTRA)
d67 1
a67 1
COPTS+=	$(WARNS) $(GWARNEXTRA)
@


1.13
log
@prepare cvs import (do not use the new files yet)
remove yp, bind from changelist
@
text
@d1 1
a1 1
# $MirBSD: mk.conf,v 1.12 2003/06/19 15:04:09 tg Exp $
d13 1
a13 1
SUDO?=sudo
d50 1
a50 2
COPTS+=		-Wbounded -Wformat -Wwrite-strings -Wstrict-prototypes -W
COPTS+=		-march=i486 -mcpu=pentium -malign-functions=0 -O2 $(GCEXTRA)
a52 1
COPTS+=		-Wwrite-strings -Wstrict-prototypes -W # doesnt have format checker
d55 1
a55 1
COPTS+=		-fschedule-insns2 -fthread-jumps -static-libgcc $(GCEXTRA)
d57 1
d61 3
a63 3
WARNS+=		-Wall -Wcast-qual -Wcast-align -Wfloat-equal -Wconversion
WARNS+=		-Waggregate-return -Wnested-externs -Winline -Wformat=2
WARNS+=		-Wuninitialized -Wsequence-point -Wshadow -Wpadded -Wpacked
d65 1
a65 1
WARNS+=		-Wsystem-headers -Wunrechable-code -Wmissing-declarations
d67 1
a67 1
COPTS+=		$(WARNS) $(GWARNEXTRA)
@


1.12
log
@Add SENDMAIL_WANT_SASL logic

From: Markus Hennecke <hennecke@@web.de>
@
text
@d1 1
a1 1
# $MirBSD: mk.conf,v 1.11 2003/05/19 17:05:37 tg Exp $
d50 1
d54 1
d62 1
a62 1
WARNS+=		-Wall -Wstrict-prototypes -Wcast-qual -Wcast-align
d64 1
a64 2
WARNS+=		-Wuninitialized -Wsequence-point -Wshadow -Wpadded
WARNS+=		-W -Wfloat-equal -Wwrite-strings -Wconversion -Wpacked
a86 4
#REL_NO_RAMDISK=yes
REL_NO_RAMDISKA=yes
REL_NO_RAMDISKB=yes
REL_NO_RAMDISKC=yes
@


1.11
log
@implement a RAMDISKM (floppyM33.fs)
this will be provided with MirBSD #5 (interim)
no other floppy will be included, because I don't want
to remove options there more than necessary; additionally,
the ramdisk_M is not restricted by OpenBSD compatibility,
provides softupdates, wireless, networking and other fine
stuff, and is specially tuned. The kernel config file is
based upon GENERIC / RAMDISK_CD which eases maintainance.
The userland stuff includes pppd and nfs, which should be
enough as well.
@
text
@d1 1
a1 1
# $MirBSD: mk.conf,v 1.10 2003/05/17 19:40:11 tg Exp $
d101 11
@


1.10
log
@want to get at least bsd.rd ready for a snapshot
@
text
@d1 1
a1 1
# $MirBSD: mk.conf,v 1.9 2003/05/13 18:46:13 tg Exp $
d90 1
@


1.9
log
@whoops, forgot to adjust the COPTS according to CC
@
text
@d1 1
a1 1
# $MirBSD: mk.conf,v 1.8 2003/05/13 18:36:00 tg Exp $
d86 4
a89 4
REL_NO_RAMDISK=yes
#REL_NO_RAMDISKA=yes
#REL_NO_RAMDISKB=yes
#REL_NO_RAMDISKC=yes
@


1.8
log
@modularize mk.conf a bit more
put some things out, into bsd.own.mk,
since they're common to MirBSD
@
text
@d1 1
a1 1
# $MirBSD: mk.conf,v 1.7 2003/05/12 22:03:05 tg Exp $
d48 9
a56 5
#CKERNFLAGS=	-ffreestanding
#COPTS+=		-march=pentium -mcpu=athlon-xp -Os -fno-align-functions
#COPTS+=		-mpreferred-stack-boundary=2 -fno-strict-aliasing -fgcse
#COPTS+=		-fschedule-insns2 -fthread-jumps -static-libgcc $(GCEXTRA)
COPTS+=		-O2
@


1.7
log
@temporarily switch to:
 gcc 2.95.3
 nearly no "special" optimization

just in case... gcc 3.x stinks as well, btw
@
text
@d1 1
a1 1
# $MirBSD: mk.conf,v 1.6 2003/04/24 08:47:24 tg Exp $
d4 7
a10 2
.if !defined(DONE_MKCONF)
DONE_MKCONF=	# defined
d25 1
a25 1
#STATIC= #defined
d36 8
a43 3
#CC=		/usr/local/bin/gcc
#HOSTCC=		/usr/local/bin/gcc
#CXX=		/usr/local/bin/c++
a45 2
CC=		pgcc
HOSTCC=		pgcc
d55 1
d60 1
a60 2
.if defined(WARNALL) && ${WARNALL:L} != "no"
.if ${WARNALL:L} == "all"
d72 1
a72 5
NOLINT=yes
# No Native Language Support in OpenBSD or even MirBSD!
NONLS=yes
# Who uses gprof anyways?
NOPROFILE=yes
d93 1
a93 1
.if defined(DEBG) && ${DEBG:L} != "no"
@


1.6
log
@i'm lazy to type; SUDO=sudo may be default now
@
text
@d1 1
a1 1
# $MirBSD: mk.conf,v 1.5 2003/04/14 18:52:06 tg Exp $
d31 3
a33 3
CC=		/usr/local/bin/gcc
HOSTCC=		/usr/local/bin/gcc
CXX=		/usr/local/bin/c++
d36 2
d40 5
a44 4
CKERNFLAGS=	-ffreestanding
COPTS+=		-march=pentium -mcpu=athlon-xp -Os -fno-align-functions
COPTS+=		-mpreferred-stack-boundary=2 -fno-strict-aliasing -fgcse
COPTS+=		-fschedule-insns2 -fthread-jumps -static-libgcc $(GCEXTRA)
d78 1
a78 1
#REL_NO_RAMDISK=yes
@


1.5
log
@some pedantic warnings that can be used...
@
text
@d1 1
a1 1
# $MirBSD: mk.conf,v 1.4 2003/04/12 13:07:45 tg Exp $
d6 3
@


1.4
log
@additional debugging
@
text
@d1 1
a1 1
# $MirBSD: mk.conf,v 1.3 2003/04/12 13:01:13 tg Exp $
d5 1
a5 1
DONE_MKCONF=
d17 1
a17 1
#STATIC=
d39 12
@


1.3
log
@want debugging support? got it
@
text
@d1 1
a1 1
# $MirBSD: mk.conf,v 1.2 2003/03/31 16:30:29 tg Exp $
d72 1
a72 1
COPTS+=-g
@


1.2
log
@Since the tree is unbroken, the testing phase is over.
This could be a good time to build the ramdisks again.

I'm unclear about the auto-ISO though.
@
text
@d1 1
a1 1
# $MirBSD: mk.conf,v 1.1 2003/03/23 21:47:59 tg Exp $
d69 6
@


1.1
log
@Merge MirBSD-old entirely
Remove krb, yp, afs, GPL'd stuff in kernel
Adjust some other stuff

Not to be compiled yet...
@
text
@d1 1
a1 1
# $MirBSD: obsd.tygs,v 1.44 2003/03/22 22:33:30 tg Exp $
d60 1
a60 1
REL_NO_RAMDISK=yes
@

