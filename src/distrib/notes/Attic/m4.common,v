head	1.23;
access;
symbols
	MIRBSD_7quater:1.10.2.2.2.1
	cvs-200405160640:1.1.1.5
	cvs-200401271800:1.1.1.4
	cvs-200401261630:1.1.1.4
	cvs-200401021645:1.1.1.4
	MIRBSD_7_ALPHA:1.10.2.2.0.4
	MIRBSD_7:1.10.2.2.0.2
	cvs-200312222040:1.1.1.4
	MIRBSD_7ter:1.10.2.2
	MIRBSD_7_DEV:1.10.0.2
	cvs-200310020700:1.1.1.3
	cvs-200309271030:1.1.1.3
	cvs-200309251530:1.1.1.3
	cvs-200308302005:1.1.1.3
	cvs-200308171200:1.1.1.3
	ctm-3496:1.1.1.2
	ctm-3449:1.1.1.2
	ctm-3437:1.1.1.2
	cvs-200307191805:1.1.1.2
	ctm-3425:1.1.1.2
	cvs-200307091500:1.1.1.2
	cvs-200307072125:1.1.1.2
	ctm-3389:1.1.1.2
	cvs-200307030815:1.1.1.2
	cvs-200307021520:1.1.1.2
	cvs-200306291430:1.1.1.2
	ctm-3341:1.1.1.2
	MIRBSD_5:1.5
	cvs-200306082100:1.1.1.2
	ctm-3316:1.1.1.2
	ctm-3272:1.1.1.2
	ctm-3264:1.1.1.2
	cvs-200305071630:1.1.1.2
	MIRBSD_4:1.3
	ctm-3203:1.1.1.2
	cvs-20030410-1130:1.1.1.2
	ctm-3155:1.1.1.2
	ctm-3132:1.1.1.1
	openbsd:1.1.1;
locks; strict;
comment	@# @;


1.23
date	2004.09.15.18.00.55;	author tg;	state dead;
branches;
next	1.22;

1.22
date	2004.08.13.16.43.04;	author tg;	state Stab;
branches;
next	1.21;

1.21
date	2004.08.13.14.35.04;	author tg;	state Exp;
branches;
next	1.20;

1.20
date	2004.07.15.16.00.10;	author tg;	state Exp;
branches;
next	1.19;

1.19
date	2004.05.21.21.10.48;	author tg;	state Exp;
branches;
next	1.18;

1.18
date	2004.03.12.00.44.05;	author tg;	state Exp;
branches;
next	1.17;

1.17
date	2004.03.09.21.10.39;	author tg;	state Exp;
branches;
next	1.16;

1.16
date	2004.01.23.22.45.26;	author tg;	state Exp;
branches;
next	1.15;

1.15
date	2004.01.23.22.44.19;	author tg;	state Exp;
branches;
next	1.14;

1.14
date	2004.01.23.22.16.58;	author tg;	state Exp;
branches;
next	1.13;

1.13
date	2004.01.03.05.45.47;	author tg;	state Exp;
branches;
next	1.12;

1.12
date	2003.12.23.13.42.02;	author tg;	state Exp;
branches;
next	1.11;

1.11
date	2003.12.17.18.00.07;	author tg;	state Exp;
branches;
next	1.10;

1.10
date	2003.09.28.18.50.52;	author tg;	state Exp;
branches
	1.10.2.1;
next	1.9;

1.9
date	2003.09.28.15.05.03;	author tg;	state Exp;
branches;
next	1.8;

1.8
date	2003.09.03.13.42.48;	author tg;	state Exp;
branches;
next	1.7;

1.7
date	2003.08.17.18.55.51;	author tg;	state Exp;
branches;
next	1.6;

1.6
date	2003.07.06.20.20.59;	author tg;	state Exp;
branches;
next	1.5;

1.5
date	2003.06.06.20.26.09;	author tg;	state Exp;
branches;
next	1.4;

1.4
date	2003.06.02.16.25.29;	author tg;	state Exp;
branches;
next	1.3;

1.3
date	2003.03.29.21.33.30;	author tg;	state Exp;
branches;
next	1.2;

1.2
date	2003.03.23.21.47.55;	author tg;	state Exp;
branches;
next	1.1;

1.1
date	2003.03.22.17.35.11;	author tg;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2003.03.22.17.35.11;	author tg;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	2003.03.29.19.06.56;	author tg;	state Exp;
branches;
next	1.1.1.3;

1.1.1.3
date	2003.08.17.12.53.37;	author tg;	state Exp;
branches;
next	1.1.1.4;

1.1.1.4
date	2003.12.22.20.23.15;	author tg;	state Exp;
branches;
next	1.1.1.5;

1.1.1.5
date	2004.05.16.07.26.14;	author tg;	state Exp;
branches;
next	;

1.10.2.1
date	2003.11.15.20.21.54;	author tg;	state Exp;
branches;
next	1.10.2.2;

1.10.2.2
date	2003.11.20.13.41.33;	author tg;	state Exp;
branches
	1.10.2.2.2.1;
next	;

1.10.2.2.2.1
date	2004.06.02.18.53.38;	author tg;	state Exp;
branches;
next	;


desc
@@


1.23
log
@remove the openbsd-style installation documentation
Benny will provide some new, better, later.
@
text
@dnl	$MirBSD: src/distrib/notes/m4.common,v 1.22 2004/08/13 16:43:04 tg Stab $
dnl	$OpenBSD: m4.common,v 1.58 2004/05/03 15:18:18 drahn Exp $
dnl
dnl Copyright (c) 2004 Thorsten Glaser <x86@@ePost.de>
dnl Copyright (c) 2004 Todd T. Fries <todd@@OpenBSD.org>
dnl
dnl Permission to use, copy, modify, and distribute this software for any
dnl purpose with or without fee is hereby granted, provided that the above
dnl copyright notice and this permission notice appear in all copies.
dnl
dnl THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
dnl WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
dnl MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
dnl ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
dnl WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
dnl ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
dnl OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
dnl
dnl
dnl a simple MACHINE->MACHINE_ARCH converter.
define(`MACHINE_ARCH',
`ifelse(
MACHINE,amiga,m68k,
MACHINE,cats,arm,
MACHINE,hp300,m68k,
MACHINE,mac68k,m68k,
MACHINE,macppc,powerpc,
MACHINE,mvme68k,m68k,
MACHINE,mvme88k,m88k,
MACHINE,mvmeppc,powerpc,
MACHINE,sun3,m68k,
MACHINE)')dnl
dnl simulate an include path with a macro 'includeit'.
define(`includeit',`sinclude('INCLUDE/`$1)sinclude('INCLUDE/../`$1)')dnl
dnl
dnl Change the quote.  There were too many `word' situations that would have
dnl to have been changed to ``word''.  The quote gets changed to {:- and -:}.
dnl It can really be anything, but it needs to be unique.
dnl
changequote(`{:-',`-:}')dnl
dnl
dnl
dnl TopPart
dnl Describes the beginning of the distribution files listing.
dnl
define({:-TopPart-:},
{:-The MACHINE-specific portion of the MirBSD OSREV release is found in the
"MACHINE" subdirectory of the distribution.  That subdirectory is laid
out as follows:

/MirOS/v{:--:}OSrev/bsd/MACHINE/
	INSTALL.MACHINE	Installation notes; this file.

	CKSUM, MD5	Output of the cksum(1) and md5(1) programs,
			usable for verification of the correctness of
			downloaded files.
	RMD160		Output of the rmd160(1) programme to verify
	RMD160.asc	the integrity; comes with detached PGP sig.-:})dnl
dnl
dnl Conventions when editing:
dnl o base{:--:}OSrev is required because if it appears as baseOSrev the
dnl   defined value OSrev does not get substituted.  Same goes for MACHINE,
dnl   MACHINE_ARCH and OSREV, assigned as cmd line parameters to m4 in the
dnl   Makefile.
dnl o {:-include-:} and {:-define-:} is required as include and define are both m4
dnl   reserved words that evaluate to NULL if not quoted.
dnl
dnl
dnl ========== Distribution files description
dnl (usually used by arch/contents)
dnl
dnl showsize(gzipped size, uncompressed size)
dnl
dnl If both the 1st and the 2nd argument exist, show the sizes.
dnl Otherwise, evaluate to NULL.
dnl showsize() must not be on a new line.  It creates its own new line if
dnl there are sizes to display, otherwise, evaluates to NULL
dnl
dnl XXX fix to allow - empty 1st arg, for files uncompressed
dnl                  - empty 2nd arg, for files where only compressed size
dnl                    is known
dnl
define({:-showsize-:},{:-ifelse(X$1,X,,X$2,X,,X,X,{:-
		 [ $1 MB gzipped, $2 MB uncompressed ]-:})-:})dnl
dnl
dnl
dnl
dnl DistributionDescription( number of sets )
dnl Header paragraph before the individual sets descriptions.
dnl
define({:-DistributionDescription-:},
{:-The MirBSD/MACHINE binary distribution sets contain the binaries which
comprise the MirBSD OSREV release for MACHINE systems.  There are $1
binary distribution sets.  Please be aware that the sizes shown below are
only approximate, especially the uncompressed values, and the exact values
depend on the filesystem.  The binary distribution sets can be found in
the "MACHINE" subdirectory of the MirBSD OSREV distribution tree,
and are as follows:-:})dnl
dnl
dnl
dnl OpenBSDbase( compressed size, uncompressed size [, shared])
dnl Describes baseXX.ngz. Put ``shared'' as third argument if shared libraries
dnl are available.
dnl
define({:-OpenBSDbase-:},
{:-	base{:--:}OSrev	 The MirBSD/MACHINE OSREV base binary distribution.  You
		 MUST install this distribution set.  It contains the
		 base MirOS BSD operating system.
		 ifelse(X$3,Xshared,{:-It includes shared library support, and excludes
		 everything described below.-:},{:-It excludes everything described below.-:})showsize($1,$2)-:})dnl
dnl
dnl
dnl OpenBSDetc( compressed size, uncompressed size [, noupgrade])
dnl Describes etcXX.ngz.
dnl
define({:-OpenBSDetc-:},
{:-	etc{:--:}OSrev	 This distribution set contains the system configuration
		 files that reside in /etc and in several other places.
		 This set MUST be installed{:--:}ifelse(X$3,X,{:- if you are installing the
		 system from scratch, but should NOT be used if you are
		 upgrading. (If you are upgrading, it's recommended that
		 you get a copy of this set and CAREFULLY upgrade your
		 configuration files by hand; see the section named "Upgrading
		 a previously-installed MirOS BSD System" below.)-:},.)showsize($1,$2)-:})dnl
dnl
dnl
dnl OpenBSDxetc( compressed size, uncompressed size )
dnl Describes xetcXX.ngz.
dnl
define({:-OpenBSDxetc-:},
{:-	xetc{:--:}OSrev	 This set includes all of the X-Window system's
		 configuration files in /etc.showsize($1,$2)-:})dnl
dnl
dnl
dnl OpenBSDxfree( compressed size, uncompressed size )
dnl Describes xfreeXX.ngz.
dnl
define({:-OpenBSDxfree-:},
{:-	xfree{:--:}OSrev	 This set includes the whole of the XFree86
		 base distribution - libraries, servers and fonts.showsize($1,$2)-:})dnl
dnl
dnl
dnl Floppy and bootable cdrom stuff
dnl
define({:-OpenBSDfloppy-:},
{:-	floppy{:--:}OSrev.fs	The standard MACHINE boot and installation floppy;
			see below.-:})dnl
dnl
define({:-OpenBSDcd-:},
{:-	cd{:--:}OSrev.iso	A miniroot filesystem image suitable to be used
			as a bootable CD-ROM image; otherwise similar to
			the bsd.rd image above.-:})dnl
dnl
dnl OpenBSDfloppydesc(number of floppies, Article, plural)
dnl
dnl Describe what the boot floppy/ies contain and how they may be used.
dnl Use as: OpenBSDfloppydesc(single,The) or OpenBSDfloppydesc(three,Each,s)
define({:-OpenBSDfloppydesc-:},
{:-Bootable installation/upgrade floppy image$3:

	The $1 floppy image$3 can be copied to a floppy using rawrite.exe,
	ntrw.exe, or `dd', as described later in this document.
	$2 floppy image is a bootable install floppy which can be used
	both to install and to upgrade MirBSD to the current version.
	It is also useful for maintenance and disaster recovery.-:})dnl
dnl
dnl
dnl A few extra straightforward macros describing more components.
dnl
define({:-OpenBSDdistsets-:},
{:-	*.ngz		MACHINE binary distribution sets; see below.-:})dnl
dnl
define({:-OpenBSDbsd-:},
{:-	bsd		A stock GENERIC MACHINE kernel which will be
			installed on your system during the install.-:})dnl
dnl
define({:-OpenBSDrd-:},
{:-	bsd.rd		A compressed RAMDISK kernel; the embedded
			filesystem contains the installation tools.
			Used for simple installation from a pre-existing
			system.-:})dnl
dnl
define({:-OpenBSDminiroot-:},
{:-	miniroot{:--:}OSrev.fs	A miniroot filesystem image to be used if you
			for some reason can't or don't want to use the
			ramdisk installation method.-:})dnl
dnl
dnl
dnl ========== Various Install Instructions
dnl (usually used by arch/install)
dnl
dnl Short or longer installation introduction. The longer version warns
dnl about disk geometry hell.
define({:-OpenBSDInstallShortPrelude-:},
{:-Installing MirBSD is a relatively complex process, but if you have
this document in hand and are careful to read and remember the
information which is presented to you by the install program, it
shouldn't be too much trouble.-:})dnl
dnl
define({:-OpenBSDInstallPrelude-:},
{:-OpenBSDInstallShortPrelude

Before you begin, you should know the geometry of your hard disk, i.e.
the sector size (note that sector sizes other than 512 bytes are not
currently supported), the number of sectors per track, the number of
tracks per cylinder (also known as the number of heads), and the
number of cylinders on the disk.  The MirBSD kernel will try to
discover these parameters on its own, and if it can it will print them
at boot time.  If possible, you should use the parameters it prints.
(You might not be able to because you're sharing your disk with
another operating system, or because your disk is old enough that the
kernel can't figure out its geometry.)-:})dnl
dnl
dnl OpenBSDInstallPart2
dnl Describes the beginning of the installation process, once the
dnl installation media is ready.
define({:-OpenBSDInstallPart2-:},
{:-You should now be ready to install MirBSD.

The following is a walk-through of the steps you will take while
getting MirBSD installed on your hard disk.  If any question has a
default answer, it will be displayed in brackets ("[]") after the
question.  If you wish to stop the installation, you may hit Control-C
at any time, but if you do, you'll have to begin the installation
process again from scratch.  Using Control-Z to suspend the process
may be a better option, or at any prompt enter '!' to get a shell,
from which 'exit' will return you back to that prompt (no refresh
of the prompt though).-:})dnl
dnl
dnl OpenBSDBootMsgs
dnl Describes the boot of the ramdisk.
define({:-OpenBSDBootMsgs-:},
{:-	Once the kernel has loaded, you will be presented with the
	MirBSD kernel boot messages.  You will want to read them
	to determine your disk's name and geometry.  Its name will
	be something like "sd0" or "wd0" and the geometry will be
	printed on a line that begins with its name.  As mentioned
	above, you will need your disk's geometry when creating
	MirBSD partitions.  You will also need to know the device
	name to tell the install tools what disk to install on. If
	you cannot read the messages as they scroll by, do not
	worry -- you can get at this information later inside the
	install program.-:})dnl
dnl
dnl OpenBSDInstallPart3(alternate common disk type description)
dnl Describes the beginning of the bsd.rd operation
dnl
define({:-OpenBSDInstallPart3-:},
{:-	After entering the terminal type you will be asked whether you
	wish to do an "(I)nstall" or an "(U)pgrade".  Enter 'I' for a
	fresh install or 'U' to upgrade an existing installation.

	Upgrading MirBSD is only supported as a convenience, and is
	not officially supported whatsoever.

	You will be presented with a welcome message and asked if
	you really wish to install (or upgrade).  Assuming you
	answered yes, the install program will then tell you which
	disks of that type it can install on, and ask you which it
	should use.  The name of the disk is typically "sd0" for
	SCSI drives$2.
	Reply with the name of your disk.-:})dnl
dnl
dnl OpenBSDInstallPart4(mention about other OS partitions)
dnl Describes the disklabel operation
dnl
define({:-OpenBSDInstallPart4-:},
{:-	Next the disk label which defines the layout of the MirBSD
	file systems must be set up.  The installation script will
	invoke an interactive editor allowing you to do this.  Note
	that partition 'c' inside this disk label should ALWAYS
	reflect the entire disk, including any non-MirBSD portions.
	If you are labeling a new disk, you will probably start
	out with an 'a' partition that spans the disk.  In this
	case you should delete 'a' before adding new partitions.
	The root file system should be in partition 'a', and swap
	is usually in partition 'b'.$1

	It is recommended that you create separate partitions for /usr,
	/tmp, and /var, and if you have room for it, one for /home.  In
	doing this, remember to skip 'c', leaving it as type "unused".
	For help in the disk label editor, enter '?' or 'M' to view the
	manual page (see the info on the ``-E'' flag).-:})dnl
dnl
dnl OpenBSDInstallPart5
dnl More disklabel notes(disk)
define({:-OpenBSDInstallPart5-:},
{:-	The swap partition (usually 'b') should have a type of "swap", all
	other native MirBSD partitions should have a type of "4.2BSD".
	Block and fragment sizes are usually 8192 and 1024 bytes, but can
	also be 4096 and 512 or even 16384 and 2048 bytes.
	Some strange Architectures' boot programmes are not capable of
	handling a block size which differs from the default shown above.
	The newfs(8) programme does not care about the values stored in
	the disklabel by default.

	The install program will now label your disk and ask which file
	systems should be created on which partitions.  It will auto-
	matically select the 'a' partition to be the root file system.
	Next it will ask for which disk and partition you want a file
	system created on.  This will be the same as the disk name (e.g.
	"$1") with the letter identifying the partition (e.g. "d")
	appended (e.g. "$1d").  Then it will ask where this partition is
	to be mounted, e.g. /usr.  This process will be repeated until
	you enter "done".

	At this point you will be asked to confirm that the file system
	information you have entered is correct, and given an opportunity
	to change the file system table.  Next it will create the new file
	systems as specified, OVERWRITING ANY EXISTING DATA.  This is the
	point of no return.-:})dnl
dnl
dnl OpenBSDInstallNet(other installation sources,hasfloppy)
dnl Setting up the network
define({:-OpenBSDInstallNet-:},
{:-	After all your file systems have been created, the install program
	will give you an opportunity to configure the network.  The network
	configuration you enter (if any) can then be used to do the install
	from another system using HTTP or FTP, and will also be the
	configuration used by the system after the installation is complete.

	If you select to configure the network, the install program will
	ask you for the name of your system and the DNS domain name to use.
	Note that the host name should be without the domain part, and that
	the domain name should NOT {:-include-:} the host name part.

	Next the system will give you a list of network interfaces you can
	configure.  For each network interface you select to configure, it
	will ask for the IP address to use, the symbolic host name to use,
	the netmask to use, and any interface-specific flags to set. The
	interface-specific flags are usually used to determine which media
	the network card is to use.  Typically no media flags are required
	as autodetection normally works, but you will be prompted with a
	list of the acceptable media flags, and asked if you want to provide
	any.  In doubt, do not enter any media flags; or you can refer to
	the manual page for your interface for the appropriate flags.

	After all network interfaces have been configured, the install pro-
	gram will ask for a default route and IP address of the primary
	name server to use.  You will also be presented with an opportunity
	to edit the host table.

	At this point you will be allowed to edit the file system table
	that will be used for the remainder of the installation and that
	will be used by the finished system, following which the new file
	systems will be mounted to complete the installation.

        After these preparatory steps have been completed, you will be
        able to extract the distribution sets onto your system.  There
        are several install methods supported; FTP, HTTP, tape,
	$1or a local disk partition.
	ifelse(X$2,X,,{:-Note that installation from floppies is not currently supported.-:})-:})dnl
dnl
dnl Notes for various installation methods.
dnl
define({:-OpenBSDFTPInstall-:},
{:-	To install via FTP:
		To begin an FTP install you will need the following
		pieces of information.  Don't be daunted by this list;
		the defaults are sufficient for most people.
		    1) Proxy server URL if you are using a URL-based
		       FTP proxy (squid, CERN FTP, Apache 1.2 or higher).
		       You need to {:-define-:} a proxy if you are behind a
		       firewall that blocks outgoing FTP (assuming you
		       have a proxy available to use).
		    2) Do you need to use active mode FTP?  By default,
		       ftp will attempt to use passive mode and fall
		       back to an active connection if the server does
		       not support passive mode.  You only need to enable
		       this option if you are connecting to a buggy FTP
		       daemon that implements passive FTP incorrectly.
		       Note that you will not be asked about active
		       FTP if you are using a proxy.
		    3) The IP address (or hostname if you enabled
		       DNS earlier in the install) of an FTP server
		       carrying the MirOS OSREV distribution.
		       If you don't know, just hit return when
		       asked if you want to see a list of such hosts.
		    4) The FTP directory holding the distribution sets.
		       The default value of mbsd7 (or similar) is almost
		       always correct. This value MUST not contain leading
		       or trailing slashes!
		    5) The login and password for the FTP account.
		       You will only be asked for a password for
		       non-anonymous FTP.

		For instructions on how to complete the installation via
		FTP, see the section named "Common URL installations" below.-:})dnl
dnl
define({:-OpenBSDHTTPInstall-:},
{:-	To install via HTTP:
		To begin an HTTP install you will need the following
		pieces of information:
		    1) Proxy server URL if you are using a URL-based
		       HTTP proxy (squid, CERN FTP, Apache 1.2 or higher).
		       You need to {:-define-:} a proxy if you are behind a
		       firewall that blocks outgoing HTTP connections
		       (assuming you have a proxy available to use).
		    2) The IP address (or hostname if you enabled
		       DNS earlier in the install) of an HTTP server
		       carrying the MirOS OSREV distribution.
		       If you don't know, just hit return when
		       asked if you want to see a list of such hosts.
		    3) The directory holding the distribution sets.
		       There is no standard location for this;
		       You should use the directory specified
		       along with the server in the list of official
		       HTTP mirror sites that you received in step 3.

		For instructions on how to complete the installation via
		HTTP, see the section named "Common URL installations" below.-:})dnl
dnl
dnl For arches where you can create a boot tape, $1 can be set as the
dnl file index of the first set, after the boot files.
define({:-OpenBSDTAPEInstall-:},
{:-	To install from tape:
		In order to install from tape, the distribution sets to be
		installed must have been written to tape previously, either
		in tar format or gzip-compressed tar format.

		You will also have to identify the tape device where the
		distribution sets are to be extracted from.  This will
		typically be "nrst0" (no-rewind, raw interface).

		Next you will have to provide the file number of the set
		that is to be extracted.  Note that the file number starts
		at 1, which is the first file written to the tape{:--:}ifelse(X$1,X,,{:-, unless
		you have created a bootable tape, in which case the file
		number starts at $1-:}).

		The install program will not automatically detect whether
		an image has been compressed, so it will ask for that
		information before starting the extraction.-:})dnl
dnl
define({:-OpenBSDCDROMInstall-:},
{:-	To install from CD-ROM:
		When installing from a CD-ROM, you will be asked which
		device holds the distribution sets.  This will typically
		be "cd0".  Next you will be asked which partition on the
		CD-ROM the distribution is to be loaded from.  This is
		normally partition "a".

		Next you will have to identify the file system type that
		has been used to create the distribution on the CD-ROM,
		this can be either FFS or ISO CD9660.  The MirBSD CD-ROM
		distribution uses the CD9660 format.

		You will also have to provide the relative path to the
		directory on the CD-ROM which holds the distribution, for
		the MACHINE this is "OSREV/bsd/MACHINE".

		For instructions on how to complete the installation from
		the CD-ROM distribution, see the section named "Common
		file system installations" below.-:})dnl
dnl
define({:-OpenBSDNFSInstall-:},
{:-	To install from an NFS mounted directory:
		When installing from an NFS-mounted directory, you must
		have completed network configuration above, and also
		set up the exported file system on the NFS server in
		advance.

		First you must identify the IP address of the NFS server
		to load the distribution from, and the file system the
		server expects you to mount.

		The install program will also ask whether or not TCP
		should be used for transport (the default is UDP).  Note
		that TCP only works with newer NFS servers.

		You will also have to provide the relative path to the
		directory on the file system where the distribution sets
		are located.  Note that this path should not be prefixed
		with a '/'.

		For instructions on how to complete the installation from
		the CD-ROM distribution, see the section named "Common
		file system installations" below.-:})dnl
dnl
dnl OpenBSDDISKInstall({:-<additional disk> or-:},   <-- $1
dnl		       {:-only -:},                  <-- $2
dnl                    {:- or <other fs name>-:})    <-- $3
dnl
dnl Note the spacing used above.  It is crucial to keep words from running
dnl together in the actual document.
dnl
dnl Arg 1 is optional.
dnl Choices for args 2 & 3:
dnl - OpenBSDDISKInstall(,{:-only -:})
dnl    (only have 1 fs possible, ffs)
dnl - OpenBSDDISKInstall(,,{:-or <insert some other filesystem name>-:})
dnl    (have another fs possible for reading during disk install)
dnl
dnl see $1, $2, and $3 below for further usage information.
dnl
define({:-OpenBSDDISKInstall-:},
{:-	To install from a local disk partition:
		When installing from a local disk partition, you will
		first have to identify which disk holds the distribution
		sets.  This is normally $1"sdN", where N is a number
		0 through 9.  Next you will have to identify the partition
		within that disk that holds the distribution; this is a
		single letter between 'a' and 'p'.

		You will also have to identify the type of file system
		residing in the partition identified.  Currently, you can
		$2{:--:}install from partitions that have been formatted as the
		Berkeley fast file system (ffs)$3.

		You will also have to provide the relative path to the
		directory on the file system where the distribution sets
		are located.  Note that this path should not be prefixed
		with a '/'.

		For instructions on how to complete the installation from
		a local disk partition, see the next section.-:})dnl
dnl
dnl For arches where you can install from NFS, $1 should be set to "NFS",
dnl otherwise there should be no parameter.
define({:-OpenBSDCommonFS-:},
{:-	Common file system installations:
		The following instructions are common to installations
		from mounted disk partitions{:--:}ifelse(X$1,XNFS,{:-, NFS mounted directories and
		CD-ROMs-:},{:- and CD-ROMs-:}).

		A list of available distribution sets will be listed.
		You may individually select distribution sets to install
		or enter `all' to install all of the sets (which is what
		most users will want to do).  You may also enter `list'
		to get a file list or `done' when you are done selecting
		distribution sets.  You may also use wildcards in place of
		a file name, e.g. `*.ngz' or even `base*|comp*'.  It is
		also possible to enter an arbitrary filename and have it
		treated as a file set.

		Once you have selected the file sets you want to install
		and entered `done' you will be prompted to verify that
		you really do want to extract file sets.  Assuming you
		acquiesce, the files will begin to extract.  If not, you
		will be given the option of installing sets via one of
		the other install methods.-:})dnl
dnl
define({:-OpenBSDCommonURL-:},
{:-	Common URL installations:
		Once you have entered the required information, the
		install program will fetch a file list and present
		a list of all the distribution sets that were found
		in the specified directory.  (If no valid sets were found,
		you will be notified and given the option of unpacking
		any gzipped tar files found or getting a file list if
		none were found.)

		At this point you may individually select distribution
		sets to install or enter `all' to install all of the
		sets (which is what most users will want to do).  You
		may also enter `list' to get a file list or `done' when
		you are done selecting distribution sets.  You may also
		use wildcards in place of a file name, e.g. `*.ngz' or
		even `base*|comp*'.  It is also possible to enter an
		arbitrary filename and have it treated as a file set.

		Once you have selected the file sets you want to install
		and entered `done' you will be prompted to verify that
		you really do want to download and install the files.
		Assuming you acquiesce, the files will begin to download
		and unpack.  If not, you will be given the option of
		installing sets via one of the other install methods.


	When all the selected distribution sets has been extracted, you
	will be allowed to select which time zone your system will be
	using, all the device nodes needed by the installed system will
	be created for you, and the file systems will be unmounted.  For
	this to work properly, it is expected that you have installed
	at least the "base{:--:}OSrev", "etc{:--:}OSrev", and "bsd" distribution sets.-:})dnl
dnl
define({:-OpenBSDCongratulations-:},
{:-Congratulations, you have successfully installed MirBSD OSREV.  When you
reboot into MirBSD, you should log in as "root" at the login prompt.
You should create yourself an account and protect it and the "root" account
with good passwords.  You should have got a mail from the install program we
recommend you to read, it contains answers to basic questions you might
have about MirBSD (like setting up your system, installing packages, getting
more information about MirBSD, sending in your dmesg output and more).
This you can do by running

	mail

and then just enter "more 1" to get the first message.  You quit mail by
entering "q".

Some of the files in the MirBSD OSREV distribution might need to be
tailored for your site.  We recommend you run:

	man afterboot

which will tell you about a bunch of the files needing to be reviewed.
If you are unfamiliar with UN*X-like system administration, it's
recommended that you buy a book that discusses it.


Please read the root mail for more information on MirBSD.-:})dnl
dnl
dnl
dnl ========== Upgrade instructions
dnl (usually used by arch/upgrade)
dnl
dnl OpenBSDUpgrade({:-<list of available boot methods>-:})dnl
dnl Parameter is optional.
define({:-OpenBSDUpgrade-:},
{:-Warning! Upgrades to MirBSD OSREV are currently only supported from the
immediately previous release. Sometimes, you might be able to upgrade from
the current OpenBSD to the current MirBSD release. However, the MirOS team
does not officially support upgrades at all - a fresh installation is almost
always highly recommended. The upgrade process will also work with older
releases, but might not execute some migration tasks that would be necessary
for a proper upgrade.  The best solution, whenever possible, is to backup
your data and reinstall from scratch.

To upgrade MirBSD OSREV from a previous version, start with the general
instructions in the section "Installing MirBSD".

Boot from $1.
When prompted, select the (U)pgrade option rather than the (I)nstall
option at the prompt in the install process.

The upgrade script will ask you for the existing root partition, and
will use the existing filesystems defined in /etc/fstab to install the
new system in.  It will also use your existing network parameters.

From then, the upgrade procedure is very close to the installation
procedure described earlier in this document.  Note that the upgrade
procedure will not let you pick the ``etc{:--:}OSrev.ngz'' set, so as to
preserve your files in `/etc' which you are likely to have customized
since a previous installation.

However, it is strongly advised that you unpack the etc{:--:}OSrev.ngz set in
a temporary directory and merge changes by hand, since all components of
your system may not function correctly until your files in `/etc' are
updated.-:})dnl
dnl
dnl
dnl ========== Installation media preparation
dnl (usually used by arch/xfer)
dnl
dnl Generic preparation introduction, after the list of various sources.
dnl Use the short version unless there are too many methods, in this case
dnl the long versions adds a ``don't panic!'' notice.
define({:-OpenBSDXferShortPrelude-:},
{:-The steps necessary to prepare the distribution sets for installation
depend on which method of installation you choose.  Some methods
require a bit of setup first that is explained below.

The installation allows installing MirBSD directly from FTP mirror
sites over the internet, however you must consider the speed and
reliability of your internet connection for this option.  It may save
much time and frustration to use ftp get/reget to transfer the
distribution sets to a local server or disk and perform the installation
from there, rather than directly from the internet.-:})dnl
define({:-OpenBSDXferPrelude-:},
{:-OpenBSDXferShortPrelude

The variety of options listed may seem confusing, but situations vary
widely in terms of what peripherals and what sort of network arrangements
a user has, the intent is to provide some way that will be practical.-:})dnl
dnl
dnl Various floppy generation instructions.
dnl
define({:-OpenBSDXferFloppyFromDOS-:},
{:-Creating a bootable floppy disk using DOS/Windows:

	First you need to get access to the MirBSD bootable floppy
	images. If you can access the distribution from the CD-ROM under
	DOS, you will find the bootable disks in the v{:--:}OSrev/bsd/{:--:}MACHINE
	directory. Otherwise, you will have to download them from one of
	the MirOS FTP or HTTP mirror sites, using an FTP client or a web
	browser. In either case, take care to do "binary" transfers, since
	these are images files and any DOS cr/lf translations or control/z
	EOF interpretations will result in corrupted transfers.
	
	You will also need to go to the "tools" directory and grab a
	copy of the rawrite.exe utility and its documentation.  This
	program is needed to correctly copy the bootable filesystem
	image to the floppy, since it's an image of a unix partition
	containing an ffs filesystem, not an MSDOS format diskette.

	Once you have installed rawrite.exe, just run it and specify the
	name of the bootable image, such as "floppy{:--:}OSrev.fs" and the name of
	the floppy drive, such as "a:".  Be sure to use good quality HD
	(1440 KB) floppies, formatted on the system you're using.  The
	image copy and boot process is not especially tolerant of read
	errors.

	Note that if you are using NT, 2000, or XP to write the
	images to disk, you will need to use ntrw.exe instead.  It
	is also available in the "tools" directory.  Grab it and
	run in with the correct arguments like this "ntrw <image>
	<drive>:"

	Note that, when installing, the boot floppy can be write-protected
	(i.e. read-only).-:})dnl
dnl
define({:-OpenBSDXferFloppyFromUNIX-:},
{:-Creating a bootable floppy disk using SunOS, Solaris or other Un*x-like system:

	First, you will need obtain a local copy of the bootable filesystem
	image as described above.  If possible use the cksum(1) or md5(1)
	commands to verify the checksums of the images vs. the values in
	the CKSUM or MD5 files on the mirror site.

	Next, use the dd(1) utility to copy the file to the floppy drive.
	The command would likely be, under SunOS:
		dd if=floppy{:--:}OSrev.fs of=/dev/rfd0c bs=36b
	and, under Solaris:
		dd if=floppy{:--:}OSrev.fs of=/dev/rdiskette0 bs=36b
	unless the volume management daemon, vold(1M), is running, in
	which case the following command is preferable:
		dd if=floppy{:--:}OSrev.fs of=/vol/dev/rdiskette0 bs=36b

	If you are using another operating system, you may have to adapt
	this to conform to local naming conventions for the floppy and
	options suitable for copying to a "raw" floppy image.  The key
	issue is that the device name used for the floppy *must* be one
	that refers to the correct block device, not a partition or
	compatibility mode, and the copy command needs to be compatible
	with the requirement that writes to a raw device must be in
	multiples of 512-byte blocks.  The variations are endless and
	beyond the scope of this document.

	If you're doing this on the system you intend to boot the floppy on,
	copying the floppy back to a file and doing a compare or checksum
	is a good way to verify that the floppy is readable and free of
	read/write errors.

	Note that, when installing, the boot floppy can be write-protected
	(i.e. read-only).-:})dnl
dnl
dnl Tape preparation instructions.
dnl
dnl OpenBSDXferBareTape describes how to set up a non-bootable distribution
dnl tape, and takes as an optional argument, the list of X11 sets which
dnl may be put on the tape.
define({:-OpenBSDXferBareTape-:},
{:-Creating an installation tape:

	While you won't be able to boot MirBSD from a tape, you can use
	one to provide the installation sets.  To do so, you need to make
	a tape that contains the distribution set files, each in "tar"
	format or in "gzipped tar format".  First you will need to
	transfer the distribution sets to your local system, using ftp or
	by mounting the CD-ROM containing the release.  Then you need to
	make a tape containing the files.

	If you're making the tape on a UN*X-like system, the easiest way
	to do so is make a shell script along the following lines, call it
	"/tmp/maketape".

	#! /bin/sh
	TAPE=${TAPE:-/dev/nrst0}
	mt -f ${TAPE} rewind
	for file in base etc comp game man misc $1
	do
		dd if=${file}OSrev.ngz of=${TAPE} obs=8k conv=sync
	done
	tar cf ${TAPE} bsd
	mt -f ${TAPE} offline
	# end of script

	And then:

	cd .../v{:--:}OSrev/bsd/MACHINE
	sh -x /tmp/maketape

	If you're using a system other than OpenBSD, MirBSD or SunOS, the tape
	name and other requirements may change.  You can override the
	default device name (/dev/nrst0) with the TAPE environment
	variable.  For example, under Solaris, you would probably run:

	TAPE=/dev/rmt/0n sh -x /tmp/maketape

	Note that, when installing, the tape can be write-protected
	(i.e. read-only).-:})dnl
dnl OpenBSDXferBootTape describes how to set up a non-bootable distribution
dnl tape, and takes as first argument, the list of X11 sets which may be put
dnl on the tape. Then at least one, and up to three arguments list the first
dnl files to be put on the tape to make it bootable. Each filename can be
dnl followed by dd(1) arguments (such as conv=sync).
define({:-OpenBSDXferBootTape-:},
{:-Creating an (optionally bootable) installation tape:

	To install MirBSD from a tape, you need to make a tape that
	contains the distribution set files, each in "tar" format or in
	"gzipped tar format".  First you will need to transfer the
	distribution sets to your local system, using ftp or by
	mounting the CD-ROM containing the release.  Then you need to
	make a tape containing the files.

	If you're making the tape on a UN*X-like system, the easiest way
	to do so is make a shell script along the following lines, call it
	"/tmp/maketape".

	#! /bin/sh
	TAPE=${TAPE:-/dev/nrst0}
	mt -f ${TAPE} rewind
	if test {:-$-:}# -lt 1
	then
		dd of=${TAPE} if=$2
ifelse(X$3,X,,{:-		dd of=${TAPE} if=$3
-:})dnl
ifelse(X$4,X,,{:-		dd of=${TAPE} if=$4
-:})dnl
	fi
	for file in base etc comp game man misc $1
	do
		dd if=${file}OSrev.ngz of=${TAPE} obs=8k conv=sync
	done
	tar cf ${TAPE} bsd
	mt -f ${TAPE} offline
	# end of script

	And then:

	cd .../v{:--:}OSrev/bsd/MACHINE
	sh -x /tmp/maketape

        Note that, by default, this script creates a bootable tape. If
	you only want to fetch the MirBSD files from tape, but want to
	boot from another device, you can save time and space creating
	the tape this way:

        cd .../v{:--:}OSrev/bsd/MACHINE
        sh -x /tmp/maketape noboot

	If you're using a system other than MirBSD or SunOS, the tape
	name and other requirements may change.  You can override the
	default device name (/dev/nrst0) with the TAPE environment
	variable.  For example, under Solaris, you would probably run:

	TAPE=/dev/rmt/0n sh -x /tmp/maketape

	Note that, when installing, the tape can be write-protected
	(i.e. read-only).-:})dnl
dnl OpenBSDXferNFS [(noupgrade)]
define({:-OpenBSDXferNFS-:},
{:-To install MirBSD using a remote partition, mounted via
NFS, you must do the following:

	NOTE:	This method of installation is recommended only for
		those already familiar with using BSD network
		configuration and management commands.  If you aren't,
		this documentation should help, but is not intended to
		be all-encompassing.

	Place the MirBSD distribution sets you wish to install
	into a directory on an NFS server, and make that directory
	mountable by the machine on which you are installing or
	upgrading MirBSD.  This will probably require modifying
	the /etc/exports file of the NFS server and resetting
	its mount daemon (mountd).  (Both of these actions will
	probably require superuser privileges on the server.)

	You need to know the numeric IP address of the NFS
	server, and, if the server is not on a network directly
	connected to the machine on which you're installing or
	upgrading MirBSD, you need to know the numeric IP address
	of the router closest to the MirBSD machine.  Finally,
	you need to know the numeric IP address of the MirBSD
	machine itself.

	Once the NFS server is set up properly and you have the
	information mentioned above, you can proceed to the next
	step in the installation ifelse(X$1,X,{:-or upgrade -:})process.ifelse(X$1,X,,{:-  If you're
	installing MirBSD from scratch, go to the section on
	preparing your hard disk, below.  If you're upgrading an
	existing installation, go directly to the section on
	upgrading.-:})-:})dnl
dnl
define({:-OpenBSDXferFFS-:},
{:-If you are upgrading MirBSD, you also have the option of installing
MirBSD by putting the new distribution sets somewhere in your
existing file system, and using them from there.  To do that, do
the following:

	Place the distribution sets you wish to upgrade somewhere
	in your current file system tree.  At a bare minimum, you
	must upgrade the "base" binary distribution, and so must
	put the "base{:--:}OSrev" set somewhere in your file system.  It
	is recommended that you upgrade the other sets, as well.-:})dnl
dnl
define({:-OpenBSDInstNFS-:},
{:-Now you must populate the `/dev' directory for your client. If the server
does not run OpenBSD you might save the MAKEDEV output:

	eo=echo ksh MAKEDEV all > all.sh

and then tailor it for your server operating system before running it.  Note
that MAKEDEV is written specifically for ksh, and may not work on any other
Bourne shell. You might want to read http://wiki.mirbsd.de/MirbsdKsh as well.

There will be error messages about unknown users and groups. These errors are
inconsequential for the purpose of installing OpenBSD. However, you may
want to correct them if you plan to use the diskless setup regularly. In that
case, you may re-run MAKEDEV on your OpenBSD machine once it has booted.-:})dnl
@


1.22
log
@polish a _bit_ (still wrong)
@
text
@d1 1
a1 1
dnl	$MirBSD: src/distrib/notes/m4.common,v 1.21 2004/08/13 14:35:04 tg Exp $
@


1.21
log
@sync the lists and this poor excuse for documentation
which should go away
@
text
@d1 1
a1 1
dnl	$MirBSD: src/distrib/notes/m4.common,v 1.20 2004/07/15 16:00:10 tg Exp $
d294 2
a601 17
MirBSD is a local tree based upon OpenBSD-current.

Copyright (c) 1982-2003 Thorsten Glaser <x86@@ePost.de>

Subject to these terms, everybody who obtained a copy of this work
is hereby permitted to deal in the work without restriction inclu-
ding without limitation the rights to use, distribute, sell, modi-
fy, give away, merge or sublicense it provided this notice is kept
and the authors and contributors are given due credit in derivates
or accompanying documents.
This work is provided "as is" with no explicit or implicit warran-
ties whatsoever to the maximum extend permitted by applicable law;
in no event may an author or contributor be held liable for damage
that is, directly or indirectly, caused by the work, even if advi-
sed of the possibility of such damage.


d898 1
a898 1
Bourne shell.
@


1.20
log
@add xetc set (final prod from openbsd, idea was ours as well)
and remove lies about languages supported by egcs
@
text
@d1 1
a1 1
dnl	$MirBSD: src/distrib/notes/m4.common,v 1.19 2004/05/21 21:10:48 tg Exp $
d108 1
a108 2
		 base MirBSD utilities that are necessary for the
		 system to run and be minimally functional.
a112 28
dnl OpenBSDcomp( compressed size, uncompressed size [, shared])
dnl Describes compXX.ngz. Put ``shared'' as third argument if shared libraries
dnl are available.
dnl
define({:-OpenBSDcomp-:},
{:-	comp{:--:}OSrev	 The MirBSD/MACHINE Compiler tools.  All of the tools
		 relating to C and Assembly are supported. This set
		 includes the system {:-include-:} files (/usr/{:-include-:}), the
		 linker, the compiler tool chain, and the various system
		 libraries{:--:}ifelse(X$3,Xshared,{:- (except the shared libraries, which are
		 included as part of the base set).-:},.)
		 This set also includes the manual pages for all
		 of the utilities it contains, as well as the system
		 call and library manual pages.showsize($1,$2)-:})dnl
dnl
dnl
dnl OpenBSDegcs( compressed size, uncompressed size)
dnl Describes egcsXX.ngz.
dnl
define({:-OpenBSDegcs-:},
{:-	egcs{:--:}OSrev	 The GNU Compiler Collection, Version 3.x, for
		 MirBSD/MACHINE OSREV base binary distribution.  You
		 should install this set in order to compile applications.
		 This contains support for the following languages:
		 ==>  C  C++  Objective C  Ada  Pascal dnl  Fortran 77  Java(TM)
		 showsize($1,$2)-:})dnl
dnl
dnl
a126 46
dnl OpenBSDgame( compressed size, uncompressed size )
dnl Describes gameXX.ngz.
dnl
define({:-OpenBSDgame-:},
{:-	game{:--:}OSrev	 This set includes the games and their manual pages.showsize($1,$2)-:})dnl
dnl
dnl
dnl OpenBSDman( compressed size, uncompressed size )
dnl Describes manXX.ngz.
dnl
define({:-OpenBSDman-:},
{:-	man{:--:}OSrev	 This set includes all of the manual pages for the
		 binaries and other software contained in the base set.
		 Note that it does not {:-include-:} any of the manual pages
		 that are included in the other sets.showsize($1,$2)-:})dnl
dnl
dnl
dnl OpenBSDmisc( compressed size, uncompressed size )
dnl Describes miscXX.ngz.
dnl
define({:-OpenBSDmisc-:},
{:-	misc{:--:}OSrev	 This set includes the system dictionaries (which are
		 rather large), and the typesettable document set.
		 It also includes several executables that used to be in the
		 base{:--:}OSrev set, but are licensed in a more restricted
		 way than BSD/UCB/MIT/X11-style.showsize($1,$2)-:})dnl
dnl
dnl
dnl OpenBSDperl( compressed size, uncompressed size)
dnl Describes perlXX.ngz.
dnl
define({:-OpenBSDperl-:},
{:-	perl{:--:}OSrev	 Support for Perl in MirBSD/MACHINE OSREV.  This set
		 MUST be installed for the system to function correctly.showsize($1,$2)-:})dnl
dnl
dnl
dnl OpenBSDxbase( compressed size, uncompressed size )
dnl Describes xbaseXX.ngz.
dnl
define({:-OpenBSDxbase-:},
{:-	xbase{:--:}OSrev	 This set includes the base X-Window distribution.
		 This includes programs, headers, libraries, text and
		 configuration files, i.e. everything except fonts and
		 the servers.showsize($1,$2)-:})dnl
dnl
dnl
d135 2
a136 9
dnl OpenBSDxfont( compressed size, uncompressed size )
dnl Describes xfontXX.ngz.
dnl
define({:-OpenBSDxfont-:},
{:-	xfont{:--:}OSrev	 This set includes all of the X fonts.showsize($1,$2)-:})dnl
dnl
dnl
dnl OpenBSDxserv(compressed size,uncompressed size,optional extra notes)
dnl Describes xservXX.ngz.
d138 3
a140 2
define({:-OpenBSDxserv-:},
{:-	xserv{:--:}OSrev	 This set includes all of the X servers.$3{:--:}showsize($1,$2)-:})dnl
@


1.19
log
@not-so-easy merge
note: the release process is currently marked as broken, because
the install.sub file needs some major fixes.
they are so major I'll eventually rewrite the stuff now. let's see.
@
text
@d1 1
a1 1
dnl	$MirBSD: src/distrib/notes/m4.common,v 1.18 2004/03/12 00:44:05 tg Exp $
d138 1
a138 1
		 ==>  C  C++  dnl Objective C  Fortran 77  Ada  Pascal  Java(TM)
d200 8
@


1.18
log
@better; nuke openbsd mailing list refs
@
text
@d1 18
a18 2
dnl	$MirBSD: m4.common,v 1.17 2004/03/09 21:10:39 tg Exp $
dnl	$OpenBSD: m4.common,v 1.45 2003/10/31 04:03:15 drahn Exp $
d24 1
a30 1
MACHINE,pegasos,powerpc,
d52 1
a52 1
		INSTALL.MACHINE	Installation notes; this file.
d54 5
a58 5
		CKSUM		Output of the cksum(1) and md5(1) programs
		MD5		usable for verification of the correctness
				of downloaded files.
		RMD160		Output of the rmd160(1) programme to verify
		RMD160.asc	the integrity; comes with detached PGP sig.-:})dnl
d61 2
a62 2
dnl o base{:--:}OSrev is required because if it appears as baseOSrev the defined
dnl   value OSrev does not get substituted.  Same goes for MACHINE,
d80 2
a81 2
dnl                  - empty 2nd arg, for files where only compressed size is
dnl                    known
d152 2
a153 2
		 configuration files by hand, see the section named "Upgrading
		 a previously-installed MirBSD System" below.)-:},.)showsize($1,$2)-:})dnl
d219 2
a220 2
{:-		floppy{:--:}OSrev.fs	The standard MACHINE boot and installation
				floppy; see below.-:})dnl
d223 3
a225 3
{:-		cd{:--:}OSrev.iso	A miniroot filesystem image suitable to be used
				as a bootable CD-ROM image; otherwise similar
				to the bsd.rd image above.-:})dnl
d235 1
a235 1
	ntrw.exe or `dd', as described later in this document.
d244 1
a244 2
{:-		*.ngz		MACHINE binary distribution sets;
				see below.-:})dnl
d247 2
a248 3
{:-		bsd		A stock GENERIC MACHINE kernel which
				will be installed on your system
				during the install.-:})dnl
d251 4
a254 4
{:-		bsd.rd		A compressed RAMDISK kernel; the embedded
				filesystem contains the installation tools.
				Used for simple installation from a pre-
				existing system.-:})dnl
d257 3
a259 4
{:-		miniroot{:--:}OSrev.fs	A miniroot filesystem image to be used
				if you for some reason can't or don't
				want to use the ramdisk installation
				method.-:})dnl
d350 1
a350 1
	is usually in partition 'b'.$4
d353 1
a353 1
	/tmp and /var, and if you have room for it, one for /home.  In
d394 1
a394 1
	ask you for a name of your system and the DNS domain name to use.
d401 1
a401 1
	the netmask to use and any interface-specific flags to set. The
d409 1
a409 1
	After all network interfaces has been configured the install pro-
d433 1
a433 1
		       ftp proxy (squid, CERN ftp, Apache 1.2 or higher).
d435 1
a435 1
		       firewall that blocks outgoing ftp (assuming you
d437 1
a437 1
		    2) Do you need to use active mode ftp?  By default,
d441 2
a442 2
		       this option if you are connecting to a buggy ftp
		       daemon that implements passive ftp incorrectly.
d444 1
a444 1
		       ftp if you are using a proxy.
d446 2
a447 2
		       DNS earlier in the install) of an ftp server
		       carrying the MirBSD OSREV distribution.
d450 1
a450 1
		    4) The ftp directory holding the distribution sets.
d454 1
a454 1
		    5) The login and password for the ftp account.
d456 1
a456 1
		       non-anonymous ftp.
d459 1
a459 1
		ftp, see the section named "Common URL installations" below.-:})dnl
d466 1
a466 1
		       http proxy (squid, CERN ftp, Apache 1.2 or higher).
d468 1
a468 1
		       firewall that blocks outgoing http connections
d471 2
a472 2
		       DNS earlier in the install) of an http server
		       carrying the MirBSD OSREV distribution.
d479 1
a479 1
		       http mirror sites that you received in step 3.
d482 1
a482 1
		http, see the section named "Common URL installations" below.-:})dnl
d528 2
a529 2
{:-	To install from a NFS mounted directory:
		When installing from a NFS-mounted directory, you must
d571 1
a571 1
		sets.  This is normally $1"sdN" where N is a number
d573 1
a573 1
		within that disk that holds the distribution, this is a
d578 1
a578 1
		$2{:--:}install from partitions that has been formatted as the
d587 1
a587 1
		the a local disk partition, see the next section.-:})dnl
d644 1
a644 1
	be created for you and the file systems will be unmounted.  For
d764 1
a764 1
	the MirBSD ftp or http mirror sites, using an ftp client or a web
d773 1
a773 1
	containing a ffs filesystem, not a MSDOS format diskette.
d789 1
a789 1
	(i.e  read-only).-:})dnl
d978 14
@


1.17
log
@* nuke obsolete files and parts of files
* enable pascal frontend
* enable CPIO naming convention:
  sv4cpio = .cpio
  sv4crc  = .cpio
  sv4cpio gzipped = .ngz (newc/gz)
  svrcrc  gzipped = .cgz (crc/gz)
* all packages are .cgz, all sets are .ngz
* add hooks for gjc frontend
* add stubbed out gpc and gjc rts hooks in src/gnu/gcc/Makefile
* enable java frontend (with almost no changes; this is what I
  call a _really_ nice langspec-subdir... amazing)
* bump patchlevel for these changes
* better document some changes
* matthieu@@openbsd.org assured me we need no X piclibs any more
* improve comments
* export whole libz to XFree86 .a modules
* correct usage of languages when bootstrapping gcc
* fix MKC_PGCC when USE_GCC3=no (since USE_GCC3 is a post-#7
  thing, and ports/lang/egcs is not available for -current)
* install man- and texinfopages for gpc

most of this stuff is tested. however, I *strongly* recommend
to not update, but rather wait for the next snapshot.

Now missing:
* pascal RTS
* a port for libgjc (I won't like it in base, due to the
  _heavy_ overhead (jar, ffi, boehm-gc*cough*, ...), but
  since the compiler is there, it should be easy)
* test pascal (c, cp, f, objc, and ada are fine already)
* test gcov? (proto is fine, all right)
* documentation improvements
* quality tests and improvements
* more ~/.etc
* get the damn cvs conflict script right ;)

Next projects:
* update binutils
* sync with openbsd
* rewrite large parts of build system
* write boot loader
* rewrite install system
@
text
@d1 1
a1 1
dnl	$MirBSD: m4.common,v 1.16 2004/01/23 22:45:26 tg Exp $
d180 4
a183 3
{:-	xbase{:--:}OSrev   This set includes the base X-Window distribution.  This includes
		 programs, headers, libraries, text and configuration files, i.e.
		 everything except fonts and the servers.showsize($1,$2)-:})dnl
d190 1
a190 1
{:-	xfont{:--:}OSrev   This set includes all of the X fonts.showsize($1,$2)-:})dnl
d197 1
a197 1
{:-	xserv{:--:}OSrev   This set includes all of the X servers.$3{:--:}showsize($1,$2)-:})dnl
d749 1
a749 1
	DOS, you will find the bootable disks in the OSREV/bsd/MACHINE
@


1.16
log
@Obviously a typo
@
text
@d1 1
a1 1
dnl	$MirBSD: m4.common,v 1.15 2004/01/23 22:44:19 tg Exp $
d86 1
a86 1
dnl Describes baseXX.tgz. Put ``shared'' as third argument if shared libraries
d99 1
a99 1
dnl Describes compXX.tgz. Put ``shared'' as third argument if shared libraries
d115 1
a115 1
dnl Describes egcsXX.tgz.
d127 1
a127 1
dnl Describes etcXX.tgz.
d141 1
a141 1
dnl Describes gameXX.tgz.
d148 1
a148 1
dnl Describes manXX.tgz.
d158 1
a158 1
dnl Describes miscXX.tgz.
d169 1
a169 1
dnl Describes perlXX.tgz.
d177 1
a177 1
dnl Describes xbaseXX.tgz.
d186 1
a186 1
dnl Describes xfontXX.tgz.
d193 1
a193 1
dnl Describes xservXX.tgz.
d227 1
a227 1
{:-		*.tgz		MACHINE binary distribution sets;
d589 1
a589 1
		a file name, e.g. `*.tgz' or even `base*|comp*'.  It is
d615 1
a615 1
		use wildcards in place of a file name, e.g. `*.tgz' or
d707 1
a707 1
procedure will not let you pick the ``etc{:--:}OSrev.tgz'' set, so as to
d711 1
a711 1
However, it is strongly advised that you unpack the etc{:--:}OSrev.tgz set in
d837 1
a837 1
		dd if=${file}OSrev.tgz of=${TAPE} obs=8k conv=sync
d889 1
a889 1
		dd if=${file}OSrev.tgz of=${TAPE} obs=8k conv=sync
@


1.15
log
@fix the docs:
 - xshare died
 - fix paths, m4, etc.
@
text
@d1 1
a1 1
dnl	$MirBSD: m4.common,v 1.14 2004/01/23 22:16:58 tg Exp $
d172 1
a172 1
{:-	egcs{:--:}OSrev	 Support for Perl in MirBSD/MACHINE OSREV.  This set
@


1.14
log
@apparently, we got egcsOSREV.tgz and perlOSREV.tgz
 - let them install
 - add stub with descriptions
 - adjust compressed set sizes temporarily
   (why is there that much difference? checkflist didn't change...)
@
text
@d1 1
a1 1
dnl	$MirBSD: m4.common,v 1.13 2004/01/03 05:45:47 tg Exp $
d20 6
d30 2
a31 2
define(`TopPart',
`The MACHINE-specific portion of the MirBSD OSREV release is found in the
d35 1
a35 1
.../OSrev/MACHINE/
d42 1
a42 7
		RMD160.asc	the integrity; comes with detached PGP sig.')dnl
dnl
dnl Change the quote.  There were too many `word' situations that would have
dnl to have been changed to ``word''.  The quote gets changed to {:- and -:}.
dnl It can really be anything, but it needs to be unique.
dnl
changequote(`{:-',`-:}')dnl
d45 1
a45 1
dnl o base`'OSrev is required because if it appears as baseOSrev the defined
d49 1
a49 1
dnl o `include' and `define' is required as include and define are both m4
d173 1
a173 2
		 MUST be installed for the system to function correctly.
		 showsize($1,$2)-:})dnl
d181 2
a182 9
		 programs, headers, libraries, and configuration files.showsize($1,$2)-:})dnl
dnl
dnl
dnl OpenBSDxshare( compressed size, uncompressed size )
dnl Describes xshareXX.tgz.
dnl
define({:-OpenBSDxshare-:},
{:-	xshare{:--:}OSrev  This set includes all text files equivalent between
		 all architectures.showsize($1,$2)-:})dnl
d507 1
a507 1
		the MACHINE this is "OSREV/MACHINE".
d748 1
a748 1
	DOS, you will find the bootable disks in the OSREV/MACHINE
d845 1
a845 1
	cd .../OSREV/MACHINE
d897 1
a897 1
	cd .../OSREV/MACHINE
d905 1
a905 1
        cd .../OSREV/MACHINE
@


1.13
log
@it's much more nice this way
@
text
@d1 1
a1 1
dnl	$MirBSD: m4.common,v 1.12 2003/12/23 13:42:02 tg Exp $
d104 1
a104 1
		 relating to C, C++, and fortran are supported. This set
d114 12
d166 9
@


1.12
log
@* merge in OpenBSD
* rename cd34.iso to cdrom8.iso

XXX gzip/compress on ramdisk in MirOS should still
XXX	be able to compress and not only decompress
XXX	files. must be revisited
@
text
@d1 1
a1 1
dnl	$MirBSD: m4.common,v 1.11 2003/12/17 18:00:07 tg Exp $
d29 1
a29 1
.../OSREV/MACHINE/
d160 1
a160 1
{:-	xbase{:--:}OSrev  This set includes the base X-Window distribution.  This includes
d168 1
a168 1
{:-	xshare{:--:}OSrev This set includes all text files equivalent between
d176 1
a176 1
{:-	xfont{:--:}OSrev  This set includes all of the X fonts.showsize($1,$2)-:})dnl
d183 1
a183 1
{:-	xserv{:--:}OSrev  This set includes all of the X servers.$3{:--:}showsize($1,$2)-:})dnl
@


1.11
log
@second (piecewise) attempt to merge MirBSD #7ter into HEAD
@
text
@d1 2
a2 2
dnl	$MirBSD: m4.common,v 1.10.2.2 2003/11/20 13:41:33 tg Exp $
dnl	$OpenBSD: m4.common,v 1.44 2003/08/11 22:21:15 miod Exp $
d14 1
@


1.10
log
@fix the remaining bits for release
teach user the correct avg. set sizes for the
base and X11 install (rounded down to 0.1 MB)
@
text
@d1 1
a1 1
dnl
d24 1
a24 1
`The MACHINE-specific portion of the OpenBSD OSREV release is found in the
d75 2
a76 2
{:-The OpenBSD/MACHINE binary distribution sets contain the binaries which
comprise the OpenBSD OSREV release for MACHINE systems.  There are $1
d80 1
a80 1
the "MACHINE" subdirectory of the OpenBSD OSREV distribution tree,
d89 1
a89 1
{:-	base{:--:}OSrev	 The OpenBSD/MACHINE OSREV base binary distribution.  You
d91 1
a91 1
		 base OpenBSD utilities that are necessary for the
d102 1
a102 1
{:-	comp{:--:}OSrev	 The OpenBSD/MACHINE Compiler tools.  All of the tools
d124 1
a124 1
		 a previously-installed OpenBSD System" below.)-:},.)showsize($1,$2)-:})dnl
d159 1
a159 1
{:-	xbase{:--:}OSrev  This set includes the base X distribution.  This includes
d206 1
a206 1
	both to install and to upgrade OpenBSD to the current version.
d240 1
a240 1
{:-Installing OpenBSD is a relatively complex process, but if you have
d252 1
a252 1
number of cylinders on the disk.  The OpenBSD kernel will try to
d263 1
a263 1
{:-You should now be ready to install OpenBSD.
d266 1
a266 1
getting OpenBSD installed on your hard disk.  If any question has a
d279 1
a279 1
	OpenBSD kernel boot messages.  You will want to read them
d284 1
a284 1
	OpenBSD partitions.  You will also need to know the device
d298 3
d313 1
a313 1
{:-	Next the disk label which defines the layout of the OpenBSD
d317 1
a317 1
	reflect the entire disk, including any non-OpenBSD portions.
d334 1
a334 1
	other native OpenBSD partitions should have a type of "4.2BSD".
d337 2
d419 1
a419 1
		       carrying the OpenBSD OSREV distribution.
d423 3
a425 2
		       The default value of pub/OpenBSD/OSREV/MACHINE
		       is almost always correct.
d444 1
a444 1
		       carrying the OpenBSD OSREV distribution.
d488 1
a488 1
		this can be either FFS or ISO CD9660.  The OpenBSD CD-ROM
d621 2
a622 2
{:-Congratulations, you have successfully installed OpenBSD OSREV.  When you
reboot into OpenBSD, you should log in as "root" at the login prompt.
d626 2
a627 2
have about OpenBSD (like setting up your system, installing packages, getting
more information about OpenBSD, sending in your dmesg output and more).
d635 1
a635 1
Some of the files in the OpenBSD OSREV distribution might need to be
d671 5
a675 2
{:-Warning! Upgrades to OpenBSD OSREV are currently only supported from the
immediately previous release. The upgrade process will also work with older
d680 2
a681 2
To upgrade OpenBSD OSREV from a previous version, start with the general
instructions in the section "Installing OpenBSD".
d714 1
a714 1
The installation allows installing OpenBSD directly from FTP mirror
d732 1
a732 1
	First you need to get access to the OpenBSD bootable floppy
d736 1
a736 1
	the OpenBSD ftp or http mirror sites, using an ftp client or a web
d750 1
a750 1
	(1.44MB) floppies, formatted on the system you're using.  The
d806 1
a806 1
	While you won't be able to boot OpenBSD from a tape, you can use
d834 1
a834 1
	If you're using a system other than OpenBSD or SunOS, the tape
d851 1
a851 1
	To install OpenBSD from a tape, you need to make a tape that
d887 1
a887 1
	you only want to fetch the OpenBSD files from tape, but want to
d894 1
a894 1
	If you're using a system other than OpenBSD or SunOS, the tape
d905 1
a905 1
{:-To install OpenBSD using a remote partition, mounted via
d914 1
a914 1
	Place the OpenBSD distribution sets you wish to install
d917 1
a917 1
	upgrading OpenBSD.  This will probably require modifying
d925 3
a927 3
	upgrading OpenBSD, you need to know the numeric IP address
	of the router closest to the OpenBSD machine.  Finally,
	you need to know the numeric IP address of the OpenBSD
d933 1
a933 1
	installing OpenBSD from scratch, go to the section on
d939 2
a940 2
{:-If you are upgrading OpenBSD, you also have the option of installing
OpenBSD by putting the new distribution sets somewhere in your
@


1.10.2.1
log
@some updates and clarifications
@
text
@d1 1
a1 1
dnl	$MirBSD$
d24 1
a24 1
`The MACHINE-specific portion of the MirBSD OSREV release is found in the
d75 2
a76 2
{:-The MirBSD/MACHINE binary distribution sets contain the binaries which
comprise the MirBSD OSREV release for MACHINE systems.  There are $1
d80 1
a80 1
the "MACHINE" subdirectory of the MirBSD OSREV distribution tree,
d89 1
a89 1
{:-	base{:--:}OSrev	 The MirBSD/MACHINE OSREV base binary distribution.  You
d91 1
a91 1
		 base MirBSD utilities that are necessary for the
d102 1
a102 1
{:-	comp{:--:}OSrev	 The MirBSD/MACHINE Compiler tools.  All of the tools
d124 1
a124 1
		 a previously-installed MirBSD System" below.)-:},.)showsize($1,$2)-:})dnl
d159 1
a159 1
{:-	xbase{:--:}OSrev  This set includes the base X-Window distribution.  This includes
d206 1
a206 1
	both to install and to upgrade MirBSD to the current version.
d240 1
a240 1
{:-Installing MirBSD is a relatively complex process, but if you have
d252 1
a252 1
number of cylinders on the disk.  The MirBSD kernel will try to
d263 1
a263 1
{:-You should now be ready to install MirBSD.
d266 1
a266 1
getting MirBSD installed on your hard disk.  If any question has a
d279 1
a279 1
	MirBSD kernel boot messages.  You will want to read them
d284 1
a284 1
	MirBSD partitions.  You will also need to know the device
a297 3
	Upgrading MirBSD is only supported as a convenience, and is
	not officially supported whatsoever.

d310 1
a310 1
{:-	Next the disk label which defines the layout of the MirBSD
d314 1
a314 1
	reflect the entire disk, including any non-MirBSD portions.
d331 1
a331 1
	other native MirBSD partitions should have a type of "4.2BSD".
a333 2
	Some strange Architectures' boot programmes are not capable of
	handling a block size which differs from the default shown above.
d414 1
a414 1
		       carrying the MirBSD OSREV distribution.
d418 2
a419 3
		       The default value of mbsd7 (or similar) is almost
		       always correct. This value MUST not contain leading
		       or trailing slashes!
d438 1
a438 1
		       carrying the MirBSD OSREV distribution.
d482 1
a482 1
		this can be either FFS or ISO CD9660.  The MirBSD CD-ROM
d615 2
a616 2
{:-Congratulations, you have successfully installed MirBSD OSREV.  When you
reboot into MirBSD, you should log in as "root" at the login prompt.
d620 2
a621 2
have about MirBSD (like setting up your system, installing packages, getting
more information about MirBSD, sending in your dmesg output and more).
d629 1
a629 1
Some of the files in the MirBSD OSREV distribution might need to be
d665 2
a666 5
{:-Warning! Upgrades to MirBSD OSREV are currently only supported from the
immediately previous release. Sometimes, you might be able to upgrade from
the current OpenBSD to the current MirBSD release. However, the MirOS team
does not officially support upgrades at all - a fresh installation is almost
always highly recommended. The upgrade process will also work with older
d671 2
a672 2
To upgrade MirBSD OSREV from a previous version, start with the general
instructions in the section "Installing MirBSD".
d705 1
a705 1
The installation allows installing MirBSD directly from FTP mirror
d723 1
a723 1
	First you need to get access to the MirBSD bootable floppy
d727 1
a727 1
	the MirBSD ftp or http mirror sites, using an ftp client or a web
d797 1
a797 1
	While you won't be able to boot MirBSD from a tape, you can use
d825 1
a825 1
	If you're using a system other than OpenBSD, MirBSD or SunOS, the tape
d842 1
a842 1
	To install MirBSD from a tape, you need to make a tape that
d878 1
a878 1
	you only want to fetch the MirBSD files from tape, but want to
d885 1
a885 1
	If you're using a system other than MirBSD or SunOS, the tape
d896 1
a896 1
{:-To install MirBSD using a remote partition, mounted via
d905 1
a905 1
	Place the MirBSD distribution sets you wish to install
d908 1
a908 1
	upgrading MirBSD.  This will probably require modifying
d916 3
a918 3
	upgrading MirBSD, you need to know the numeric IP address
	of the router closest to the MirBSD machine.  Finally,
	you need to know the numeric IP address of the MirBSD
d924 1
a924 1
	installing MirBSD from scratch, go to the section on
d930 2
a931 2
{:-If you are upgrading MirBSD, you also have the option of installing
MirBSD by putting the new distribution sets somewhere in your
@


1.10.2.2
log
@that ain't 1.44MB, that are 1440 KB.
@
text
@d1 1
a1 1
dnl	$MirBSD: m4.common,v 1.10.2.1 2003/11/15 20:21:54 tg Exp $
d750 1
a750 1
	(1440 KB) floppies, formatted on the system you're using.  The
@


1.10.2.2.2.1
log
@this should be, except for distrib/notes/*/contents, the last bunch
of things to do for #7quater (everything else has been MFCd, checked,
backtagged, considered unimportant, not being wanted to take care of
for -stable because -current is sooo much better, or forgotten :)
@
text
@d1 1
a1 1
dnl	$MirBSD: src/distrib/notes/m4.common,v 1.10.2.2 2003/11/20 13:41:33 tg Exp $
d79 1
a79 3
depend on the filesystem.  There is also a site{:--:}OSrev set, which can
be used to upgrade from the last formal release to the current stable version
of MirOS.  The binary distribution sets can be found in
@


1.9
log
@clean up notes (no 1024 cylinder limit, MirBSD no OpenBSD, etc.)
@
text
@d77 3
a79 1
binary distribution sets.  The binary distribution sets can be found in
@


1.8
log
@move some stuff around:
o manual pages for compiler tools go to comp/mi and comp/md
o when the executable is in comp/md, its manual page goes to comp/md too
o some of the stuff in base actually belongs to comp
o move some more of the stuff in base that originates from the gnu
  side of the source (dict, mkhybrid, rcs, sendbug, ssfe, tinyirc)
  to the misc set and document that (anoncvsbin->cvs is in the etc set)
@
text
@d33 3
a35 1
				of downloaded files.')dnl
@


1.7
log
@merge OpenBSD, remove a few 0x60
@
text
@d145 4
a148 1
		 rather large), and the typesettable document set.showsize($1,$2)-:})dnl
@


1.6
log
@mop up
@
text
@d2 1
a2 1
dnl	$OpenBSD: m4.common,v 1.43 2003/03/24 11:33:52 miod Exp $
d12 1
@


1.5
log
@adjust licence and wording
@
text
@d635 6
a640 5
Everybody who obtained a copy of this work is hereby permitted to,
without further restrictions as long as due credit is given to the
authors and the notice below is retained, use, distribute, modify,
sell, give away, merge or sublicense it.

d642 4
a645 5
ty whatsoever. Use it only at your own risk. In no event an author
or contributor may be held liable for any damage that, directly or
indirectly, originated through or is caused by this work, creation
or any event connected with it, to the maximum extend permitted by
applicable law.
@


1.4
log
@new licence template
@
text
@d633 1
a633 1
Copyright (c) 1982-2003 by Thorsten "mirabile" Glaser <x86@@ePost.de>
d643 3
a645 1
indirectly, originated through or is caused by this work.
@


1.3
log
@merge OpenBSD cvs import conflicts
enable /etc/isdn directory and MAKEDEV.i4b
@
text
@d635 4
a638 3
Anyone who obtained a copy of this work is hereby permitted to freely use,
distribute, modify, merge, sublicence, give away or sell it as long as the
authors are given due credit and the following notice is retained:
d640 4
a643 4
This work is provided "as is", with no explicit or implicit warranty what-
soever. Use it only at your own risk. In no event may an author or contri-
butor be held liable for any damage, directly or indirectly, that origina-
ted through or is caused by creation or modification of this work.
@


1.2
log
@Merge MirBSD-old entirely
Remove krb, yp, afs, GPL'd stuff in kernel
Adjust some other stuff

Not to be compiled yet...
@
text
@d2 1
a2 1
dnl	$OpenBSD: m4.common,v 1.42 2003/03/05 00:32:33 miod Exp $
d182 5
a186 4
define({:-OpenBSDcdrom-:},
{:-		cdrom{:--:}OSrev.fs	The MACHINE boot and installation
				2.88mb floppy image that contains almost all
				OpenBSD drivers; see below.-:})dnl
a218 5
define({:-OpenBSDcd-:},
{:-		cd{:--:}OSrev.iso	A miniroot filesystem image suitable to be used
				as a bootable CD image; otherwise similar
				to the bsd.rd image above.-:})dnl
dnl
d474 1
a474 1
		this can be either FFS or ISO CD9660.  The OpenBSD CD
d478 2
a479 2
		directory on the CD which holds the distribution, for the
		MACHINE this is "OSREV/MACHINE".
@


1.1
log
@Initial revision
@
text
@d632 18
a649 1
recommended that you buy a book that discusses it.-:})dnl
@


1.1.1.1
log
@Import OpenBSD 3.3 source repository from CTM 3132 the first time
This opens an OpenBSD-mirabile (aka MirBSD) repository.

### MirBSD is:
# Copyright (c) 1982-2003 by Thorsten "mirabile" Glaser <x86@@ePost.de>
# Copyright  1968-2003  The authors of And contributors to UNIX, the
#       C Language, BSD/Berkeley Unix; 386BSD, NetBSD 1.1 and OpenBSD.
#
# Anyone who obtained a copy of this work is hereby permitted to freely use,
# distribute, modify, merge, sublicence, give away or sell it as long as the
# authors are given due credit and the following notice is retained:
#
# This work is provided "as is", with no explicit or implicit warranty what-
# soever. Use it only at your own risk. In no event may an author or contri-
# butor be held liable for any damage, directly or indirectly, that origina-
# ted through or is caused by creation or modification of this work.

MirBSD is my private tree. MirBSD does not differ very much from OpenBSD
and intentionally tracks OpenBSD. That's why it _is_ OpenBSD, just not the
official one. It's like with DarrenBSD.

At time of this writing, no advertising for MirBSD must be done,
because the advertising clause has not yet been sorted out.

http://templeofhate.com/tglaser/MirBSD/index.php
@
text
@@


1.1.1.2
log
@Import OpenBSD repository of CTM 3155 (roughly today at noon).
Mostly in order to go 3.3-current and ease further merges of
both OpenBSD and ELFdiffs after the MirBSD has been enabled
to build again.
@
text
@d2 1
a2 1
dnl	$OpenBSD: m4.common,v 1.43 2003/03/24 11:33:52 miod Exp $
d182 4
a185 5
dnl
define({:-OpenBSDcd-:},
{:-		cd{:--:}OSrev.iso	A miniroot filesystem image suitable to be used
				as a bootable CD-ROM image; otherwise similar
				to the bsd.rd image above.-:})dnl
d218 5
d478 1
a478 1
		this can be either FFS or ISO CD9660.  The OpenBSD CD-ROM
d482 2
a483 2
		directory on the CD-ROM which holds the distribution, for
		the MACHINE this is "OSREV/MACHINE".
@


1.1.1.3
log
@Import OpenBSD source tree from CVS (anoncvs canada)
of roughly 12:00 UTC today. Bumps us to OpenBSD 3.4
and makes source/ports in sync. Hopefully.
@
text
@d2 1
a2 1
dnl	$OpenBSD: m4.common,v 1.44 2003/08/11 22:21:15 miod Exp $
a11 1
MACHINE,mvme88k,m88k,
@


1.1.1.4
log
@Time to import OpenBSD once again. Expect breakage.
@
text
@d2 1
a2 1
dnl	$OpenBSD: m4.common,v 1.45 2003/10/31 04:03:15 drahn Exp $
a13 1
MACHINE,pegasos,powerpc,
@


1.1.1.5
log
@large-scale import of OpenBSD 3.5-current source base including many fixes
note: from now, we will not be binary compatible with OpenBSD apps any
longer (due to syscall numbering differences); both an OpenBSD compat and
a conversion tool for old MirOS #7 apps will be delivered later.

The src/ tree is locked from now.
@
text
@d2 1
a2 16
dnl	$OpenBSD: m4.common,v 1.58 2004/05/03 15:18:18 drahn Exp $
dnl
dnl Copyright (c) 2004 Todd T. Fries <todd@@OpenBSD.org>
dnl
dnl Permission to use, copy, modify, and distribute this software for any
dnl purpose with or without fee is hereby granted, provided that the above
dnl copyright notice and this permission notice appear in all copies.
dnl
dnl THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
dnl WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
dnl MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
dnl ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
dnl WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
dnl ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
dnl OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
dnl
a7 1
MACHINE,cats,arm,
d14 1
d30 1
d32 7
a38 9
	INSTALL.MACHINE	Installation notes; this file.

	CKSUM, MD5	Output of the cksum(1) and md5(1) programs,
			usable for verification of the correctness of
			downloaded files.')dnl
dnl
dnl Change the quote.  There were too many `word' situations that would
dnl have to have been changed to ``word''.  The quote gets changed to
dnl {:- and -:}.  It can really be anything, but it needs to be unique.
d43 2
a44 2
dnl o base`'OSrev is required because if it appears as baseOSrev the
dnl   defined value OSrev does not get substituted.  Same goes for MACHINE,
d62 2
a63 2
dnl                  - empty 2nd arg, for files where only compressed size
dnl                    is known
d120 1
a120 1
		 configuration files by hand; see the section named "Upgrading
d182 2
a183 2
{:-	floppy{:--:}OSrev.fs	The standard MACHINE boot and installation floppy;
			see below.-:})dnl
d186 3
a188 3
{:-	cd{:--:}OSrev.iso	A miniroot filesystem image suitable to be used
			as a bootable CD-ROM image; otherwise similar to
			the bsd.rd image above.-:})dnl
d198 1
a198 1
	ntrw.exe, or `dd', as described later in this document.
d207 2
a208 1
{:-	*.tgz		MACHINE binary distribution sets; see below.-:})dnl
d211 3
a213 2
{:-	bsd		A stock GENERIC MACHINE kernel which will be
			installed on your system during the install.-:})dnl
d216 4
a219 4
{:-	bsd.rd		A compressed RAMDISK kernel; the embedded
			filesystem contains the installation tools.
			Used for simple installation from a pre-existing
			system.-:})dnl
d222 4
a225 3
{:-	miniroot{:--:}OSrev.fs	A miniroot filesystem image to be used if you
			for some reason can't or don't want to use the
			ramdisk installation method.-:})dnl
d313 1
a313 1
	is usually in partition 'b'.$1
d316 1
a316 1
	/tmp, and /var, and if you have room for it, one for /home.  In
d355 1
a355 1
	ask you for the name of your system and the DNS domain name to use.
d362 1
a362 1
	the netmask to use, and any interface-specific flags to set. The
d370 1
a370 1
	After all network interfaces have been configured, the install pro-
d394 1
a394 1
		       FTP proxy (squid, CERN FTP, Apache 1.2 or higher).
d396 1
a396 1
		       firewall that blocks outgoing FTP (assuming you
d398 1
a398 1
		    2) Do you need to use active mode FTP?  By default,
d402 2
a403 2
		       this option if you are connecting to a buggy FTP
		       daemon that implements passive FTP incorrectly.
d405 1
a405 1
		       FTP if you are using a proxy.
d407 1
a407 1
		       DNS earlier in the install) of an FTP server
d411 1
a411 1
		    4) The FTP directory holding the distribution sets.
d414 1
a414 1
		    5) The login and password for the FTP account.
d416 1
a416 1
		       non-anonymous FTP.
d419 1
a419 1
		FTP, see the section named "Common URL installations" below.-:})dnl
d426 1
a426 1
		       HTTP proxy (squid, CERN FTP, Apache 1.2 or higher).
d428 1
a428 1
		       firewall that blocks outgoing HTTP connections
d431 1
a431 1
		       DNS earlier in the install) of an HTTP server
d439 1
a439 1
		       HTTP mirror sites that you received in step 3.
d442 1
a442 1
		HTTP, see the section named "Common URL installations" below.-:})dnl
d488 2
a489 2
{:-	To install from an NFS mounted directory:
		When installing from an NFS-mounted directory, you must
d531 1
a531 1
		sets.  This is normally $1"sdN", where N is a number
d533 1
a533 1
		within that disk that holds the distribution; this is a
d538 1
a538 1
		$2{:--:}install from partitions that have been formatted as the
d547 1
a547 1
		a local disk partition, see the next section.-:})dnl
d604 1
a604 1
	be created for you, and the file systems will be unmounted.  For
d701 1
a701 1
	the OpenBSD FTP or HTTP mirror sites, using an FTP client or a web
d710 1
a710 1
	containing an ffs filesystem, not an MSDOS format diskette.
d726 1
a726 1
	(i.e. read-only).-:})dnl
a914 14
define({:-OpenBSDInstNFS-:},
{:-Now you must populate the `/dev' directory for your client. If the server
does not run OpenBSD you might save the MAKEDEV output:

	eo=echo ksh MAKEDEV all > all.sh

and then tailor it for your server operating system before running it.  Note
that MAKEDEV is written specifically for ksh, and may not work on any other
Bourne shell.

There will be error messages about unknown users and groups. These errors are
inconsequential for the purpose of installing OpenBSD. However, you may
want to correct them if you plan to use the diskless setup regularly. In that
case, you may re-run MAKEDEV on your OpenBSD machine once it has booted.-:})dnl
@


