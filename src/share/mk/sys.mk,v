head	1.140;
access;
symbols
	tg-mergetmp-mirosx-1:1.140
	tg-mergefixes-1-branch:1.140.0.4
	tg-mergefixes-1-base:1.140
	MIROS_X:1.140.0.2
	MIROS_X_BASE:1.140
	tg-mergetmp-3:1.140
	MIRBSD_XP_MIRPPC:1.125.0.4
	MIRBSD_XP_SPARC_BASE:1.125
	MIRBSD_XP_SPARC:1.125.0.2
	cvs-200406230955:1.1.1.4
	MIRBSD_7quater:1.44.2.4.2.2
	cvs-200405160640:1.1.1.4
	cvs-200401271800:1.1.1.3
	cvs-200401261630:1.1.1.3
	cvs-200401021645:1.1.1.3
	MIRBSD_7_ALPHA:1.44.2.4.2.1.0.2
	MIRBSD_7:1.44.2.4.0.2
	cvs-200312222040:1.1.1.3
	MIRBSD_7ter:1.44.2.4
	MIRBSD_7_DEV:1.44.0.2
	cvs-200310020700:1.1.1.3
	cvs-200309271030:1.1.1.3
	cvs-200309251530:1.1.1.3
	cvs-200308302005:1.1.1.3
	cvs-200308221505:1.1.1.3
	cvs-200308171200:1.1.1.3
	ctm-3496:1.1.1.2
	ctm-3449:1.1.1.1
	ctm-3437:1.1.1.1
	cvs-200307191805:1.1.1.1
	ctm-3425:1.1.1.1
	cvs-200307091500:1.1.1.1
	cvs-200307072125:1.1.1.1
	ctm-3389:1.1.1.1
	cvs-200306291430:1.1.1.1
	ctm-3341:1.1.1.1
	MIRBSD_5:1.3
	cvs-200306082100:1.1.1.1
	ctm-3316:1.1.1.1
	ctm-3272:1.1.1.1
	ctm-3264:1.1.1.1
	cvs-200305071630:1.1.1.1
	MIRBSD_4:1.2
	ctm-3203:1.1.1.1
	cvs-20030410-1130:1.1.1.1
	ctm-3155:1.1.1.1
	ctm-3132:1.1.1.1
	openbsd:1.1.1;
locks; strict;
comment	@# @;


1.140
date	2004.12.11.17.05.56;	author tg;	state Exp;
branches
	1.140.4.1;
next	1.139;

1.139
date	2004.12.09.22.49.33;	author tg;	state Exp;
branches;
next	1.138;

1.138
date	2004.12.05.13.35.23;	author tg;	state Exp;
branches;
next	1.137;

1.137
date	2004.12.03.14.47.13;	author tg;	state Exp;
branches;
next	1.136;

1.136
date	2004.11.26.16.48.01;	author tg;	state Exp;
branches;
next	1.135;

1.135
date	2004.11.23.13.53.50;	author tg;	state Exp;
branches;
next	1.134;

1.134
date	2004.11.16.17.00.51;	author tg;	state Exp;
branches;
next	1.133;

1.133
date	2004.11.14.00.13.44;	author tg;	state Exp;
branches;
next	1.132;

1.132
date	2004.10.31.23.16.33;	author tg;	state Exp;
branches;
next	1.131;

1.131
date	2004.10.26.21.00.07;	author tg;	state Exp;
branches;
next	1.130;

1.130
date	2004.10.22.22.09.53;	author tg;	state Exp;
branches;
next	1.129;

1.129
date	2004.10.22.19.26.36;	author tg;	state Exp;
branches;
next	1.128;

1.128
date	2004.10.15.17.01.20;	author tg;	state Exp;
branches;
next	1.127;

1.127
date	2004.10.12.15.10.57;	author tg;	state Exp;
branches;
next	1.126;

1.126
date	2004.10.11.21.54.57;	author tg;	state Exp;
branches;
next	1.125;

1.125
date	2004.10.10.21.55.48;	author tg;	state Exp;
branches;
next	1.124;

1.124
date	2004.10.08.21.37.53;	author tg;	state Exp;
branches;
next	1.123;

1.123
date	2004.10.08.04.22.17;	author tg;	state Exp;
branches;
next	1.122;

1.122
date	2004.10.06.23.55.02;	author tg;	state Exp;
branches;
next	1.121;

1.121
date	2004.10.01.20.25.21;	author tg;	state Exp;
branches;
next	1.120;

1.120
date	2004.09.29.23.10.28;	author tg;	state Exp;
branches;
next	1.119;

1.119
date	2004.09.18.17.02.08;	author tg;	state Exp;
branches;
next	1.118;

1.118
date	2004.09.17.20.16.42;	author tg;	state Exp;
branches;
next	1.117;

1.117
date	2004.09.12.13.48.15;	author tg;	state Exp;
branches;
next	1.116;

1.116
date	2004.09.11.18.17.45;	author tg;	state Exp;
branches;
next	1.115;

1.115
date	2004.09.07.08.51.19;	author tg;	state Exp;
branches;
next	1.114;

1.114
date	2004.09.07.08.25.21;	author tg;	state Exp;
branches;
next	1.113;

1.113
date	2004.08.27.18.57.12;	author tg;	state Exp;
branches;
next	1.112;

1.112
date	2004.08.26.17.03.46;	author tg;	state Stab;
branches;
next	1.111;

1.111
date	2004.08.23.16.04.09;	author tg;	state Exp;
branches;
next	1.110;

1.110
date	2004.08.22.01.11.31;	author tg;	state Exp;
branches;
next	1.109;

1.109
date	2004.08.14.00.01.51;	author tg;	state Exp;
branches;
next	1.108;

1.108
date	2004.08.13.15.12.50;	author tg;	state Exp;
branches;
next	1.107;

1.107
date	2004.08.12.10.49.46;	author tg;	state Exp;
branches;
next	1.106;

1.106
date	2004.08.01.11.04.11;	author tg;	state Exp;
branches;
next	1.105;

1.105
date	2004.07.04.17.10.57;	author tg;	state Exp;
branches;
next	1.104;

1.104
date	2004.07.01.21.53.02;	author tg;	state Exp;
branches;
next	1.103;

1.103
date	2004.06.19.23.46.22;	author tg;	state Exp;
branches;
next	1.102;

1.102
date	2004.06.19.01.48.11;	author tg;	state Exp;
branches;
next	1.101;

1.101
date	2004.06.14.00.25.49;	author tg;	state Exp;
branches;
next	1.100;

1.100
date	2004.06.11.16.58.15;	author tg;	state Exp;
branches;
next	1.99;

1.99
date	2004.05.23.21.44.36;	author tg;	state Exp;
branches;
next	1.98;

1.98
date	2004.05.23.15.57.42;	author tg;	state Exp;
branches;
next	1.97;

1.97
date	2004.05.10.17.44.31;	author tg;	state Exp;
branches;
next	1.96;

1.96
date	2004.05.07.01.49.07;	author tg;	state Exp;
branches;
next	1.95;

1.95
date	2004.05.02.14.32.45;	author tg;	state Exp;
branches;
next	1.94;

1.94
date	2004.05.02.13.46.51;	author tg;	state Exp;
branches;
next	1.93;

1.93
date	2004.04.29.20.15.21;	author tg;	state Exp;
branches;
next	1.92;

1.92
date	2004.04.28.19.12.41;	author tg;	state Exp;
branches;
next	1.91;

1.91
date	2004.04.26.21.13.01;	author tg;	state Exp;
branches;
next	1.90;

1.90
date	2004.04.26.17.49.02;	author tg;	state Exp;
branches;
next	1.89;

1.89
date	2004.04.20.18.35.39;	author tg;	state Exp;
branches;
next	1.88;

1.88
date	2004.04.19.22.44.40;	author tg;	state Exp;
branches;
next	1.87;

1.87
date	2004.04.17.13.37.29;	author tg;	state Exp;
branches;
next	1.86;

1.86
date	2004.04.17.13.30.29;	author tg;	state Exp;
branches;
next	1.85;

1.85
date	2004.04.10.23.22.12;	author tg;	state Exp;
branches;
next	1.84;

1.84
date	2004.04.08.16.01.42;	author tg;	state Exp;
branches;
next	1.83;

1.83
date	2004.03.22.21.09.42;	author tg;	state Exp;
branches;
next	1.82;

1.82
date	2004.03.22.20.54.22;	author tg;	state Exp;
branches;
next	1.81;

1.81
date	2004.03.21.05.14.55;	author tg;	state Exp;
branches;
next	1.80;

1.80
date	2004.03.10.17.38.33;	author tg;	state Exp;
branches;
next	1.79;

1.79
date	2004.03.09.21.10.51;	author tg;	state Exp;
branches;
next	1.78;

1.78
date	2004.03.07.21.52.47;	author tg;	state Exp;
branches;
next	1.77;

1.77
date	2004.03.02.10.53.54;	author tg;	state Exp;
branches;
next	1.76;

1.76
date	2004.03.02.08.32.01;	author tg;	state Exp;
branches;
next	1.75;

1.75
date	2004.02.29.01.19.49;	author tg;	state Exp;
branches;
next	1.74;

1.74
date	2004.02.25.14.30.24;	author tg;	state Exp;
branches;
next	1.73;

1.73
date	2004.02.25.14.16.04;	author tg;	state Exp;
branches;
next	1.72;

1.72
date	2004.02.23.16.24.58;	author tg;	state Exp;
branches;
next	1.71;

1.71
date	2004.02.13.21.32.28;	author tg;	state Exp;
branches;
next	1.70;

1.70
date	2004.02.08.19.49.18;	author tg;	state Exp;
branches;
next	1.69;

1.69
date	2004.02.07.22.30.43;	author tg;	state Exp;
branches;
next	1.68;

1.68
date	2004.01.29.21.33.00;	author tg;	state Exp;
branches;
next	1.67;

1.67
date	2004.01.28.15.14.10;	author tg;	state Exp;
branches;
next	1.66;

1.66
date	2004.01.20.19.42.19;	author tg;	state Exp;
branches;
next	1.65;

1.65
date	2004.01.18.15.23.19;	author tg;	state Exp;
branches;
next	1.64;

1.64
date	2004.01.14.18.46.10;	author tg;	state Exp;
branches;
next	1.63;

1.63
date	2004.01.03.04.50.51;	author tg;	state Exp;
branches;
next	1.62;

1.62
date	2003.12.28.01.01.22;	author tg;	state Exp;
branches;
next	1.61;

1.61
date	2003.12.27.19.54.59;	author tg;	state Exp;
branches;
next	1.60;

1.60
date	2003.12.27.18.45.03;	author tg;	state Exp;
branches;
next	1.59;

1.59
date	2003.12.27.00.31.02;	author tg;	state Exp;
branches;
next	1.58;

1.58
date	2003.12.21.22.08.33;	author tg;	state Exp;
branches;
next	1.57;

1.57
date	2003.12.17.18.55.18;	author tg;	state Exp;
branches;
next	1.56;

1.56
date	2003.12.10.21.45.13;	author tg;	state Exp;
branches;
next	1.55;

1.55
date	2003.12.06.01.22.48;	author tg;	state Exp;
branches;
next	1.54;

1.54
date	2003.11.30.05.56.16;	author tg;	state Exp;
branches;
next	1.53;

1.53
date	2003.11.27.22.37.35;	author tg;	state Exp;
branches;
next	1.52;

1.52
date	2003.11.11.19.34.30;	author tg;	state Exp;
branches;
next	1.51;

1.51
date	2003.11.09.12.54.15;	author tg;	state Exp;
branches;
next	1.50;

1.50
date	2003.10.30.18.07.44;	author tg;	state Exp;
branches;
next	1.49;

1.49
date	2003.10.29.19.46.10;	author tg;	state Exp;
branches;
next	1.48;

1.48
date	2003.10.27.22.23.25;	author tg;	state Exp;
branches;
next	1.47;

1.47
date	2003.10.27.22.21.37;	author tg;	state Exp;
branches;
next	1.46;

1.46
date	2003.10.26.23.03.29;	author tg;	state Exp;
branches;
next	1.45;

1.45
date	2003.10.21.17.51.43;	author tg;	state Exp;
branches;
next	1.44;

1.44
date	2003.10.09.12.35.28;	author tg;	state Exp;
branches
	1.44.2.1;
next	1.43;

1.43
date	2003.10.08.21.15.01;	author tg;	state Exp;
branches;
next	1.42;

1.42
date	2003.10.08.18.31.32;	author tg;	state Exp;
branches;
next	1.41;

1.41
date	2003.10.04.02.22.24;	author tg;	state Exp;
branches;
next	1.40;

1.40
date	2003.10.03.11.32.14;	author tg;	state Exp;
branches;
next	1.39;

1.39
date	2003.10.02.19.35.14;	author tg;	state Exp;
branches;
next	1.38;

1.38
date	2003.10.01.18.33.28;	author tg;	state Exp;
branches;
next	1.37;

1.37
date	2003.09.28.22.27.28;	author tg;	state Exp;
branches;
next	1.36;

1.36
date	2003.09.28.14.08.30;	author tg;	state Exp;
branches;
next	1.35;

1.35
date	2003.09.27.23.57.17;	author tg;	state Exp;
branches;
next	1.34;

1.34
date	2003.09.27.15.46.52;	author tg;	state Exp;
branches;
next	1.33;

1.33
date	2003.09.25.22.01.42;	author tg;	state Exp;
branches;
next	1.32;

1.32
date	2003.09.25.21.21.22;	author tg;	state Exp;
branches;
next	1.31;

1.31
date	2003.09.25.20.59.59;	author tg;	state Exp;
branches;
next	1.30;

1.30
date	2003.09.24.17.02.05;	author tg;	state Exp;
branches;
next	1.29;

1.29
date	2003.09.20.05.58.01;	author tg;	state Exp;
branches;
next	1.28;

1.28
date	2003.09.19.13.19.24;	author tg;	state Exp;
branches;
next	1.27;

1.27
date	2003.09.18.20.09.00;	author tg;	state Exp;
branches;
next	1.26;

1.26
date	2003.09.17.19.10.04;	author tg;	state Exp;
branches;
next	1.25;

1.25
date	2003.09.16.23.04.47;	author tg;	state Exp;
branches;
next	1.24;

1.24
date	2003.09.10.22.01.15;	author tg;	state Exp;
branches;
next	1.23;

1.23
date	2003.09.07.17.07.36;	author tg;	state Exp;
branches;
next	1.22;

1.22
date	2003.09.04.16.04.59;	author tg;	state Exp;
branches;
next	1.21;

1.21
date	2003.09.04.00.02.15;	author tg;	state Exp;
branches;
next	1.20;

1.20
date	2003.09.03.17.01.36;	author tg;	state Exp;
branches;
next	1.19;

1.19
date	2003.09.02.01.03.07;	author tg;	state Exp;
branches;
next	1.18;

1.18
date	2003.09.01.17.36.40;	author tg;	state Exp;
branches;
next	1.17;

1.17
date	2003.09.01.16.43.11;	author tg;	state Exp;
branches;
next	1.16;

1.16
date	2003.08.31.20.54.47;	author tg;	state Exp;
branches;
next	1.15;

1.15
date	2003.08.17.18.56.12;	author tg;	state Exp;
branches;
next	1.14;

1.14
date	2003.08.16.15.25.34;	author tg;	state Exp;
branches;
next	1.13;

1.13
date	2003.07.26.16.08.07;	author tg;	state Exp;
branches;
next	1.12;

1.12
date	2003.07.22.16.07.07;	author tg;	state Exp;
branches;
next	1.11;

1.11
date	2003.07.20.20.41.52;	author tg;	state Exp;
branches;
next	1.10;

1.10
date	2003.07.19.20.23.59;	author tg;	state Exp;
branches;
next	1.9;

1.9
date	2003.07.18.15.45.19;	author tg;	state Exp;
branches;
next	1.8;

1.8
date	2003.07.08.18.09.09;	author tg;	state Exp;
branches;
next	1.7;

1.7
date	2003.07.08.14.20.36;	author tg;	state Exp;
branches;
next	1.6;

1.6
date	2003.07.06.20.22.25;	author tg;	state Exp;
branches;
next	1.5;

1.5
date	2003.07.05.17.09.13;	author tg;	state Exp;
branches;
next	1.4;

1.4
date	2003.07.02.16.24.02;	author tg;	state Exp;
branches;
next	1.3;

1.3
date	2003.05.21.17.03.14;	author tg;	state Exp;
branches;
next	1.2;

1.2
date	2003.03.23.19.29.59;	author tg;	state Exp;
branches;
next	1.1;

1.1
date	2003.03.22.17.49.10;	author tg;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2003.03.22.17.49.10;	author tg;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	2003.08.11.18.32.41;	author tg;	state Exp;
branches;
next	1.1.1.3;

1.1.1.3
date	2003.08.17.14.25.41;	author tg;	state Exp;
branches;
next	1.1.1.4;

1.1.1.4
date	2004.05.16.08.35.03;	author tg;	state Exp;
branches;
next	;

1.44.2.1
date	2003.10.23.21.59.48;	author tg;	state Exp;
branches;
next	1.44.2.2;

1.44.2.2
date	2003.10.26.21.24.14;	author tg;	state Exp;
branches;
next	1.44.2.3;

1.44.2.3
date	2003.11.09.18.48.02;	author tg;	state Exp;
branches;
next	1.44.2.4;

1.44.2.4
date	2003.11.15.21.48.56;	author tg;	state Exp;
branches
	1.44.2.4.2.1;
next	;

1.44.2.4.2.1
date	2003.12.31.02.12.11;	author tg;	state Exp;
branches;
next	1.44.2.4.2.2;

1.44.2.4.2.2
date	2004.04.12.17.43.24;	author tg;	state Exp;
branches;
next	1.44.2.4.2.3;

1.44.2.4.2.3
date	2004.04.26.15.16.39;	author tg;	state Exp;
branches;
next	;

1.140.4.1
date	2004.12.28.22.17.14;	author tg;	state Exp;
branches;
next	;


desc
@@


1.140
log
@merge, bump
@
text
@# $MirBSD: src/share/mk/sys.mk,v 1.138 2004/12/05 13:35:23 tg Exp $
# $OpenBSD: sys.mk,v 1.39 2004/09/20 18:52:37 espie Exp $
# $NetBSD: sys.mk,v 1.27 1996/04/10 05:47:19 mycroft Exp $
# @@(#)sys.mk	5.11 (Berkeley) 3/13/91
#-
# Copyright (c) 2002, 2003, 2004
#	Thorsten "mirabile" Glaser <tg@@66h.42h.de>
#
# Licensee is hereby permitted to deal in this work without restric-
# tion, including unlimited rights to use, publicly perform, modify,
# merge, distribute, sell, give away or sublicence, provided all co-
# pyright notices above, these terms and the disclaimer are retained
# in all redistributions or reproduced in accompanying documentation
# or other materials provided with binary redistributions.
#
# Licensor hereby provides this work "AS IS" and WITHOUT WARRANTY of
# any kind, expressed or implied, to the maximum extent permitted by
# applicable law, but with the warranty of being written without ma-
# licious intent or gross negligence; in no event shall licensor, an
# author or contributor be held liable for any damage, direct, indi-
# rect or other, however caused, arising in any way out of the usage
# of this work, even if advised of the possibility of such damage.
#-
# We want at least the following defines: (samples)
# MACHINE		i386			amiga
# MACHINE_ARCH		i386			m68k
# MACHINE_OS		BSD			Linux
# OStype		MirBSD			Debian (...)
# OSrev			7			version
# OSrpl			128			patchlevel
# OSNAME		MirBSD			uname -s
# OSname		mirbsd			uname -s in lowercase
# OScompat		3.5			equivalent OpenBSD version
# OStriplet		i386-ecce-mirbsd8	... for GNU software

.ifndef	SYS_MK

.if defined(EXTRA_SYS_MK_INCLUDES)
.  for _i in ${EXTRA_SYS_MK_INCLUDES}
.    include ${_i}
.  endfor
.endif

MACHINE_OS?=	unknown
.if ${MACHINE_OS} == "BSD"
OStype=		MirBSD
.elif ${MACHINE_OS} == "Linux"
OStype=		MirLinux
.else
ERRORS+=	Warning: $$MACHINE_OS unknown!
___DISPLAY_MAKEVARS+=ERRORS
OStype=		unknown
.endif

# Sync these with <sys/param.h>
unix=		We run ${OStype}.
OSrev=		8		# MirOS version (major)
OSrpl=		29		# MirOS patchlevel
OScompat=	3.5		# OpenBSD compatibility revision
.if !defined(OSNAME) || empty(OSNAME)
OSNAME!=	uname -s
.endif
OSname=		${OSNAME:L}
OStriplet?=	${MACHINE_ARCH}-ecce-${OSname}${OSrev}

.SUFFIXES:	.a .c .cc .cxx .h .i .l .ln .m4 .o .out .S .s .sh .y
.LIBS:		.a

AR?=		ar
ARFLAGS?=	rl
RANLIB?=	ranlib
LORDER?=	lorder

AS?=		as
AFLAGS?=	${DEBUG}
COMPILE.s?=	${CC} ${AFLAGS} -c
LINK.s?=	${CC} ${AFLAGS} ${LDFLAGS}
COMPILE.S?=	${CC} ${AFLAGS} ${CPPFLAGS} -c
LINK.S?=	${CC} ${AFLAGS} ${CPPFLAGS} ${LDFLAGS}

CC?=		gcc

CFLAGS?=	-O2 ${PIPE} ${DEBUG}
COMPILE.c?=	${CC} ${CFLAGS} ${CPPFLAGS} -c
LINK.c?=	${CC} ${CFLAGS} ${CPPFLAGS} ${LDFLAGS}

HOSTCC?=	gcc

CXX?=		c++
CXXFLAGS?=	${CFLAGS}
COMPILE.cc?=	${CXX} ${CXXFLAGS} ${CPPFLAGS} -c
LINK.cc?=	${CXX} ${CXXFLAGS} ${CPPFLAGS} ${LDFLAGS}

CPP?=		cpp
CPPFLAGS?=
CPPFLAGS+=	-I${.CURDIR}

LEX?=		lex
LFLAGS?=
LEX.l?=		${LEX} ${LFLAGS}

LD?=		ld
LDFLAGS+=	${DEBUG}

LINT?=		lint
LINTFLAGS?=	-chapbx

# MirOS can use mirbsdksh extensions per definitionem
SHELL=		/bin/ksh
MAKE?=		make

YACC?=		yacc
YFLAGS?=	-d
YACC.y?=	${YACC} ${YFLAGS}

INSTALL?=	install

CTAGS?=		/usr/bin/ctags

# C
.c:
	${LINK.c} -o ${.TARGET} ${.IMPSRC} ${LDLIBS}
.c.o:
	${COMPILE.c} ${CFLAGS_${.TARGET}} ${.IMPSRC}
.c.i:
	${COMPILE.c} -o ${.TARGET} -E ${.IMPSRC}
.c.a:
	${COMPILE.c} ${.IMPSRC}
	${AR} ${ARFLAGS} $@@ $*.o
	rm -f $*.o
.c.ln:
	${LINT} ${LINTFLAGS} ${CFLAGS:M-[IDU]*} ${CPPFLAGS:M-[IDU]*} \
	    -i ${.IMPSRC}

# C++
.cc:
	${LINK.cc} -o ${.TARGET} ${.IMPSRC} ${LDLIBS}
.cc.o:
	${COMPILE.cc} ${CXXFLAGS_${.TARGET}} ${.IMPSRC}
.cc.i:
	${COMPILE.cc} -o ${.TARGET} -E ${.IMPSRC}
.cc.a:
	${COMPILE.cc} ${.IMPSRC}
	${AR} ${ARFLAGS} $@@ $*.o
	rm -f $*.o

.cxx:
	${LINK.cc} -o ${.TARGET} ${.IMPSRC} ${LDLIBS}
.cxx.o:
	${COMPILE.cc} ${CXXFLAGS_${.TARGET}} ${.IMPSRC}
.cxx.i:
	${COMPILE.cc} -o ${.TARGET} -E ${.IMPSRC}
.cxx.a:
	${COMPILE.cc} ${.IMPSRC}
	${AR} ${ARFLAGS} $@@ $*.o
	rm -f $*.o

# Assembly
.s:
	${LINK.s} -o ${.TARGET} ${.IMPSRC} ${LDLIBS}
.s.o:
	${COMPILE.s} ${ASFLAGS_${.TARGET}} ${.IMPSRC}
.s.a:
	${COMPILE.s} ${.IMPSRC}
	${AR} ${ARFLAGS} $@@ $*.o
	rm -f $*.o

.S:
	${LINK.S} -o ${.TARGET} ${.IMPSRC} ${LDLIBS}
.S.o:
	${COMPILE.S} ${ASFLAGS_${.TARGET}} ${.IMPSRC}
.S.i:
	${COMPILE.S} -o ${.TARGET} -E ${.IMPSRC}
.S.a:
	${COMPILE.S} ${.IMPSRC}
	${AR} ${ARFLAGS} $@@ $*.o
	rm -f $*.o

# Lex
.l:
	${LEX.l} ${.IMPSRC}
	${LINK.c} -o ${.TARGET} lex.yy.c ${LDLIBS} -ll
	rm -f lex.yy.c
.l.c:
	${LEX.l} ${.IMPSRC}
	mv lex.yy.c ${.TARGET}
.l.o:
	${LEX.l} ${.IMPSRC}
	${COMPILE.c} ${CFLAGS_${.TARGET}} -o ${.TARGET} lex.yy.c
	rm -f lex.yy.c

# Yacc
.y:
	${YACC.y} ${.IMPSRC}
	${LINK.c} -o ${.TARGET} y.tab.c ${LDLIBS}
	rm -f y.tab.c
.y.c:
	${YACC.y} ${.IMPSRC}
	mv y.tab.c ${.TARGET}
.y.o:
	${YACC.y} ${.IMPSRC}
	${COMPILE.c} ${CFLAGS_${.TARGET}} -o ${.TARGET} y.tab.c
	rm -f y.tab.c

# Shell
.sh:
	rm -f ${.TARGET}
	cp ${.IMPSRC} ${.TARGET}

# Debugging output
.if defined(___DISPLAY_MAKEVARS)
.MAIN: ___display_makevars
.endif
___display_makevars: .PHONY .NOTMAIN
.for _i in ${___DISPLAY_MAKEVARS}
	@@printf '%s\n' '${${_i}}'
.endfor

SYS_MK=done
.endif
@


1.140.4.1
log
@bump
@
text
@d1 1
a1 1
# $MirBSD: src/share/mk/sys.mk,v 1.140 2004/12/11 17:05:56 tg Exp $
d58 1
a58 1
OSrpl=		30		# MirOS patchlevel
@


1.139
log
@bump
@
text
@d58 1
a58 1
OSrpl=		28		# MirOS patchlevel
@


1.138
log
@* no pascal, fortran, .cl (whatever that is)
* .E -> .i
* bump
@
text
@d1 1
a1 1
# $MirBSD: src/share/mk/sys.mk,v 1.137 2004/12/03 14:47:13 tg Exp $
d58 1
a58 1
OSrpl=		27		# MirOS patchlevel
@


1.137
log
@merge, bump
@
text
@d1 1
a1 1
# $MirBSD: src/share/mk/sys.mk,v 1.136 2004/11/26 16:48:01 tg Exp $
d10 5
a14 5
# tion, including unlimited rights to use, publically perform, modi-
# fy, merge, distribute, sell, give away or sublicence, provided the
# above copyright notices, these terms and the disclaimer are retai-
# ned in all redistributions, or reproduced in accompanying documen-
# tation or other materials provided with binary redistributions.
d22 1
a22 1
# of covered work, even if advised of the possibility of such damage.
d24 11
a34 11
# We want at least the following defines:
# MACHINE		i386		amiga
# MACHINE_ARCH		i386		m68k
# MACHINE_OS		BSD		Linux
# OStype		MirBSD		Debian (...)
# OSrev			7		version
# OSrpl			128		patchlevel
# OSNAME		MirBSD		uname -s
# OSname		mirbsd		uname -s in lowercase
# OScompat		3.5		OpenBSD equivalent version
# OStriplet		i386-ecce-mirbsd7	for GNU software
d39 2
a40 2
.  for __SYS_MK_INCLUDE in ${EXTRA_SYS_MK_INCLUDES}
.    include ${__SYS_MK_INCLUDE}
d58 1
a58 1
OSrpl=		26		# MirOS patchlevel
d66 1
a66 2
.SUFFIXES:	.out .a .ln .o .c .cc .C .cxx .E .F .f .r
.SUFFIXES:	.y .l .s .S .cl .p .pas .h .sh .m4
a111 5
PC?=		gpc
PFLAGS?=	${CFLAGS} --automake
COMPILE.p?=	${PC} ${PFLAGS} ${CPPFLAGS} -c
LINK.p?=	${PC} ${PFLAGS} ${CPPFLAGS} ${LDFLAGS}

d125 1
a125 1
.c.E:
d140 1
a140 1
.cc.E:
a146 11
.C:
	${LINK.cc} -o ${.TARGET} ${.IMPSRC} ${LDLIBS}
.C.o:
	${COMPILE.cc} ${CXXFLAGS_${.TARGET}} ${.IMPSRC}
.C.E:
	${COMPILE.cc} -o ${.TARGET} -E ${.IMPSRC}
.C.a:
	${COMPILE.cc} ${.IMPSRC}
	${AR} ${ARFLAGS} $@@ $*.o
	rm -f $*.o

d151 1
a151 1
.cxx.E:
a157 19
# Pascal
.p:
	${LINK.p} -o ${.TARGET} ${.IMPSRC} ${LDLIBS}
.p.o:
	${COMPILE.p} ${PFLAGS_${.TARGET}} ${.IMPSRC}
.p.a:
	${COMPILE.p} ${.IMPSRC}
	${AR} ${ARFLAGS} $@@ $*.o
	rm -f $*.o

.pas:
	${LINK.p} -o ${.TARGET} ${.IMPSRC} ${LDLIBS}
.pas.o:
	${COMPILE.p} ${PFLAGS_${.TARGET}} ${.IMPSRC}
.pas.a:
	${COMPILE.p} ${.IMPSRC}
	${AR} ${ARFLAGS} $@@ $*.o
	rm -f $*.o

d167 1
d172 1
a172 1
.S.E:
@


1.136
log
@merge (plug a mem leak)
@
text
@d1 1
a1 1
# $MirBSD: src/share/mk/sys.mk,v 1.135 2004/11/23 13:53:50 tg Exp $
d58 1
a58 1
OSrpl=		25		# MirOS patchlevel
@


1.135
log
@make libraries build with recent <time.h> changes
@
text
@d1 1
a1 1
# $MirBSD: src/share/mk/sys.mk,v 1.134 2004/11/16 17:00:51 tg Exp $
d58 1
a58 1
OSrpl=		24		# MirOS patchlevel
@


1.134
log
@bump to 08/17, shuffle
@
text
@d1 1
a1 1
# $MirBSD: src/share/mk/sys.mk,v 1.133 2004/11/14 00:13:44 tg Exp $
d58 1
a58 1
OSrpl=		23		# MirOS patchlevel
@


1.133
log
@shlib flag day: bump _all_ majors, and MirOS to 0816
@
text
@d1 1
a1 1
# $MirBSD: src/share/mk/sys.mk,v 1.132 2004/10/31 23:16:33 tg Exp $
d57 3
a59 2
OSrev=		8
OSrpl=		22
a63 1
OScompat=	3.5		# OpenBSD compatibility revision
d82 1
a82 1
CC?=		cc
d88 1
a88 1
HOSTCC?=	cc
a132 1
.if (${MACHINE_ARCH} != "alpha")
a136 1
.endif
d138 2
a139 1
	${LINT} ${LINTFLAGS} ${CFLAGS:M-[IDU]*} ${CPPFLAGS:M-[IDU]*} -i ${.IMPSRC}
@


1.132
log
@MirOS 08/15: OpenBSD support ;)
@
text
@d1 1
a1 1
# $MirBSD: src/share/mk/sys.mk,v 1.131 2004/10/26 21:00:07 tg Exp $
d58 1
a58 1
OSrpl=		21
@


1.131
log
@we can build a threaded perl again
bump to #0814
@
text
@d1 1
a1 1
# $MirBSD: src/share/mk/sys.mk,v 1.130 2004/10/22 22:09:53 tg Exp $
d58 1
a58 1
OSrpl=		20
@


1.130
log
@bump here, too
@
text
@d1 1
a1 1
# $MirBSD: src/share/mk/sys.mk,v 1.129 2004/10/22 19:26:36 tg Exp $
d58 1
a58 1
OSrpl=		18
@


1.129
log
@merge most of the changes of recent OpenBSD appropriately for our goals
@
text
@d1 1
a1 1
# $MirBSD: src/share/mk/sys.mk,v 1.128 2004/10/15 17:01:20 tg Exp $
d58 1
a58 1
OSrpl=		17
@


1.128
log
@* optimise away a large part of the codepath for the
  second entry into k7 powernow init
* add a second of delay after setting the hw.setperf
  sysctl, allows for adjusting hw.cpuspeed
  XXX isn't there a better way? damnit
* mop up
* update to 0811
@
text
@d1 2
a2 2
# $MirBSD: src/share/mk/sys.mk,v 1.127 2004/10/12 15:10:57 tg Exp $
# $OpenBSD: sys.mk,v 1.37 2004/04/05 19:17:25 miod Exp $
d140 1
a140 1
	${LINT} ${LINTFLAGS} ${CFLAGS:M-[IDU]*} -i ${.IMPSRC}
@


1.127
log
@0801 doesn't work for uname; 0810 is the lowest -beta denominator patchlevel
@
text
@d1 1
a1 1
# $MirBSD: src/share/mk/sys.mk,v 1.126 2004/10/11 21:54:57 tg Exp $
d58 1
a58 1
OSrpl=		16
@


1.126
log
@per special wish of bsiegert@@, "codename: MirOS XP" will
be released as MirOS #8 after we finish the gcc 3.4 thing

enter MirOS #8-beta
@
text
@d1 1
a1 1
# $MirBSD: src/share/mk/sys.mk,v 1.125 2004/10/10 21:55:48 tg Exp $
d58 1
a58 1
OSrpl=		1
@


1.125
log
@07C8 my babe
@
text
@d1 1
a1 1
# $MirBSD: src/share/mk/sys.mk,v 1.124 2004/10/08 21:37:53 tg Exp $
d57 2
a58 2
OSrev=		7
OSrpl=		200
@


1.124
log
@start cross-compiling efforts
I'm currently playing with this, expect it to change.
I'll try crossbuilding from i386-ecce-mirbsd7 to i386-pc-linux-gnu
@
text
@d1 1
a1 1
# $MirBSD: src/share/mk/sys.mk,v 1.123 2004/10/08 04:22:17 tg Exp $
d58 1
a58 1
OSrpl=		199
@


1.123
log
@add MirOS BSD/sparc and MirOS BSD/macppc machine descriptions
fix MirOS BSD/i386 machine description a little
regenerate
@
text
@d1 1
a1 1
# $MirBSD: src/share/mk/sys.mk,v 1.122 2004/10/06 23:55:02 tg Exp $
d64 1
a64 1
OStriplet=	${MACHINE_ARCH}-ecce-${OSname}${OSrev}
@


1.122
log
@bump MirOS patchlevel; autodetect Nroff8Cmd
@
text
@d1 1
a1 1
# $MirBSD: src/share/mk/sys.mk,v 1.121 2004/10/01 20:25:21 tg Exp $
d58 1
a58 1
OSrpl=		198
@


1.121
log
@merge recent OpenSSH-current
@
text
@d1 1
a1 1
# $MirBSD: src/share/mk/sys.mk,v 1.120 2004/09/29 23:10:28 tg Exp $
d58 1
a58 1
OSrpl=		197
@


1.120
log
@this time I really removed the *.xz ldscripts for non-miros arches.
also, sync the lists, and bump the patchlevel (libcdk, etc.)
@
text
@d1 1
a1 1
# $MirBSD: src/share/mk/sys.mk,v 1.119 2004/09/18 17:02:08 tg Exp $
d58 1
a58 1
OSrpl=		196
@


1.119
log
@appropriately bump (ssh-keygen -I/-E addition)
sry, this isn't in the upcoming snapshot
@
text
@d1 1
a1 1
# $MirBSD: src/share/mk/sys.mk,v 1.118 2004/09/17 20:16:42 tg Exp $
d58 1
a58 1
OSrpl=		195
@


1.118
log
@like a week of hard work.
* .cvsignore: add build.log
* X: remove unused code
* distrib: shrink floppy ramdisk until it fits, factor out some
  essentials (ping, netcat, hexdump, df, mknod, update, MBRmgr)
  into just another list
* disktab, conf/FLOPPY: in-kernel floppy image shrinks by 256 KiB
* distrib/lists: sync
* gcc: Ada now always disables -fstack-protector-all (not SSP in
  general); I learned it protects by itself
* ld.so, sed: gcc -fstack-protector-all mis-compiles some files
* bsd.own.mk: libbfd and libopcodes need a minor bump
* sys.mk, param.h, gcc version.c: bump MirOS version/patchlevel

I *hope* a make b-r "could" now succeed. I've done like 50 this week.
@
text
@d1 1
a1 1
# $MirBSD: src/share/mk/sys.mk,v 1.117 2004/09/12 13:48:15 tg Exp $
d58 1
a58 1
OSrpl=		194
@


1.117
log
@bump (make uses mksh; other subtileties)
we're nearing #8-beta
@
text
@d1 1
a1 1
# $MirBSD: src/share/mk/sys.mk,v 1.116 2004/09/11 18:17:45 tg Exp $
d58 1
a58 1
OSrpl=		193
@


1.116
log
@MIROS_ABEND and show= not only were not (really) used, they also
prevent usage with MirMake
@
text
@d1 1
a1 1
# $MirBSD: src/share/mk/sys.mk,v 1.115 2004/09/07 08:51:19 tg Exp $
d58 1
a58 1
OSrpl=		192
@


1.115
log
@override user-defined SHELL value from the environment to mirbsdksh
based on a complaint by Bastian "waldi" Blank
@
text
@d1 1
a1 1
# $MirBSD: src/share/mk/sys.mk,v 1.114 2004/09/07 08:25:21 tg Exp $
d50 2
a51 1
MIROS_ABEND+=	'Warning: $$$$MACHINE_OS unknown!'
@


1.114
log
@- add automain target for ___display_makevars if ___DISPLAY_MAKEVARS set
- add descn for OStype
@
text
@d1 1
a1 1
# $MirBSD: src/share/mk/sys.mk,v 1.113 2004/08/27 18:57:12 tg Exp $
d108 2
a115 5

# not using ?= not an oversight
.if !defined(SHELL) || empty(SHELL)
SHELL=		/bin/ksh
.endif
@


1.113
log
@(double) bump to 07C0 - it's an important sync point right now
@
text
@d1 1
a1 1
# $MirBSD: src/share/mk/sys.mk,v 1.112 2004/08/26 17:03:46 tg Exp $
d28 1
a28 1
# OStype		MirBSD		whatever uses this anyways?
d249 3
@


1.112
log
@a target like this, positioned in the one single file make(1)
always pulls in - as first -, should be marked .NOTMAIN ...

found the hard (make -dA 2>&1 | less) way
@
text
@d1 1
a1 1
# $MirBSD: src/share/mk/sys.mk,v 1.111 2004/08/23 16:04:09 tg Exp $
d57 1
a57 1
OSrpl=		190
@


1.111
log
@#7uBE: MirOS gains generic 'dump me a variable' support for make
@
text
@d1 1
a1 1
# $MirBSD: src/share/mk/sys.mk,v 1.110 2004/08/22 01:11:31 tg Exp $
d249 1
a249 1
___display_makevars: .PHONY
@


1.110
log
@finally, update to MirOS OpenSSH 3.9 and provide a nice example
for session multiplexing; bump OS revision in addition
@
text
@d1 1
a1 1
# $MirBSD: src/share/mk/sys.mk,v 1.109 2004/08/14 00:01:51 tg Exp $
d57 1
a57 1
OSrpl=		189
d247 6
@


1.109
log
@* Makefile:
	add contbuild-x as an undocumented helper target
	(I thought I had already committed this, wtf?)
* time.h, taitime.c:
	It's a _absolutely_ stoopid idea to name a function tai_now()
	if it has a different calling signature than the libtai one
	from DJB, especially if included in libc. Found while linking
	some DJB ware statically (d'oh).
	Rename tai[na]_now() to tai[na]_time() and add an optional
	pointer argument to tai_time() so it behaves exactly the
	same as time(3), just with tai64_t not time_t.
	Fix some comments and build warnings (-Wall).
* time.h:
	always expose TAI functions
	for this, pull <machine/types.h>
	fix a bit
* bsd.own.mk:
	libc interface has changed, bump major
	no need to bump libpthread
* sys.mk / param.h:
	bump
* tai_make.c:
	adjust for new time.h
@
text
@d1 1
a1 1
# $MirBSD: src/share/mk/sys.mk,v 1.108 2004/08/13 15:12:50 tg Exp $
d57 1
a57 1
OSrpl=		188
@


1.108
log
@bump these, so MirPorts will know we have no C++ (for a while)
@
text
@d1 1
a1 1
# $MirBSD: src/share/mk/sys.mk,v 1.107 2004/08/12 10:49:46 tg Exp $
d57 1
a57 1
OSrpl=		187
@


1.107
log
@bump after long time:
* gcc now uses sjlj-exceptions
* binutils to 2.15
* lotsa other changes
@
text
@d1 1
a1 1
# $MirBSD: src/share/mk/sys.mk,v 1.106 2004/08/01 11:04:11 tg Exp $
d57 1
a57 1
OSrpl=		186
@


1.106
log
@use setjmp/longjmp exception handling instead of voodoo unwinding
-> this maybe fixes the abort(3) problem of centericq, who knows ;)
bump level, and up version.c (including in tinyirc)
@
text
@d1 1
a1 1
# $MirBSD: src/share/mk/sys.mk,v 1.105 2004/07/04 17:10:57 tg Exp $
d57 1
a57 1
OSrpl=		185
@


1.105
log
@bump to 184 - no gdiff baby
@
text
@d1 1
a1 1
# $MirBSD: src/share/mk/sys.mk,v 1.104 2004/07/01 21:53:02 tg Exp $
d57 1
a57 1
OSrpl=		184
@


1.104
log
@first round of -Wformat -Werror fixes, triggered by just looking at
the mere content of /kern/time and hindered by GCC and the OpenBSD
format thingies
@
text
@d1 1
a1 1
# $MirBSD: src/share/mk/sys.mk,v 1.103 2004/06/19 23:46:22 tg Exp $
d57 1
a57 1
OSrpl=		183
@


1.103
log
@MirOS 07B6 has a 64 bit time_t
@
text
@d1 1
a1 1
# $MirBSD: src/share/mk/sys.mk,v 1.102 2004/06/19 01:48:11 tg Exp $
d57 1
a57 1
OSrpl=		182
@


1.102
log
@* sync
* make msdosfs not spit out E2BIG diagnostics to console unmotiviedly
  (msdosfs sucks, someone ought to do a better FAT-compatible FS impl)
* speed up make by defining OSNAME only if it's not already defined
  in <sys.mk> (you might use the environment for example)
* bump OS patchlevel
@
text
@d1 1
a1 1
# $MirBSD: src/share/mk/sys.mk,v 1.101 2004/06/14 00:25:49 tg Exp $
d57 1
a57 1
OSrpl=		181
@


1.101
log
@First (probably not working[1]) attempt at modernizing the framework:
* MANZ, MANPS, NOPROFILE die (always set to false, false, true)
* Fortran generating code for <bsd.prog.mk> dies (pascal to follow)
* GLOBAL_AUTOCONF_CACHE dies (birth of <bsd.gnuwrap.mk> to follow...)
* sanitize my head and rewrite certain pieces of certain Makefiles
* move most mk.conf functionality out of there, so a system
  without mk.conf works really well(TM)
* attempt at synching docs with reality

[1] First update *.mk, then remove old mk.conf and mk.conf.local,
    then install new mk.conf and adapt it to suit your needs.

Why don't the OpenBSD people modernize parts of this? The indenting
is really really bad in places, and MANSUBDIR was... well. I have
done it with 1/3 of the code now, and it works. Even better.

There will definitively follow more ;-)
@
text
@d1 1
a1 1
# $MirBSD: src/share/mk/sys.mk,v 1.100 2004/06/11 16:58:15 tg Exp $
d57 2
a58 1
OSrpl=		180
d60 1
@


1.100
log
@* For all practical reasons, in MirOS (in contrast to OpenBSD) the
  bsd.rd media ought to be identical to the GENERIC kernel (makes
  a nice hardware testing equipment, by the way). Do it so.
* i386 now has GENERIC, RAMDISK and FLOPPY like other arches.
* i386 bsd.rd also has ssh, sshd now. I promised that to wbx@@ some
  time ago, and it eases remote installs and building live CDs
  as well.
* bump patchlevel
@
text
@d1 1
a1 1
# $MirBSD: src/share/mk/sys.mk,v 1.99 2004/05/23 21:44:36 tg Exp $
d5 32
d39 3
a41 3
.for __SYS_MK_INCLUDE in ${EXTRA_SYS_MK_INCLUDES}
.include ${__SYS_MK_INCLUDE}
.endfor
a57 1
OSREV=		${OSrev}.0
d61 1
a95 10
FC?=		g77
FFLAGS?=	-O2
RFLAGS?=
COMPILE.f?=	${FC} ${FFLAGS} -c
LINK.f?=	${FC} ${FFLAGS} ${LDFLAGS}
COMPILE.F?=	${FC} ${FFLAGS} ${CPPFLAGS} -c
LINK.F?=	${FC} ${FFLAGS} ${CPPFLAGS} ${LDFLAGS}
COMPILE.r?=	${FC} ${FFLAGS} ${RFLAGS} -c
LINK.r?=	${FC} ${FFLAGS} ${RFLAGS} ${LDFLAGS}

a175 28
# Fortran/Ratfor
.f:
	${LINK.f} -o ${.TARGET} ${.IMPSRC} ${LDLIBS}
.f.o:
	${COMPILE.f} ${FFLAGS_${.TARGET}} ${.IMPSRC}
.f.a:
	${COMPILE.f} ${.IMPSRC}
	${AR} ${ARFLAGS} $@@ $*.o
	rm -f $*.o

.F:
	${LINK.F} -o ${.TARGET} ${.IMPSRC} ${LDLIBS}
.F.o:
	${COMPILE.F} ${FFLAGS_${.TARGET}} ${.IMPSRC}
.F.a:
	${COMPILE.F} ${.IMPSRC}
	${AR} ${ARFLAGS} $@@ $*.o
	rm -f $*.o

.r:
	${LINK.r} -o ${.TARGET} ${.IMPSRC} ${LDLIBS}
.r.o:
	${COMPILE.r} ${RFLAGS_${.TARGET}} ${.IMPSRC}
.r.a:
	${COMPILE.r} ${.IMPSRC}
	${AR} ${ARFLAGS} $@@ $*.o
	rm -f $*.o

d245 3
@


1.99
log
@looks like I forgot the bump
@
text
@d1 1
a1 1
# $MirBSD: src/share/mk/sys.mk,v 1.98 2004/05/23 15:57:42 tg Exp $
a21 3
# Whatever domain the MirOS project occupies at the moment
_DOMAIN_DU_JOUR=66h.42h.de

d25 1
a25 1
OSrpl=		179
@


1.98
log
@* merge OpenBSD 3.5-current
* fix every single Makefile for papers/USD/PSD/SMM
* improve <bsd.doc.mk> - tbl(1) is called by default now
* move programme definitions from <bsd.doc.mk> into <bsd.own.mk>
* move a bunch of compiler selection stuff from /etc/mk.conf
  into <bsd.own.mk> and improve it largely
* overhaul gcc-local(1) and style(9), referencing our licence
  template in the latter
* overhaul (mostly shorten and clarify) the COPYRIGHT file;
  make clear where the other licences (Apache, Sendmail, GNU, ...)
  are listed, by pathname and www URI
* employ new mechanism to check for paper/doc Makefiles/SUBDIRs
* fix mdoc macros
* merge more acronymes from NetBSD

This merge took me more than three hours, just FYI
@
text
@d1 1
a1 1
# $MirBSD: src/share/mk/sys.mk,v 1.97 2004/05/10 17:44:31 tg Exp $
d28 1
a28 1
OSrpl=		178
d32 1
a32 1
OScompat=	3.4		# OpenBSD compatibility revision
@


1.97
log
@another bump, for all these fixes :(
@
text
@d1 2
a2 2
# $MirBSD: src/share/mk/sys.mk,v 1.96 2004/05/07 01:49:07 tg Exp $
# $OpenBSD: sys.mk,v 1.35 2003/08/11 14:52:42 deraadt Exp $
@


1.96
log
@bump (last commit before OpenBSD import)
@
text
@d1 1
a1 1
# $MirBSD: src/share/mk/sys.mk,v 1.95 2004/05/02 14:32:45 tg Exp $
d28 1
a28 1
OSrpl=		177
@


1.95
log
@better SHELL
@
text
@d1 1
a1 1
# $MirBSD: src/share/mk/sys.mk,v 1.94 2004/05/02 13:46:51 tg Exp $
d28 1
a28 1
OSrpl=		176
@


1.94
log
@fix the kludge for memcpy() vs memmove() correctly:
* add new -femit-memmove to gcc
* switch back to old (emit memcpy calls) behaviour by default
* sync pgcc with gcc
* document new switch
* add .Xr to pgcc(1) to gcc-local(1)
* bump versions
@
text
@d1 1
a1 1
# $MirBSD: src/share/mk/sys.mk,v 1.93 2004/04/29 20:15:21 tg Exp $
d94 4
a97 1
SHELL?=		sh
@


1.93
log
@add --automake to default PFLAGS
@
text
@d1 1
a1 1
# $MirBSD: src/share/mk/sys.mk,v 1.92 2004/04/28 19:12:41 tg Exp $
d28 1
a28 1
OSrpl=		175
@


1.92
log
@better buffer: use ring buffer, larger, don't throw into main random
buffer that often; use xor to not lose randomicity (average); bump
@
text
@d1 1
a1 1
# $MirBSD: src/share/mk/sys.mk,v 1.91 2004/04/26 21:13:01 tg Exp $
d90 1
a90 1
PFLAGS?=	${CFLAGS}
@


1.91
log
@bump (library addition)
@
text
@d1 1
a1 1
# $MirBSD: src/share/mk/sys.mk,v 1.90 2004/04/26 17:49:02 tg Exp $
d28 1
a28 1
OSrpl=		174
@


1.90
log
@bump (randomness increases)
@
text
@d1 1
a1 1
# $MirBSD: src/share/mk/sys.mk,v 1.89 2004/04/20 18:35:39 tg Exp $
d28 1
a28 1
OSrpl=		173
@


1.89
log
@prepare for MirPorts change
@
text
@d1 1
a1 1
# $MirBSD: src/share/mk/sys.mk,v 1.88 2004/04/19 22:44:40 tg Exp $
d28 1
a28 1
OSrpl=		172
@


1.88
log
@provide OSNAME and OSname
bump patchlevel
@
text
@d1 1
a1 1
# $MirBSD: sys.mk,v 1.87 2004/04/17 13:37:29 tg Exp $
d28 1
a28 1
OSrpl=		171
@


1.87
log
@* sys.mk: revert, it didn't have the effect desired
* bsd.sys.mk: only override if source tree build (all ports
  builds have TRUEPREFIX set)
@
text
@d1 1
a1 1
# $MirBSD: sys.mk,v 1.85 2004/04/10 23:22:12 tg Exp $
d28 1
a28 1
OSrpl=		170
d30 2
@


1.86
log
@move CPPFLAGS before C/CXX/F/PFLAGS
@
text
@d45 2
a46 2
COMPILE.S?=	${CC} ${CPPFLAGS} ${AFLAGS} -c
LINK.S?=	${CC} ${CPPFLAGS} ${AFLAGS} ${LDFLAGS}
d51 2
a52 2
COMPILE.c?=	${CC} ${CPPFLAGS} ${CFLAGS} -c
LINK.c?=	${CC} ${CPPFLAGS} ${CFLAGS} ${LDFLAGS}
d58 2
a59 2
COMPILE.cc?=	${CXX} ${CPPFLAGS} ${CXXFLAGS} -c
LINK.cc?=	${CXX} ${CPPFLAGS} ${CXXFLAGS} ${LDFLAGS}
d70 2
a71 2
COMPILE.F?=	${FC} ${CPPFLAGS} ${FFLAGS} -c
LINK.F?=	${FC} ${CPPFLAGS} ${FFLAGS} ${LDFLAGS}
d89 2
a90 2
COMPILE.p?=	${PC} ${CPPFLAGS} ${PFLAGS} -c
LINK.p?=	${PC} ${CPPFLAGS} ${PFLAGS} ${LDFLAGS}
@


1.85
log
@bump; mirlibtool in base
@
text
@d1 1
a1 1
# $MirBSD: sys.mk,v 1.84 2004/04/08 16:01:42 tg Exp $
d45 2
a46 2
COMPILE.S?=	${CC} ${AFLAGS} ${CPPFLAGS} -c
LINK.S?=	${CC} ${AFLAGS} ${CPPFLAGS} ${LDFLAGS}
d51 2
a52 2
COMPILE.c?=	${CC} ${CFLAGS} ${CPPFLAGS} -c
LINK.c?=	${CC} ${CFLAGS} ${CPPFLAGS} ${LDFLAGS}
d58 2
a59 2
COMPILE.cc?=	${CXX} ${CXXFLAGS} ${CPPFLAGS} -c
LINK.cc?=	${CXX} ${CXXFLAGS} ${CPPFLAGS} ${LDFLAGS}
d70 2
a71 2
COMPILE.F?=	${FC} ${FFLAGS} ${CPPFLAGS} -c
LINK.F?=	${FC} ${FFLAGS} ${CPPFLAGS} ${LDFLAGS}
d89 2
a90 2
COMPILE.p?=	${PC} ${PFLAGS} ${CPPFLAGS} -c
LINK.p?=	${PC} ${PFLAGS} ${CPPFLAGS} ${LDFLAGS}
@


1.84
log
@fix stuff, add pascal, add ${CFLAGS_target.o} and friends
@
text
@d1 1
a1 1
# $MirBSD: sys.mk,v 1.83 2004/03/22 21:09:42 tg Exp $
d28 1
a28 1
OSrpl=		169
@


1.83
log
@update security-relevant stuff
@
text
@d1 1
a1 1
# $MirBSD: sys.mk,v 1.82 2004/03/22 20:54:22 tg Exp $
d32 2
a33 2
.SUFFIXES: .out .a .ln .o .c .cc .C .cxx .E .F .f .r .y .l .s .S .cl .p .h .sh .m4

d87 2
a88 2
PC?=		pc
PFLAGS?=
d106 1
a106 1
	${COMPILE.c} ${.IMPSRC}
d122 1
a122 1
	${COMPILE.cc} ${.IMPSRC}
d133 1
a133 1
	${COMPILE.cc} ${.IMPSRC}
d144 1
a144 1
	${COMPILE.cc} ${.IMPSRC}
d156 1
a156 1
	${COMPILE.f} ${.IMPSRC}
d165 1
a165 1
	${COMPILE.F} ${.IMPSRC}
d174 1
a174 1
	${COMPILE.r} ${.IMPSRC}
d184 2
d187 8
a194 1
.p.a:
d203 1
a203 1
	${COMPILE.s} ${.IMPSRC}
d211 1
a211 1
	${COMPILE.S} ${.IMPSRC}
d229 1
a229 1
	${COMPILE.c} -o ${.TARGET} lex.yy.c
d242 1
a242 1
	${COMPILE.c} -o ${.TARGET} y.tab.c
@


1.82
log
@big commit:
* fix xlock correctly, this time
* add RCS IDs
* nuke remaining unprotected calls to obsolete network protocols
  (I hope I didn't remove too much)
* build base + X11 through and sync sets
@
text
@d1 1
a1 1
# $MirBSD: sys.mk,v 1.81 2004/03/21 05:14:55 tg Exp $
d28 1
a28 1
OSrpl=		168
@


1.81
log
@bump here too
@
text
@d1 1
a1 1
# $MirBSD: sys.mk,v 1.80 2004/03/10 17:38:33 tg Exp $
d28 1
a28 1
OSrpl=		166
@


1.80
log
@* fix the build system
* fix and enable the GNU Pascal RTS and Utils
  -> gpc is now fully supported; Hello World works.
* merge OpenBSD-OpenSSH 3.8, bump patchlevel
* add fchroot(2) diff, From: Pedro Martelletto <pbastos@@rdc.puc-rio.br>
* add fchroot(2) man page from NetBSD and myself
* fix orders of manpage sections
* fix displaying of .Nx mdoc macro
* convert scripts requiring bash to ksh
* nuke a shutload of GNU make idiotisms
* add pregenerated manpages - help2man is just bloat
* increase shlib versions after fchroot addition
* adjust and unbreak mk.conf after recent changes
* fix boot system version number after CD boot changes
* understand why Makefile.bsd-wrapper is needed as filename. Finally.
* regenerate files after syscalls.master change
* fix RCS Id detection and generation while here
* remove unused archs while there
* use __RCSID() macro in ssh ifdef __MirBSD__
* build ssh with -Werror, too

Note: this is a pre-snapshot, pre-build commit. Nothing
of this has actually been tested.

Like I said, please wait for the snapshot. Though, the
snapshot doesn't have any more circumstances preventing
me from working towards a release and upload now.
@
text
@d1 1
a1 1
# $MirBSD: sys.mk,v 1.79 2004/03/09 21:10:51 tg Exp $
d28 1
a28 1
OSrpl=		165
@


1.79
log
@* nuke obsolete files and parts of files
* enable pascal frontend
* enable CPIO naming convention:
  sv4cpio = .cpio
  sv4crc  = .cpio
  sv4cpio gzipped = .ngz (newc/gz)
  svrcrc  gzipped = .cgz (crc/gz)
* all packages are .cgz, all sets are .ngz
* add hooks for gjc frontend
* add stubbed out gpc and gjc rts hooks in src/gnu/gcc/Makefile
* enable java frontend (with almost no changes; this is what I
  call a _really_ nice langspec-subdir... amazing)
* bump patchlevel for these changes
* better document some changes
* matthieu@@openbsd.org assured me we need no X piclibs any more
* improve comments
* export whole libz to XFree86 .a modules
* correct usage of languages when bootstrapping gcc
* fix MKC_PGCC when USE_GCC3=no (since USE_GCC3 is a post-#7
  thing, and ports/lang/egcs is not available for -current)
* install man- and texinfopages for gpc

most of this stuff is tested. however, I *strongly* recommend
to not update, but rather wait for the next snapshot.

Now missing:
* pascal RTS
* a port for libgjc (I won't like it in base, due to the
  _heavy_ overhead (jar, ffi, boehm-gc*cough*, ...), but
  since the compiler is there, it should be easy)
* test pascal (c, cp, f, objc, and ada are fine already)
* test gcov? (proto is fine, all right)
* documentation improvements
* quality tests and improvements
* more ~/.etc
* get the damn cvs conflict script right ;)

Next projects:
* update binutils
* sync with openbsd
* rewrite large parts of build system
* write boot loader
* rewrite install system
@
text
@d1 1
a1 1
# $MirBSD: sys.mk,v 1.78 2004/03/07 21:52:47 tg Exp $
d28 1
a28 1
OSrpl=		164
@


1.78
log
@connect libpng; ports follow soonish
@
text
@d1 1
a1 1
# $MirBSD: sys.mk,v 1.77 2004/03/02 10:53:54 tg Exp $
d28 1
a28 1
OSrpl=		163
@


1.77
log
@bump after recent addition of all "default" languages to gcc3,
and accompanying changes in the environment
@
text
@d1 1
a1 1
# $MirBSD: sys.mk,v 1.76 2004/03/02 08:32:01 tg Exp $
d28 1
a28 1
OSrpl=		162
@


1.76
log
@our fortran compiler is g77, not f77.
don't bother me, ask the FSF for their reasons.
@
text
@d1 1
a1 1
# $MirBSD: sys.mk,v 1.75 2004/02/29 01:19:49 tg Exp $
d28 1
a28 1
OSrpl=		161
@


1.75
log
@so, OpenBSD is for baby mulching machines. boring.
MirOS BSD is now for nuclear warheads driven in Ada, too.

well, it bootstraps itself, and the propolice problem is
documented. for upgrading you will need a binary snapshot.
in any case, update /usr/share/mk/ first.
@
text
@d1 1
a1 1
# $MirBSD: sys.mk,v 1.74 2004/02/25 14:30:24 tg Exp $
d65 1
a65 1
FC?=		f77
@


1.74
log
@bump (MirPorts now generates USTAR no longer by default;
grumbling "okok, you'd do it anyways if I said no" bsiegert@@)
@
text
@d1 1
a1 1
# $MirBSD: sys.mk,v 1.73 2004/02/25 14:16:04 tg Exp $
d28 1
a28 1
OSrpl=		160
@


1.73
log
@bump after pax changes
@
text
@d1 1
a1 1
# $MirBSD: sys.mk,v 1.72 2004/02/23 16:24:58 tg Exp $
d28 1
a28 1
OSrpl=		159
@


1.72
log
@There have been quite some updates in MirOS recently,
especially in MirPorts.
Bump the OS release to denote a milestone (ie, the
infrastructure seems ready for making most things
compile and even work correctly), although every
single port will have to be fixed.
@
text
@d1 1
a1 1
# $MirBSD: sys.mk,v 1.71 2004/02/13 21:32:28 tg Exp $
d28 1
a28 1
OSrpl=		158
@


1.71
log
@* don't add -I${.CURDIR} to CFLAGS _and_ CPPFLAGS, just the latter
  will suffice since it's added later anyways
* major whitespace
@
text
@d1 1
a1 1
# $MirBSD: sys.mk,v 1.70 2004/02/08 19:49:18 tg Exp $
d28 1
a28 1
OSrpl=		157
@


1.70
log
@* bump to 0x079D (a bit late for tiff, but hey)
* sync lists
* regenerate configure files
* remove MirLibtool, go back to gcc3 libtool :-(
* fix for $stuff
* remove dupes (libz, etc.) and unused (libintl, getopt)
* update lynx
* update texinfo.tex
etc.

XXX borked commit, eleventh try
@
text
@d1 1
a1 1
# $MirBSD: sys.mk,v 1.69 2004/02/07 22:30:43 tg Exp $
a50 1
CFLAGS+=	-I${.CURDIR}
a57 1
CXXFLAGS+=	-I${.CURDIR}
d62 1
a62 1
CPPFLAGS?=	
d220 1
a220 1
	${COMPILE.c} -o ${.TARGET} lex.yy.c 
@


1.69
log
@bump level, now that errata up to #10 are in
@
text
@d1 1
a1 1
# $MirBSD: sys.mk,v 1.68 2004/01/29 21:33:00 tg Exp $
d28 1
a28 1
OSrpl=		156
@


1.68
log
@the first part of making a release (non-X)
* sync sets (for now)
* mention set sizes in INSTALL.i386
* install all files, but not more than wanted
* fix build time warnings
  (the mktemp in lpd is said to be safe)
* update docs a bit
* the eqn -> neqn move
* improved man page generation
* anoncvsbin removes tmp before making new symlink
* sendmail generated files are now in sendmail, and
  SKIPDIRS is checked before (asked for by Waldemar Brodkorb)
* more SKIPDIR checks, mostly for GNU stuff
@
text
@d1 1
a1 1
# $MirBSD: sys.mk,v 1.67 2004/01/28 15:14:10 tg Exp $
d28 1
a28 1
OSrpl=		155
@


1.67
log
@second round
 - more merges
 - (hopefully) fix routing issue
 - also ask for a per-interface default route,
   not for a global one
 - use ELF sections for cdefs.h
   (XXX miros is now a.out incompatible. maybe even since longer.)
 - seed random on upgrade scenario
 - regenerate files
@
text
@d1 1
a1 1
# $MirBSD: sys.mk,v 1.66 2004/01/20 19:42:19 tg Exp $
d28 1
a28 1
OSrpl=		154
@


1.66
log
@From OpenBSD, or inspired by OpenBSD, or found in the meanwhile:
 * rebuild parsers in object directory
 * rebuild parser, instead of using pre-built one
 * stub for "sentinel" attribute (and "bounded" one)
 * add config for AMD64 (untested)
 * add config skeleton for sparc (file missing)
 * add config skeleton for powerpc (file and config idea missing)
 * re-enable "-fstrict-aliasing" for -O3 (when we disabled it
   for -O2, missed that point)
 * include "tools" and "backwards" for C++
 * define __ANSI_COMPAT

Also:
 * minor cleanup
 * bump version number
 * don't assume BSD for unknown $MACHINE_OS any more

Warning: changes yet untested.
@
text
@d1 1
a1 1
# $MirBSD: sys.mk,v 1.65 2004/01/18 15:23:19 tg Exp $
d28 1
a28 1
OSrpl=		153
@


1.65
log
@* in gcc3,
  - fix possible recursive circular make dependencies
  - fix bootstrapping with differing CFLAGS
* enable use of the gcc3 crt{begin,end}{,S}.o for i386
* bump patchlevel
* split out some of the perl and gcc3 stuff

survives make and make bootstrap MKC_PGCC=yes in gnu/gcc/gcc
@
text
@d1 4
a4 4
#	$MirBSD: sys.mk,v 1.64 2004/01/14 18:46:10 tg Exp $
#	$OpenBSD: sys.mk,v 1.35 2003/08/11 14:52:42 deraadt Exp $
#	$NetBSD: sys.mk,v 1.27 1996/04/10 05:47:19 mycroft Exp $
#	@@(#)sys.mk	5.11 (Berkeley) 3/13/91
a16 3
.elif !defined(MACHINE_OS)
MIROS_ABEND+=	'Warning: $$$$MACHINE_OS not set. Assuming "BSD".'
OStype=		BSD
d28 1
a28 1
OSrpl=		152
@


1.64
log
@bump for the libc minor change etc.
@
text
@d1 1
a1 1
#	$MirBSD: sys.mk,v 1.63 2004/01/03 04:50:51 tg Exp $
d31 1
a31 1
OSrpl=		151
@


1.63
log
@remaining merges and bump patchlevel until after mbr/ext change
@
text
@d1 1
a1 1
#	$MirBSD: sys.mk,v 1.62 2003/12/28 01:01:22 tg Exp $
d31 1
a31 1
OSrpl=		150
@


1.62
log
@employ fix for the uname change problem
which will fix 95% of the 90% broken ports
XXX all ports using COMES_WITH must use mirbsd
XXX	releases (1, 2, 3...) not openbsd ones
XXX	(3.0, 3.1, ...) now!
@
text
@d1 1
a1 1
#	$MirBSD: sys.mk,v 1.61 2003/12/27 19:54:59 tg Exp $
d31 1
a31 1
OSrpl=		149
@


1.61
log
@save what I've done so far to attempt building it through
perl was broken (i386-tirttt not i386-mirbsd? but not
everywhere???) etc. so I didn't sync the lists.
@
text
@d1 1
a1 1
#	$MirBSD: sys.mk,v 1.60 2003/12/27 18:45:03 tg Exp $
d33 1
@


1.60
log
@Am I stupid?
@
text
@d1 1
a1 1
#	$MirBSD: sys.mk,v 1.59 2003/12/27 00:31:02 tg Exp $
d30 3
a32 5
OSrel=		7
OSrelm=		148
OSrelx=		1
OSREV=		$(OSrel).$$(expr ${OSrelx} - 1))
OSrev=		$(OSrel)
@


1.59
log
@finish merging and sync a bit; bump version etc.
@
text
@d1 1
a1 1
#	$MirBSD: sys.mk,v 1.58 2003/12/21 22:08:33 tg Exp $
d33 2
a34 5
# OpenBSD compatibility
OSMAJOR=	3
OSMINOR=	4
OSREV=		$(OSMAJOR).$(OSMINOR)
OSrev=		$(OSMAJOR)$(OSMINOR)
@


1.58
log
@bump patchlevel to mark changes done and backup point
@
text
@d1 1
a1 1
#	$MirBSD: sys.mk,v 1.57 2003/12/17 18:55:18 tg Exp $
d31 1
a31 1
OSrelm=		147
@


1.57
log
@second (piecewise) attempt to merge MirBSD #7ter into HEAD
@
text
@d1 1
a1 1
#	$MirBSD: sys.mk,v 1.56 2003/12/10 21:45:13 tg Exp $
d31 1
a31 1
OSrelm=		146
@


1.56
log
@sync after partial make build, full make install, before make release or X11
@
text
@d1 1
a1 1
#	$MirBSD: sys.mk,v 1.55 2003/12/06 01:22:48 tg Exp $
d31 1
a31 1
OSrelm=		145
@


1.55
log
@bump
@
text
@d1 1
a1 1
#	$MirBSD: sys.mk,v 1.54 2003/11/30 05:56:16 tg Exp $
d31 1
a31 1
OSrelm=		144
@


1.54
log
@the system (kernel, userland) is fully gcc3-compileable now.
increment version number for that.

TODO:
 * wait for my X11 compile to finish
   (gcc3 is sooooooooooooooooooo slow)
 * c++, libstdc++, fortran+libs, objective-c+libs, ada
   XXX ada needs gnat installed, openbsd dont provide gnat
 * bump to gcc 3.3.2+
 * X11 enable C++ again (libGLU, yay)
 * X11 fix DRM (3D acceleration .ko""s)

TODO IMPORTANT:
 * propolice support MUST go in and be enabled before
   this thingie becomes system compiler
   (enable it in toplev.c and make bootstrap. watch it die.)
 * support for other stuff from gcc-local(1) would be nice:
   > -O2 no -fstrict-aliasing
   > err(3) checking for non-nonNULL
   > anil's bounds checker
   > -fno-ident default
@
text
@d1 1
a1 1
#	$MirBSD: sys.mk,v 1.53 2003/11/27 22:37:35 tg Exp $
d31 1
a31 1
OSrelm=		143
@


1.53
log
@make tree build through
add -Werror (but not -Wall) to lib/*
make most of libc compile with -Wall (stopped at regexp code... ugly)
bump version
@
text
@d1 1
a1 1
#	$MirBSD: sys.mk,v 1.52 2003/11/11 19:34:30 tg Exp $
d31 1
a31 1
OSrelm=		142
@


1.52
log
@change definition of NULL, bump version number
report NOW if anything breaks!
@
text
@d1 1
a1 1
#	$MirBSD: sys.mk,v 1.51 2003/11/09 12:54:15 tg Exp $
d31 1
a31 1
OSrelm=		140
@


1.51
log
@Mostly... not fully...

One weekend's worth of work.

- catch up website log with changes really done till today
- add catch-up entries for wbx@@ and bsiegert@@, too
- move GNU documentation to src/gnu/doc and simplify it
- re-run autoconf on the gnu part of the tree again, to
  catch up with the GFDL-documentation removal
- provide non-GFDL-licenced as(1) and ld(1) manual pages
  XXX these are more than outdated!
- bump MirOS patchlevel
- build the system through, fixing showstoppers where
  they are encountered
- index.cgi and index.php come before index.htm,
  default.htm and index.html in httpd.conf
- speed up PHP processing
- prepare for "new" OpenBSD pkgtools (unsupported by MirBSD,
  but some MirPorts people want to play with them)
- move old weblog to CMS; update my info again
- update hRef""s in old weblogs
- move release announcements to /historic/
- copy feature list from last release announcement
  XXX need a "readible short list", or even
  XXX	a separation for the target environment
  XXX	(e.g. suits / techies / clients)
- add some recent news, so the page ain't empty
  missing:
	- about
	  + MirOS
	  + MirPorts
	- get MirOS!	(http d/l, http install, install docs)
	- relations	(to other BSD)
	  + ??? events ??? (here?)
	- history
	- older releases	(historic)
	- help pages
	  + FAQ
	  + Docs/Tuts	(hi wbx@@ here comes your place)
	    + install docs
	  + mailing lists
	- developers
	  + wbx
	  + bsiegert
	  + cnuke
	- CVSweb	(XXX need BSDadvocacy.org fix before)
	- AnonCVS	(howto; link to)
	- Links
  alternatively, change the layout? suggestions?
  why am I the only one who cares about www?
- merge development plan
- put a "project" into the miros page head
- fix cdboot Makefile
- fix gas wanting us a.out again (wut?)
  (turned out to be a must-fix in configure.in)
- stand/cdboot/NOTES merged into stand/README
- sync distrib set lists
- have TORI device (i386 libsa) always use bounce buffers
  (which, in fact, makes it succeed in loading the kernel)
  XXX kernel says it has less than 4 meg ram (degraded mode)
  XXX may be a bochs issue?
- fix random.S again
- move determining of file name / raw file flag in both
  bios/toridev.c to the end of bios/toriopen()
  => enables us to have two drivers at once
- fix disk probing for CD devices wrt BIOS driver

(eww. The tree isn't fully broken, but neither boot
 nor cdboot.bin are usable at all at the moment.
 I'll fix that ASAP.)
@
text
@d1 1
a1 1
#	$MirBSD: sys.mk,v 1.50 2003/10/30 18:07:44 tg Exp $
d31 1
a31 1
OSrelm=		138
@


1.50
log
@It turns out that
* mkisofs works
* the "old-style" image built on cdrom34.fs works
* the "new-style" image built on cdboot and with bsd.rd doesn't
  (cdboot seems to be not initialized correctly, will
   look after that later)
* mkhybrid has lived out its life (report regressions
  against mkisofs please)
* we should bump the patchlevel and issue a warning if
  the user installs the cdrtools port
  (I don't delete mkisofs from the port yet, the MirPorts
   framework is currently following MirOS #7 stable)
* I should get my hands on the El Torito standard, and
  a good copy of bochs :)
@
text
@d1 1
a1 1
#	$MirBSD: sys.mk,v 1.49 2003/10/29 19:46:10 tg Exp $
d31 1
a31 1
OSrelm=		137
@


1.49
log
@bump version number (ssh too, user-visible change)
@
text
@d1 1
a1 1
#	$MirBSD: sys.mk,v 1.48 2003/10/27 22:23:25 tg Exp $
d31 1
a31 1
OSrelm=		136
@


1.48
log
@bump patchlevel for ${MIROS_ABEND}

nb: ABEND = ABnormal END
@
text
@d1 1
a1 1
#	$MirBSD: sys.mk,v 1.47 2003/10/27 22:21:37 tg Exp $
d31 1
a31 1
OSrelm=		135
@


1.47
log
@provide a defined way for Makefile""s to issue a warning (
	MIROS_ABEND+=	'Warning: $$$$FOO unset'
) or abort execution (
	MIROS_ABEND+=	'Fatal: foo!'
). This requires .include <bsd.sys.mk> or any other one which
includes this file (currently, the ones in our base system do).

Use this method for if ${MACHINE_OS} is neither BSD nor Linux.
@
text
@d1 1
a1 1
#	$MirBSD: sys.mk,v 1.46 2003/10/26 23:03:29 tg Exp $
d31 1
a31 1
OSrelm=		133
@


1.46
log
@no OSrelx in development versions! here, too... bad me
@
text
@d1 1
a1 1
#	$MirBSD: sys.mk,v 1.45 2003/10/21 17:51:43 tg Exp $
d17 3
d21 1
a21 1
# XXX warn here: unknown/unset type (how to warn?)
@


1.45
log
@bump version for all these changes
@
text
@d1 1
a1 1
#	$MirBSD: sys.mk,v 1.44 2003/10/09 12:35:28 tg Exp $
d29 1
a29 1
OSrelx=		2
@


1.44
log
@I don't commit code which has not been throughoutly tested.
I don't commit code which has not been throughoutly tested.
I don't commit code which has not been throughoutly tested.
I don't commit code which has not been throughoutly tested.
I don't commit code which has not been throughoutly tested.
I don't commit code which has not been throughoutly tested.
I don't commit code which has not been throughoutly tested.
I don't commit code which has not been throughoutly tested.
I don't commit code which has not been throughoutly tested.
I don't commit code which has not been throughoutly tested.
I don't commit code which has not been throughoutly tested.
I don't commit code which has not been throughoutly tested.
I don't commit code which has not been throughoutly tested.
I don't commit code which has not been throughoutly tested.
I don't commit code which has not been throughoutly tested.
I don't commit code which has not been throughoutly tested.
I don't commit code which has not been throughoutly tested.
I don't commit code which has not been throughoutly tested.
I don't commit code which has not been throughoutly tested.
I don't commit code which has not been throughoutly tested.
I don't commit code which has not been throughoutly tested.
I don't commit code which has not been throughoutly tested.
I don't commit code which has not been throughoutly tested.
I don't commit code which has not been throughoutly tested.
I don't commit code which has not been throughoutly tested.
I don't commit code which has not been throughoutly tested.
I don't commit code which has not been throughoutly tested.
I don't commit code which has not been throughoutly tested.
I don't commit code which has not been throughoutly tested.
I don't commit code which has not been throughoutly tested.
I don't commit code which has not been throughoutly tested.
I don't commit code which has not been throughoutly tested.
I don't commit code which has not been throughoutly tested.
I don't commit code which has not been throughoutly tested.
I don't commit code which has not been throughoutly tested.
I don't commit code which has not been throughoutly tested.
I don't commit code which has not been throughoutly tested.
I don't commit code which has not been throughoutly tested.
I don't commit code which has not been throughoutly tested.
I don't commit code which has not been throughoutly tested.
I don't commit code which has not been throughoutly tested.
I don't commit code which has not been throughoutly tested.
I don't commit code which has not been throughoutly tested.
I don't commit code which has not been throughoutly tested.
I don't commit code which has not been throughoutly tested.
I don't commit code which has not been throughoutly tested.
I don't commit code which has not been throughoutly tested.
I don't commit code which has not been throughoutly tested.
I don't commit code which has not been throughoutly tested.
I don't commit code which has not been throughoutly tested.
I don't commit code which has not been throughoutly tested.
I don't commit code which has not been throughoutly tested.
I don't commit code which has not been throughoutly tested.
I don't commit code which has not been throughoutly tested.
I don't commit code which has not been throughoutly tested.
I don't commit code which has not been throughoutly tested.
I don't commit code which has not been throughoutly tested.
I don't commit code which has not been throughoutly tested.
I don't commit code which has not been throughoutly tested.
I don't commit code which has not been throughoutly tested.
I don't commit code which has not been throughoutly tested.
I don't commit code which has not been throughoutly tested.
I don't commit code which has not been throughoutly tested.
I don't commit code which has not been throughoutly tested.
I don't commit code which has not been throughoutly tested.
I don't commit code which has not been throughoutly tested.
I don't commit code which has not been throughoutly tested.
I don't commit code which has not been throughoutly tested.
I don't commit code which has not been throughoutly tested.
I don't commit code which has not been throughoutly tested.
I don't commit code which has not been throughoutly tested.
I don't commit code which has not been throughoutly tested.
I don't commit code which has not been throughoutly tested.
I don't commit code which has not been throughoutly tested.
I don't commit code which has not been throughoutly tested.
I don't commit code which has not been throughoutly tested.
I don't commit code which has not been throughoutly tested.
I don't commit code which has not been throughoutly tested.
I don't commit code which has not been throughoutly tested.
I don't commit code which has not been throughoutly tested.
I don't commit code which has not been throughoutly tested.
I don't commit code which has not been throughoutly tested.
I don't commit code which has not been throughoutly tested.
I don't commit code which has not been throughoutly tested.
I don't commit code which has not been throughoutly tested.
I don't commit code which has not been throughoutly tested.
I don't commit code which has not been throughoutly tested.
I don't commit code which has not been throughoutly tested.
I don't commit code which has not been throughoutly tested.
I don't commit code which has not been throughoutly tested.
I don't commit code which has not been throughoutly tested.
I don't commit code which has not been throughoutly tested.
I don't commit code which has not been throughoutly tested.
I don't commit code which has not been throughoutly tested.
I don't commit code which has not been throughoutly tested.
I don't commit code which has not been throughoutly tested.
I don't commit code which has not been throughoutly tested.
I don't commit code which has not been throughoutly tested.
I don't commit code which has not been throughoutly tested.
I don't commit code which has not been throughoutly tested.

While here:
o fix whitespace
o fix [ x"$foo" -o ./. [[ $foo || issues
o generic style nit
@
text
@d1 1
a1 1
#	$MirBSD: sys.mk,v 1.43 2003/10/08 21:15:01 tg Exp $
d28 1
a28 1
OSrelm=		132
@


1.44.2.1
log
@bump patchlevel
@
text
@d1 1
a1 1
#	$MirBSD: sys.mk,v 1.44 2003/10/09 12:35:28 tg Exp $
d28 1
a28 1
OSrelm=		134
@


1.44.2.2
log
@ONLY, and ONLY IF AND WHEN one is building a formal release, or
preparing to do so in the local tree, you can have a line different
from "OSrelx=1" in <sys.mk>
@
text
@d1 1
a1 1
#	$MirBSD: sys.mk,v 1.44.2.1 2003/10/23 21:59:48 tg Exp $
d29 1
a29 1
OSrelx=		1
@


1.44.2.3
log
@MirOS BSD #7ter (not yet though) and bump patchlevel/version
@
text
@d1 1
a1 1
#	$MirBSD: sys.mk,v 1.44.2.2 2003/10/26 21:24:14 tg Exp $
d28 1
a28 1
OSrelm=		139
@


1.44.2.4
log
@Enter MirOS #7ter
@
text
@d1 1
a1 1
#	$MirBSD: sys.mk,v 1.44.2.3 2003/11/09 18:48:02 tg Exp $
d28 2
a29 2
OSrelm=		141
OSrelx=		3
@


1.44.2.4.2.1
log
@enter MirOS #7-stable
@
text
@d1 1
a1 1
#	$MirBSD: sys.mk,v 1.44.2.4 2003/11/15 21:48:56 tg Exp $
d29 1
a29 1
OSrelx=		99
@


1.44.2.4.2.2
log
@#7quater
@
text
@d1 1
a1 1
#	$MirBSD: sys.mk,v 1.44.2.4.2.1 2003/12/31 02:12:11 tg Exp $
d28 2
a29 2
OSrelm=		142
OSrelx=		3
@


1.44.2.4.2.3
log
@#7quater's done, back to -stable here
@
text
@d1 1
a1 1
#	$MirBSD: src/share/mk/sys.mk,v 1.44.2.4.2.2 2004/04/12 17:43:24 tg Exp $
d29 1
a29 1
OSrelx=		99
@


1.43
log
@phew, back to -current for CVS
@
text
@d1 1
a1 1
#	$MirBSD: sys.mk,v 1.42 2003/10/08 18:31:32 tg Exp $
d18 1
a18 1
# warn here: unknown type
d28 1
a28 1
OSrelm=		131
@


1.42
log
@Go back to RELEASE-bis again, more MirOS propaganda
@
text
@d1 1
a1 1
#	$MirBSD: sys.mk,v 1.40 2003/10/03 11:32:14 tg Exp $
d28 1
a28 1
OSrelm=		130
@


1.41
log
@The tree is now unlocked. The release source and ports tarballs, tagged,
are finished to build.

Please follow the development plan at BSDadvocacy. Ports should track
MirBSD #7 as long as possible ./. otherwise stated. Discussion on the
MirPorts mailing list.
@
text
@a16 3
.elif ${MACHINE_OS} == "unknown"
# warn here: unknown is treated as BSD for compatibility
OStype=		MirBSD
d22 1
a22 1
# Whatever domain the MirBSD project occupies at the moment
d28 3
a30 2
OSrelm=		131
OSrelx=		1
@


1.40
log
@o enter MirBSD #7bis RELEASE
o enable automatic execution of X-Window 'make b-r' after/within
  top-level 'make b-r' except if X-Window is contained in $(SKIPDIR)
@
text
@d1 1
a1 1
#	$MirBSD: sys.mk,v 1.39 2003/10/02 19:35:14 tg Exp $
d31 2
a32 2
OSrelm=		130
OSrelx=		2
@


1.39
log
@fix ".E" suffix rules (preprocess only)
@
text
@d1 1
a1 1
#	$MirBSD: sys.mk,v 1.38 2003/10/01 18:33:28 tg Exp $
d31 2
a32 2
OSrelm=		129
OSrelx=		1
@


1.38
log
@o bump to 0x0781 fully
o add possibility to add a release extension (MirBSD #7semel, bis, ter,
  quater, quinquies, sexties, ...)
o add .c.E .cc.E etc. targets which spit out preprocessed input
@
text
@d1 1
a1 1
#	$MirBSD: sys.mk,v 1.37 2003/09/28 22:27:28 tg Exp $
d38 1
a38 1
.SUFFIXES: .out .a .ln .o .c .cc .C .cxx .F .f .r .y .l .s .S .cl .p .h .sh .m4
@


1.37
log
@unlock the tree (although release engineering is still being done)
@
text
@d1 1
a1 1
#	$MirBSD: sys.mk,v 1.36 2003/09/28 14:08:30 tg Exp $
d32 1
d115 2
d131 2
d142 2
d153 2
d211 2
@


1.36
log
@Enter -RELEASE
@
text
@d1 1
a1 1
#	$MirBSD: sys.mk,v 1.35 2003/09/27 23:57:17 tg Exp $
d31 1
a31 1
OSrelm=		128
@


1.35
log
@a last bunch of pseudo-cleanup over the various documentation files
people needed volunteering to fix refer and port over
stuff we don't have like soelim...
@
text
@d1 1
a1 1
#	$MirBSD: sys.mk,v 1.34 2003/09/27 15:46:52 tg Exp $
d31 1
a31 1
OSrelm=		14
@


1.34
log
@Merge update, bump patchlevel
End cvs playing games with me
@
text
@d1 1
a1 1
#	$MirBSD: sys.mk,v 1.33 2003/09/25 22:01:42 tg Exp $
d31 1
a31 1
OSrelm=		13
@


1.33
log
@select -> poll conversion, not really done in a compatible way
@
text
@d1 1
a1 1
#	$MirBSD: sys.mk,v 1.32 2003/09/25 21:21:22 tg Exp $
d31 1
a31 1
OSrelm=		12
@


1.32
log
@bump mirbsd level, including ssh because it changed
@
text
@d1 1
a1 1
#	$MirBSD: sys.mk,v 1.31 2003/09/25 20:59:59 tg Exp $
d31 1
a31 1
OSrelm=		11
@


1.31
log
@Merge OpenBSD-current
@
text
@d1 1
a1 1
#	$MirBSD: sys.mk,v 1.30 2003/09/24 17:02:05 tg Exp $
d31 1
a31 1
OSrelm=		10
@


1.30
log
@bump MirBSD patchlevel:
GNU binutils 2.14 has been a success for building a base system
(now need to build a kernel, eh? :)
@
text
@d1 1
a1 1
#	$MirBSD: sys.mk,v 1.29 2003/09/20 05:58:01 tg Exp $
d31 1
a31 1
OSrelm=		9
@


1.29
log
@bump patchlevel: solved bootloader bump/issues
@
text
@d1 1
a1 1
#	$MirBSD: sys.mk,v 1.28 2003/09/19 13:19:24 tg Exp $
d31 1
a31 1
OSrelm=		8
@


1.28
log
@implement machine-parsable input for 'newvers.sh', thus allowing uname(1)
and friends to display the OS patchlevel revision (not patchlevel date)
in a parsable form, derived from the currently installed <sys.mk> revision.

Note: don't try to fake the "latest" patchlevel always. Releases (formal)
are built twice in a row from the same source. To make a formal release,
you cvs up to the tag, make b-r, check the file lists, make b-r in X-Window,
check the file lists, remove /usr/obj stuff, make b-r in both again after
a reboot.
@
text
@d1 1
a1 1
#	$MirBSD: sys.mk,v 1.27 2003/09/18 20:09:00 tg Exp $
d31 1
a31 1
OSrelm=		7
@


1.27
log
@patchlevel (next upgrade: ssh? :)
@
text
@d1 1
a1 1
#	$MirBSD: sys.mk,v 1.26 2003/09/17 19:10:04 tg Exp $
d31 1
a31 1
OSrelm=		6
@


1.26
log
@bump mirbsd patchlevel to identify an issue-free revision
07.05 includes both the 004_ssh and 005_sendmail issues in
the second revision each.
@
text
@d1 1
a1 1
#	$MirBSD: sys.mk,v 1.25 2003/09/16 23:04:47 tg Exp $
d31 1
a31 1
OSrelm=		5
@


1.25
log
@OpenSSH_3.7.1\ MirBSD_Secure_Shell-0704
@
text
@d1 1
a1 1
#	$MirBSD: sys.mk,v 1.24 2003/09/10 22:01:15 tg Exp $
d31 1
a31 1
OSrelm=		4
@


1.24
log
@put the domain du jour into a central place (<sys.mk> is
included by make(1)), so it can be used e.g. in MirPorts
@
text
@d1 1
a1 1
#	$MirBSD: sys.mk,v 1.23 2003/09/07 17:07:36 tg Exp $
d31 1
a31 1
OSrelm=		3
@


1.23
log
@wording in the install scripts
 thanks to Benny Siegert for noticing it's not newbie-friendly :P
warning in rdate for people who don't use -c
bump mirbsd patchlevel in order to produce a new snapshot (bump
 because of changes in the ports tree, too)
@
text
@d1 1
a1 1
#	$MirBSD: sys.mk,v 1.22 2003/09/04 16:04:59 tg Exp $
d24 3
@


1.22
log
@bump after licence cleanup
@
text
@d1 1
a1 1
#	$MirBSD: sys.mk,v 1.21 2003/09/04 00:02:15 tg Exp $
d28 1
a28 1
OSrelm=		2
@


1.21
log
@welcome to the wonderful world of the MirOS BSD, Release 7
well, not yet released

selected changes:
 - it compiles :)
@
text
@d1 1
a1 1
#	$MirBSD: sys.mk,v 1.20 2003/09/03 17:01:36 tg Exp $
d28 1
a28 1
OSrelm=		1
@


1.20
log
@bump mirbsd patchlevel after gcc-3.3.1 give-up and associated
tree cleanup
@
text
@d1 1
a1 1
#	$MirBSD: sys.mk,v 1.19 2003/09/02 01:03:07 tg Exp $
d27 2
a28 2
OSrel=		6
OSrelm=		145
@


1.19
log
@final tidbits before releasing the snapshot,
after enabling anoncvs framework
@
text
@d1 1
a1 1
#	$MirBSD: sys.mk,v 1.18 2003/09/01 17:36:40 tg Exp $
d28 1
a28 1
OSrelm=		144
@


1.18
log
@o ~/.ssh -> ~/.etc/ssh
o bump MirBSD/SSH patchlevel
o adjust the rest of the tree accordingly
@
text
@d1 1
a1 1
#	$MirBSD: sys.mk,v 1.17 2003/09/01 16:43:11 tg Exp $
a11 9
# Sync these with <sys/param.h>
unix=		We run MirBSD.
OSrel=		6
OSrelm=		143
OSMAJOR=	3
OSMINOR=	4
OSREV=		$(OSMAJOR).$(OSMINOR)
OSrev=		$(OSMAJOR)$(OSMINOR)

d24 9
@


1.17
log
@o document ${MACHINE_OS} for make(1)
o employ ${MACHINE_OS} in <sys.mk> defining OStype
  XXX need .WARNING: facility for bsdmake
o add SUBDIR_ONLY_{BSD,LINUX} facilities in bsd.subdir.mk
@
text
@d1 1
a1 1
#	$MirBSD: sys.mk,v 1.16 2003/08/31 20:54:47 tg Exp $
d15 1
a15 1
OSrelm=		142
@


1.16
log
@Merge import of OpenBSD source, ports and XF4 tree.

While here,
o clean up differences where possible
o whitespace cleanup
o ifdef ./. if defined()
o '...' ./. "..."
o echo foo > bar ./. echo foo >bar
o `...` ./. $(...) ./. $$(...)
o `...' ./. '...'
o modernize "our" tree, e.g. WWW in ports
o fix some typos and brainos introduced when renaming OpenBSD to MirBSD
o use hardware 80387 by default
o migrate Apache 1.3.28 OpenBSD ./. MirBSD ./. KAME
o work around as many CVS bugs as possible (add back/delete files, ...)

Synchronize stuff, ready for ongoing changes.
@
text
@d1 1
a1 1
#	$MirBSD: sys.mk,v 1.15 2003/08/17 18:56:12 tg Exp $
d13 1
a13 1
unix=		We run OpenBSD-mirabile.
d15 1
a15 1
OSrelm=		140
d20 13
@


1.15
log
@merge OpenBSD, remove a few 0x60
@
text
@d1 1
a1 1
#	$MirBSD: sys.mk,v 1.14 2003/08/16 15:25:34 tg Exp $
d12 1
d15 1
a15 2
OSrelm=		138
# Sync these two above with <sys/param.h>
@


1.14
log
@Merge OpenBSD
@
text
@d1 2
a2 2
#	$MirBSD: sys.mk,v 1.13 2003/07/26 16:08:07 tg Exp $
#	$OpenBSD: sys.mk,v 1.34 2003/08/08 22:32:13 miod Exp $
d14 1
a14 1
OSrelm=		135
d17 1
a17 1
OSMINOR=	3
@


1.13
log
@merge CVS; fix here and there a bit
@
text
@d1 2
a2 2
#	$MirBSD: sys.mk,v 1.12 2003/07/22 16:07:07 tg Exp $
#	$OpenBSD: sys.mk,v 1.33 2003/02/12 23:07:28 deraadt Exp $
d14 1
a14 1
OSrelm=		134
@


1.12
log
@sync
@
text
@d1 1
a1 1
#	$MirBSD: sys.mk,v 1.11 2003/07/20 20:41:52 tg Exp $
d14 1
a14 1
OSrelm=		133
@


1.11
log
@sync after make build release test
@
text
@d1 1
a1 1
#	$MirBSD: sys.mk,v 1.10 2003/07/19 20:23:59 tg Exp $
d14 1
a14 1
OSrelm=		132
@


1.10
log
@merge OpenBSD tree; bump MirBSD minor
@
text
@d1 1
a1 1
#	$MirBSD: sys.mk,v 1.9 2003/07/18 15:45:19 tg Exp $
d14 1
a14 1
OSrelm=		131
@


1.9
log
@mop up; yet retain libcom_err
@
text
@d1 1
a1 1
#	$MirBSD: sys.mk,v 1.8 2003/07/08 18:09:09 tg Exp $
d14 1
a14 1
OSrelm=		130
@


1.8
log
@merge
@
text
@d1 1
a1 1
#	$MirBSD: sys.mk,v 1.6 2003/07/06 20:22:25 tg Exp $
d14 1
a14 1
OSrelm=		129
@


1.7
log
@use :L for yes/no variables
@
text
@d14 1
a14 1
OSrelm=		2
@


1.6
log
@mop up
@
text
@d1 1
a1 1
#	$MirBSD: sys.mk,v 1.5 2003/07/05 17:09:13 tg Exp $
@


1.5
log
@Bump to MirBSD #6 (minor 01=n)
@
text
@d1 1
a1 1
#	$MirBSD: sys.mk,v 1.4 2003/07/02 16:24:02 tg Exp $
d14 1
a14 1
OSrelm=		1
@


1.4
log
@sync with <sys/param.h>
@
text
@d1 1
a1 1
#	$MirBSD: sys.mk,v 1.3 2003/05/21 17:03:14 tg Exp $
d13 1
a13 1
OSrel=		5
@


1.3
log
@bump to MirBSD #5-prerelease
@
text
@d1 1
a1 1
#	$MirBSD: sys.mk,v 1.2 2003/03/23 19:29:59 tg Exp $
d14 2
@


1.2
log
@Include CURDIR whenever possible
@
text
@d1 1
a1 1
#	$MirBSD$
d13 1
a36 3
.if (${MACHINE_ARCH} == "m88k")
CFLAGS?=	-O0 ${PIPE} ${DEBUG}
.else
a37 1
.endif
d55 1
a55 1
FFLAGS?=		-O2
@


1.1
log
@Initial revision
@
text
@d1 1
d12 1
a12 1
unix=		We run OpenBSD.
d41 1
d49 1
d55 1
@


1.1.1.1
log
@Import OpenBSD 3.3 source repository from CTM 3132 the first time
This opens an OpenBSD-mirabile (aka MirBSD) repository.

### MirBSD is:
# Copyright (c) 1982-2003 by Thorsten "mirabile" Glaser <x86@@ePost.de>
# Copyright  1968-2003  The authors of And contributors to UNIX, the
#       C Language, BSD/Berkeley Unix; 386BSD, NetBSD 1.1 and OpenBSD.
#
# Anyone who obtained a copy of this work is hereby permitted to freely use,
# distribute, modify, merge, sublicence, give away or sell it as long as the
# authors are given due credit and the following notice is retained:
#
# This work is provided "as is", with no explicit or implicit warranty what-
# soever. Use it only at your own risk. In no event may an author or contri-
# butor be held liable for any damage, directly or indirectly, that origina-
# ted through or is caused by creation or modification of this work.

MirBSD is my private tree. MirBSD does not differ very much from OpenBSD
and intentionally tracks OpenBSD. That's why it _is_ OpenBSD, just not the
official one. It's like with DarrenBSD.

At time of this writing, no advertising for MirBSD must be done,
because the advertising clause has not yet been sorted out.

http://templeofhate.com/tglaser/MirBSD/index.php
@
text
@@


1.1.1.2
log
@Import the complete OpenBSD source tree (base system)
as of CTM delta 3496 (roughly 1200 UTC today) into the
vendor branch.
Attention: this is a big update. Don't even try to
build this system, OpenBSD 3.4-beta, yet on your own.
@
text
@d1 1
a1 1
#	$OpenBSD: sys.mk,v 1.34 2003/08/08 22:32:13 miod Exp $
d36 1
a36 1
CFLAGS?=	-O1 ${PIPE} ${DEBUG}
@


1.1.1.3
log
@Import OpenBSD source tree from CVS (anoncvs canada)
of roughly 12:00 UTC today. Bumps us to OpenBSD 3.4
and makes source/ports in sync. Hopefully.
@
text
@d1 1
a1 1
#	$OpenBSD: sys.mk,v 1.35 2003/08/11 14:52:42 deraadt Exp $
d13 1
a13 1
OSMINOR=	4
@


1.1.1.4
log
@large-scale import of OpenBSD 3.5-current source base including many fixes
note: from now, we will not be binary compatible with OpenBSD apps any
longer (due to syscall numbering differences); both an OpenBSD compat and
a conversion tool for old MirOS #7 apps will be delivered later.

The src/ tree is locked from now.
@
text
@d1 1
a1 1
#	$OpenBSD: sys.mk,v 1.37 2004/04/05 19:17:25 miod Exp $
d13 1
a13 1
OSMINOR=	5
d35 3
d39 1
@


