head	1.9;
access;
symbols
	tg-mergetmp-mirosx-1:1.9
	tg-mergefixes-1-branch:1.9.0.4
	tg-mergefixes-1-base:1.9
	MIROS_X:1.9.0.2
	MIROS_X_BASE:1.9
	tg-mergetmp-3:1.9
	cvs-200412111650:1.1.1.12
	cvs-200412031430:1.1.1.11
	cvs-200411261545:1.1.1.10
	MIRBSD_XP_MIRPPC:1.6.0.4
	cvs-200411131700:1.1.1.10
	cvs-200410311900:1.1.1.10
	cvs-200410222040:1.1.1.10
	tg-mergetmp-1:1.1.1.9
	MIRBSD_XP_SPARC_BASE:1.6
	MIRBSD_XP_SPARC:1.6.0.2
	cvs-200410012000:1.1.1.9
	cvs-200408281215:1.1.1.9
	cvs-200408220030:1.1.1.9
	MIRBSD_7quater:1.1.1.4
	cvs-200405160640:1.1.1.8
	cvs-200403222025:1.1.1.7
	cvs-200403101630:1.1.1.7
	cvs-200401271800:1.1.1.6
	cvs-200401261630:1.1.1.6
	cvs-200401021645:1.1.1.5
	MIRBSD_7_ALPHA:1.1.1.4.0.6
	MIRBSD_7:1.1.1.4.0.4
	cvs-200312222040:1.1.1.5
	MIRBSD_7ter:1.1.1.4
	MIRBSD_7_DEV:1.1.1.4.0.2
	cvs-200310021412:1.1.1.4
	cvs-200310020700:1.1.1.4
	cvs-200309271030:1.1.1.4
	cvs-200309251530:1.1.1.4
	cvs-200309162245:1.1.1.4
	cvs-200308302005:1.1.1.3
	cvs-200308171200:1.1.1.3
	ctm-3496:1.1.1.3
	ctm-3449:1.1.1.3
	ctm-3437:1.1.1.3
	cvs-200307191805:1.1.1.3
	ctm-3425:1.1.1.3
	cvs-200307091500:1.1.1.3
	ctm-3389:1.1.1.3
	cvs-200306291430:1.1.1.3
	ctm-3341:1.1.1.3
	MIRBSD_5:1.1.1.3
	cvs-200306082100:1.1.1.3
	ctm-3316:1.1.1.3
	ctm-3272:1.1.1.3
	ctm-3264:1.1.1.2
	cvs-200305071630:1.1.1.2
	MIRBSD_4:1.1.1.2
	ctm-3203:1.1.1.2
	cvs-20030410-1130:1.1.1.2
	ctm-3155:1.1.1.2
	ctm-3132:1.1.1.1
	openbsd:1.1.1;
locks; strict;
comment	@.\" @;


1.9
date	2004.12.11.17.05.59;	author tg;	state Exp;
branches;
next	1.8;

1.8
date	2004.12.03.14.47.14;	author tg;	state Exp;
branches;
next	1.7;

1.7
date	2004.10.22.21.53.47;	author tg;	state Exp;
branches;
next	1.6;

1.6
date	2004.08.22.00.47.55;	author tg;	state Stab;
branches;
next	1.5;

1.5
date	2004.05.23.18.46.53;	author tg;	state Exp;
branches;
next	1.4;

1.4
date	2004.03.10.17.39.12;	author tg;	state Exp;
branches;
next	1.3;

1.3
date	2004.01.27.17.42.52;	author tg;	state Exp;
branches;
next	1.2;

1.2
date	2004.01.03.03.32.46;	author tg;	state Exp;
branches;
next	1.1;

1.1
date	2003.03.22.17.53.23;	author tg;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2003.03.22.17.53.23;	author tg;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	2003.03.29.19.50.10;	author tg;	state Exp;
branches;
next	1.1.1.3;

1.1.1.3
date	2003.05.21.19.17.13;	author tg;	state Exp;
branches;
next	1.1.1.4;

1.1.1.4
date	2003.09.16.22.57.37;	author tg;	state Exp;
branches;
next	1.1.1.5;

1.1.1.5
date	2003.12.22.21.14.12;	author tg;	state Exp;
branches;
next	1.1.1.6;

1.1.1.6
date	2004.01.26.19.01.06;	author tg;	state Exp;
branches;
next	1.1.1.7;

1.1.1.7
date	2004.03.10.16.35.01;	author tg;	state Exp;
branches;
next	1.1.1.8;

1.1.1.8
date	2004.05.16.08.11.48;	author tg;	state Exp;
branches;
next	1.1.1.9;

1.1.1.9
date	2004.08.22.00.32.28;	author tg;	state Exp;
branches;
next	1.1.1.10;

1.1.1.10
date	2004.10.22.20.49.56;	author tg;	state Exp;
branches;
next	1.1.1.11;

1.1.1.11
date	2004.12.03.14.35.21;	author tg;	state Exp;
branches;
next	1.1.1.12;

1.1.1.12
date	2004.12.11.16.57.55;	author tg;	state Exp;
branches;
next	;


desc
@@


1.9
log
@merge, bump
@
text
@.\" $MirBSD: src/usr.bin/ssh/sftp.1,v 1.8 2004/12/03 14:47:14 tg Exp $
.\" $OpenBSD: sftp.1,v 1.60 2004/12/05 23:55:07 jaredy Exp $
.\"
.\" Copyright (c) 2001 Damien Miller.  All rights reserved.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR
.\" IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
.\" OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
.\" IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT,
.\" INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT
.\" NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
.\" DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
.\" THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
.\" (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF
.\" THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
.\"
.Dd February 4, 2001
.Dt SFTP 1
.Os
.Sh NAME
.Nm sftp
.Nd secure file transfer program
.Sh SYNOPSIS
.Nm sftp
.Bk -words
.Op Fl 1Cv
.Op Fl B Ar buffer_size
.Op Fl b Ar batchfile
.Op Fl F Ar ssh_config
.Op Fl o Ar ssh_option
.Op Fl P Ar sftp_server_path
.Op Fl R Ar num_requests
.Op Fl S Ar program
.Op Fl s Ar subsystem | sftp_server
.Ar host
.Ek
.Nm sftp
.Oo Oo Ar user Ns @@ Oc Ns
.Ar host Ns Oo : Ns Ar file Oo
.Ar file Oc Oc Oc
.Nm sftp
.Oo Oo Ar user Ns @@ Oc Ns
.Ar host Ns Oo : Ns Ar dir Ns
.Oo Ar / Oc Oc Oc
.Nm sftp
.Fl b Ar batchfile
.Oo Ar user Ns @@ Oc Ns Ar host
.Sh DESCRIPTION
.Nm
is an interactive file transfer program, similar to
.Xr ftp 1 ,
which performs all operations over an encrypted
.Xr ssh 1
transport.
It may also use many features of ssh, such as public key authentication and
compression.
.Nm
connects and logs into the specified
.Ar host ,
then enters an interactive command mode.
.Pp
The second usage format will retrieve files automatically if a non-interactive
authentication method is used; otherwise it will do so after
successful interactive authentication.
.Pp
The third usage format allows
.Nm
to start in a remote directory.
.Pp
The final usage format allows for automated sessions using the
.Fl b
option.
In such cases, it is usually necessary to configure public key authentication
to obviate the need to enter a password at connection time (see
.Xr sshd 8
and
.Xr ssh-keygen 1
for details).
The options are as follows:
.Bl -tag -width Ds
.It Fl 1
Specify the use of protocol version 1.
.It Fl B Ar buffer_size
Specify the size of the buffer that
.Nm
uses when transferring files.
Larger buffers require fewer round trips at the cost of higher
memory consumption.
The default is 32768 bytes.
.It Fl b Ar batchfile
Batch mode reads a series of commands from an input
.Ar batchfile
instead of
.Em stdin .
Since it lacks user interaction it should be used in conjunction with
non-interactive authentication.
A
.Ar batchfile
of
.Sq \-
may be used to indicate standard input.
.Nm
will abort if any of the following
commands fail:
.Ic get , put , rename , ln ,
.Ic rm , mkdir , chdir , ls ,
.Ic lchdir , chmod , chown , chgrp , lpwd
and
.Ic lmkdir .
Termination on error can be suppressed on a command by command basis by
prefixing the command with a
.Sq \-
character (for example,
.Ic -rm /tmp/blah* ) .
.It Fl C
Enables compression (via ssh's
.Fl C
flag).
.It Fl F Ar ssh_config
Specifies an alternative
per-user configuration file for
.Xr ssh 1 .
This option is directly passed to
.Xr ssh 1 .
.It Fl o Ar ssh_option
Can be used to pass options to
.Nm ssh
in the format used in
.Xr ssh_config 5 .
This is useful for specifying options
for which there is no separate
.Nm sftp
command-line flag.
For example, to specify an alternate port use:
.Ic sftp -oPort=24 .
For full details of the options listed below, and their possible values, see
.Xr ssh_config 5 .
.Pp
.Bl -tag -width Ds -offset indent -compact
.It AddressFamily
.It BatchMode
.It BindAddress
.It ChallengeResponseAuthentication
.It CheckHostIP
.It Cipher
.It Ciphers
.It Compression
.It CompressionLevel
.It ConnectionAttempts
.It ConnectTimeout
.It ControlMaster
.It ControlPath
.It GlobalKnownHostsFile
.It Host
.It HostbasedAuthentication
.It HostKeyAlgorithms
.It HostKeyAlias
.It HostName
.It IdentityFile
.It IdentitiesOnly
.It KbdInteractiveDevices
.It LogLevel
.It MACs
.It NoHostAuthenticationForLocalhost
.It NumberOfPasswordPrompts
.It PasswordAuthentication
.It Port
.It PreferredAuthentications
.It Protocol
.It ProxyCommand
.It PubkeyAuthentication
.It RhostsRSAAuthentication
.It RSAAuthentication
.It SendEnv
.It ServerAliveInterval
.It ServerAliveCountMax
.It SmartcardDevice
.It StrictHostKeyChecking
.It TCPKeepAlive
.It UsePrivilegedPort
.It User
.It UserKnownHostsFile
.It VerifyHostKeyDNS
.El
.It Fl P Ar sftp_server_path
Connect directly to a local sftp server
(rather than via
.Xr ssh 1 ) .
This option may be useful in debugging the client and server.
.It Fl R Ar num_requests
Specify how many requests may be outstanding at any one time.
Increasing this may slightly improve file transfer speed
but will increase memory usage.
The default is 16 outstanding requests.
.It Fl S Ar program
Name of the
.Ar program
to use for the encrypted connection.
The program must understand
.Xr ssh 1
options.
.It Fl s Ar subsystem | sftp_server
Specifies the SSH2 subsystem or the path for an sftp server
on the remote host.
A path is useful for using
.Nm
over protocol version 1, or when the remote
.Xr sshd 8
does not have an sftp subsystem configured.
.It Fl v
Raise logging level.
This option is also passed to ssh.
.El
.Sh INTERACTIVE COMMANDS
Once in interactive mode,
.Nm
understands a set of commands similar to those of
.Xr ftp 1 .
Commands are case insensitive.
Pathnames that contain spaces must be enclosed in quotes.
Any special characters contained within pathnames that are recognized by
.Xr glob 3
must be escaped with backslashes
.Pq Sq \e .
.Bl -tag -width Ds
.It Ic bye
Quit
.Nm sftp .
.It Ic cd Ar path
Change remote directory to
.Ar path .
.It Ic chgrp Ar grp Ar path
Change group of file
.Ar path
to
.Ar grp .
.Ar path
may contain
.Xr glob 3
characters and may match multiple files.
.Ar grp
must be a numeric GID.
.It Ic chmod Ar mode Ar path
Change permissions of file
.Ar path
to
.Ar mode .
.Ar path
may contain
.Xr glob 3
characters and may match multiple files.
.It Ic chown Ar own Ar path
Change owner of file
.Ar path
to
.Ar own .
.Ar path
may contain
.Xr glob 3
characters and may match multiple files.
.Ar own
must be a numeric UID.
.It Ic exit
Quit
.Nm sftp .
.It Xo Ic get
.Op Fl P
.Ar remote-path
.Op Ar local-path
.Xc
Retrieve the
.Ar remote-path
and store it on the local machine.
If the local
path name is not specified, it is given the same name it has on the
remote machine.
.Ar remote-path
may contain
.Xr glob 3
characters and may match multiple files.
If it does and
.Ar local-path
is specified, then
.Ar local-path
must specify a directory.
If the
.Fl P
flag is specified, then full file permissions and access times are
copied too.
.It Ic help
Display help text.
.It Ic lcd Ar path
Change local directory to
.Ar path .
.It Ic lls Op Ar ls-options Op Ar path
Display local directory listing of either
.Ar path
or current directory if
.Ar path
is not specified.
.Ar ls-options
may contain any flags supported by the local system's
.Xr ls 1
command.
.Ar path
may contain
.Xr glob 3
characters and may match multiple files.
.It Ic lmkdir Ar path
Create local directory specified by
.Ar path .
.It Ic ln Ar oldpath Ar newpath
Create a symbolic link from
.Ar oldpath
to
.Ar newpath .
.It Ic lpwd
Print local working directory.
.It Xo Ic ls
.Op Fl 1aflnrSt
.Op Ar path
.Xc
Display a remote directory listing of either
.Ar path
or the current directory if
.Ar path
is not specified.
.Ar path
may contain
.Xr glob 3
characters and may match multiple files.
.Pp
The following flags are recognized and alter the behaviour of
.Ic ls
accordingly:
.Bl -tag -width Ds
.It Fl 1
Produce single columnar output.
.It Fl a
List files beginning with a dot
.Pq Sq \&. .
.It Fl f
Do not sort the listing.
The default sort order is lexicographical.
.It Fl l
Display additional details including permissions
and ownership information.
.It Fl n
Produce a long listing with user and group information presented
numerically.
.It Fl r
Reverse the sort order of the listing.
.It Fl S
Sort the listing by file size.
.It Fl t
Sort the listing by last modification time.
.El
.It Ic lumask Ar umask
Set local umask to
.Ar umask .
.It Ic mkdir Ar path
Create remote directory specified by
.Ar path .
.It Ic progress
Toggle display of progress meter.
.It Xo Ic put
.Op Fl P
.Ar local-path
.Op Ar remote-path
.Xc
Upload
.Ar local-path
and store it on the remote machine.
If the remote path name is not specified, it is given the same name it has
on the local machine.
.Ar local-path
may contain
.Xr glob 3
characters and may match multiple files.
If it does and
.Ar remote-path
is specified, then
.Ar remote-path
must specify a directory.
If the
.Fl P
flag is specified, then the file's full permission and access time are
copied too.
.It Ic pwd
Display remote working directory.
.It Ic quit
Quit
.Nm sftp .
.It Ic rename Ar oldpath Ar newpath
Rename remote file from
.Ar oldpath
to
.Ar newpath .
.It Ic rm Ar path
Delete remote file specified by
.Ar path .
.It Ic rmdir Ar path
Remove remote directory specified by
.Ar path .
.It Ic symlink Ar oldpath Ar newpath
Create a symbolic link from
.Ar oldpath
to
.Ar newpath .
.It Ic version
Display the
.Nm
protocol version.
.It Ic \&! Ar command
Execute
.Ar command
in local shell.
.It Ic \&!
Escape to local shell.
.It Ic \&?
Synonym for help.
.El
.Sh SEE ALSO
.Xr ftp 1 ,
.Xr ls 1 ,
.Xr scp 1 ,
.Xr ssh 1 ,
.Xr ssh-add 1 ,
.Xr ssh-keygen 1 ,
.Xr glob 3 ,
.Xr ssh_config 5 ,
.Xr sftp-server 8 ,
.Xr sshd 8
.Rs
.%A T. Ylonen
.%A S. Lehtinen
.%T "SSH File Transfer Protocol"
.%N draft-ietf-secsh-filexfer-00.txt
.%D January 2001
.%O work in progress material
.Re
@


1.8
log
@merge, bump
@
text
@d1 2
a2 2
.\" $MirBSD: src/usr.bin/ssh/sftp.1,v 1.7 2004/10/22 21:53:47 tg Exp $
.\" $OpenBSD: sftp.1,v 1.59 2004/11/29 00:05:17 jmc Exp $
d75 3
a77 1
The third usage format allows the sftp client to start in a remote directory.
d228 7
a234 3
Commands are case insensitive and pathnames may be enclosed in quotes if they
contain spaces.
.Bl -tag -width "lmdir path"
d246 4
d257 4
d266 4
d276 1
a276 1
.Op Ar flags
d286 9
d297 1
a297 1
flag is specified, then the file's full permission and access time are
d310 8
d329 1
a329 1
.Op Ar flags
d332 1
a332 1
Display remote directory listing of either
d334 1
a334 1
or current directory if
d337 19
a355 3
If the
.Fl l
flag is specified, then display additional details including permissions
d357 2
a358 3
The
.Fl n
flag will produce a long listing with user and group information presented
d360 7
a366 14
.Pp
By default,
.Ic ls
listings are sorted in lexicographical order.
This may be changed by specifying the
.Fl S
(sort by file size),
.Fl t
(sort by last modification time), or
.Fl f
(don't sort at all) flags.
Additionally, the sort order may be reversed using the
.Fl r
flag.
d376 1
a376 1
.Op Ar flags
d385 9
d434 1
d439 1
@


1.7
log
@merge; fix; whitespace; bump libc level
XXX untested
@
text
@d1 2
a2 2
.\" $MirBSD: src/usr.bin/ssh/sftp.1,v 1.6 2004/08/22 00:47:55 tg Stab $
.\" $OpenBSD: sftp.1,v 1.58 2004/10/07 10:10:24 djm Exp $
d195 1
a195 1
.Xr ssh 1 )
@


1.6
log
@stupid merge
@
text
@d1 2
a2 2
.\" $MirBSD: src/usr.bin/ssh/sftp.1,v 1.5 2004/05/23 18:46:53 tg Exp $
.\" $OpenBSD: sftp.1,v 1.57 2004/06/21 22:41:31 djm Exp $
d168 1
@


1.5
log
@* big OpenBSD 3.5-current merge
* adaption of share/doc Makefiles
* revival of the ancient "learn" utility
  XXX possible flaws!
* whitespace, config and comment cleanup in ssh
* add soelim, which was previously missing, and crunch
* add MirOS ELF note support to file
@
text
@d1 2
a2 2
.\" $MirBSD$
.\" $OpenBSD: sftp.1,v 1.52 2004/03/05 10:53:58 markus Exp $
d158 2
d305 18
@


1.4
log
@* fix the build system
* fix and enable the GNU Pascal RTS and Utils
  -> gpc is now fully supported; Hello World works.
* merge OpenBSD-OpenSSH 3.8, bump patchlevel
* add fchroot(2) diff, From: Pedro Martelletto <pbastos@@rdc.puc-rio.br>
* add fchroot(2) man page from NetBSD and myself
* fix orders of manpage sections
* fix displaying of .Nx mdoc macro
* convert scripts requiring bash to ksh
* nuke a shutload of GNU make idiotisms
* add pregenerated manpages - help2man is just bloat
* increase shlib versions after fchroot addition
* adjust and unbreak mk.conf after recent changes
* fix boot system version number after CD boot changes
* understand why Makefile.bsd-wrapper is needed as filename. Finally.
* regenerate files after syscalls.master change
* fix RCS Id detection and generation while here
* remove unused archs while there
* use __RCSID() macro in ssh ifdef __MirBSD__
* build ssh with -Werror, too

Note: this is a pre-snapshot, pre-build commit. Nothing
of this has actually been tested.

Like I said, please wait for the snapshot. Though, the
snapshot doesn't have any more circumstances preventing
me from working towards a release and upload now.
@
text
@d1 1
d157 1
a157 1
.It ConnectionTimeout
d178 1
@


1.3
log
@first part of mergeing OpenBSD and fixing whitespace and RCS IDs
@
text
@d1 1
a1 1
.\" $OpenBSD: sftp.1,v 1.51 2004/01/13 12:17:33 jmc Exp $
d164 1
@


1.2
log
@* merge OpenBSD
* remove all Kerberos, GSS, AFS related code
* bump version
@
text
@d1 1
a1 1
.\" $OpenBSD: sftp.1,v 1.49 2003/12/16 15:49:51 markus Exp $
d103 5
d118 1
a118 1
.Sq Ic \-
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
.\" $OpenBSD: sftp.1,v 1.40 2003/01/10 08:19:07 fgsch Exp $
d30 1
a30 1
.Nd Secure file transfer program
d33 3
a35 1
.Op Fl vC1
d37 1
d39 1
a39 4
.Op Fl s Ar subsystem | sftp_server
.Op Fl B Ar buffer_size
.Op Fl F Ar ssh_config
.Op Fl P Ar sftp_server path
d42 1
d44 1
d46 3
a48 1
.Op [\fIuser\fR@@]\fIhost\fR[:\fIfile\fR [\fIfile\fR]]
d50 6
a55 1
.Op [\fIuser\fR@@]\fIhost\fR[:\fIdir\fR[\fI/\fR]]
d74 1
a74 1
The last usage format allows the sftp client to start in a remote directory.
d76 9
d87 9
d107 1
a107 1
.Ic rm , mkdir , chdir , ls , 
d111 15
a125 6
Termination on error can be suppressed on a command by command basis by 
prefixing the command with a 
.Ic '-' 
character (For example,
.Ic -rm /tmp/blah*
).
d134 2
a135 2
command-line flag.  For example, to specify an alternate
port use:
d137 46
a182 26
.It Fl s Ar subsystem | sftp_server
Specifies the SSH2 subsystem or the path for an sftp server
on the remote host.  A path is useful for using sftp over
protocol version 1, or when the remote
.Nm sshd
does not have an sftp subsystem configured.
.It Fl v
Raise logging level. This option is also passed to ssh.
.It Fl B Ar buffer_size
Specify  the size of the buffer that
.Nm
uses when transferring files. Larger buffers require fewer round trips at
the cost of higher memory consumption. The default is 32768 bytes.
.It Fl C
Enables compression (via ssh's
.Fl C
flag).
.It Fl F Ar ssh_config
Specifies an alternative
per-user configuration file for
.Nm ssh .
This option is directly passed to
.Xr ssh 1 .
.It Fl P Ar sftp_server path
Connect directly to a local
.Nm sftp-server
d184 1
a184 1
.Nm ssh )
d187 4
a190 3
Specify how many requests may be outstanding at any one time. Increasing
this may slightly improve file transfer speed but will increase memory
usage. The default is 16 outstanding requests.
d198 11
a208 2
.It Fl 1
Specify the use of protocol version 1.
d217 1
a217 1
.Bl -tag -width Ds
d219 2
a220 1
Quit sftp.
a223 3
.It Ic lcd Ar path
Change local directory to
.Ar path .
d244 2
a245 1
Quit sftp.
d256 2
a257 1
remote machine. If the
d263 3
d290 2
a291 1
is not specified. If the
d310 4
a313 2
and store it on the remote machine. If the remote path name is not
specified, it is given the same name it has on the local machine. If the
d320 2
a321 1
Quit sftp.
d327 3
a332 3
.It Ic rm Ar path
Delete remote file specified by
.Ar path .
d342 1
a342 1
.It Ic ! Ar command
d346 1
a346 1
.It Ic !
d348 1
a348 1
.It Ic ?
a350 2
.Sh AUTHORS
Damien Miller <djm@@mindrot.org>
d352 1
@


1.1.1.1
log
@Import OpenBSD 3.3 source repository from CTM 3132 the first time
This opens an OpenBSD-mirabile (aka MirBSD) repository.

### MirBSD is:
# Copyright (c) 1982-2003 by Thorsten "mirabile" Glaser <x86@@ePost.de>
# Copyright © 1968-2003  The authors of And contributors to UNIX®, the
#       C Language, BSD/Berkeley Unix; 386BSD, NetBSD 1.1 and OpenBSD.
#
# Anyone who obtained a copy of this work is hereby permitted to freely use,
# distribute, modify, merge, sublicence, give away or sell it as long as the
# authors are given due credit and the following notice is retained:
#
# This work is provided "as is", with no explicit or implicit warranty what-
# soever. Use it only at your own risk. In no event may an author or contri-
# butor be held liable for any damage, directly or indirectly, that origina-
# ted through or is caused by creation or modification of this work.

MirBSD is my private tree. MirBSD does not differ very much from OpenBSD
and intentionally tracks OpenBSD. That's why it _is_ OpenBSD, just not the
official one. It's like with DarrenBSD.

At time of this writing, no advertising for MirBSD must be done,
because the advertising clause has not yet been sorted out.

http://templeofhate.com/tglaser/MirBSD/index.php
@
text
@@


1.1.1.2
log
@Import OpenBSD repository of CTM 3155 (roughly today at noon).
Mostly in order to go 3.3-current and ease further merges of
both OpenBSD and ELFdiffs after the MirBSD has been enabled
to build again.
@
text
@d1 1
a1 1
.\" $OpenBSD: sftp.1,v 1.41 2003/03/28 10:11:43 jmc Exp $
a32 1
.Bk -words
a42 1
.Ek
d44 1
a44 3
.Oo Oo Ar user Ns No @@ Oc Ns
.Ar host Ns Oo : Ns Ar file Oo
.Ar file Oc Oc Oc
d46 1
a46 3
.Oo Oo Ar user Ns No @@ Oc Ns
.Ar host Ns Oo : Ns Ar dir Ns
.Oo Ar / Oc Oc Oc
d80 1
a80 1
.Ic rm , mkdir , chdir , ls ,
d84 3
a86 3
Termination on error can be suppressed on a command by command basis by
prefixing the command with a
.Ic '-'
d98 1
a98 1
command-line flag. For example, to specify an alternate
d103 1
a103 1
on the remote host. A path is useful for using sftp over
d110 1
a110 1
Specify the size of the buffer that
@


1.1.1.3
log
@Sync MirBSD main source tree against OpenBSD-current,
which should be fairly stable after the Hackathon now.
@
text
@d1 1
a1 1
.\" $OpenBSD: sftp.1,v 1.44 2003/05/20 12:03:35 jmc Exp $
d30 1
a30 1
.Nd secure file transfer program
a52 3
.Nm sftp
.Fl b Ar batchfile
.Oo Ar user Ns No @@ Oc Ns Ar host Ns
d71 1
a71 1
The third usage format allows the sftp client to start in a remote directory.
a72 9
The final usage format allows for automated sessions using the
.Fl b
option.
In such cases, it is usually necessary to configure public key authentication
to obviate the need to enter a password at connection time (see
.Xr sshd 8
and
.Xr ssh-keygen 1
for details).
d92 4
a95 3
.Sq Ic \-
character (for example,
.Ic -rm /tmp/blah* ) .
d104 2
a105 2
command-line flag.
For example, to specify an alternate port use:
d109 3
a111 5
on the remote host.
A path is useful for using
.Nm
over protocol version 1, or when the remote
.Xr sshd 8
d114 1
a114 2
Raise logging level.
This option is also passed to ssh.
d118 2
a119 4
uses when transferring files.
Larger buffers require fewer round trips at the cost of higher
memory consumption.
The default is 32768 bytes.
d127 1
a127 1
.Xr ssh 1 .
d131 2
a132 1
Connect directly to a local sftp server
d134 1
a134 1
.Xr ssh 1 )
d137 3
a139 4
Specify how many requests may be outstanding at any one time.
Increasing this may slightly improve file transfer speed
but will increase memory usage.
The default is 16 outstanding requests.
d159 1
a159 2
Quit
.Nm sftp .
d186 1
a186 2
Quit
.Nm sftp .
d197 1
a197 2
remote machine.
If the
d227 1
a227 2
is not specified.
If the
d246 2
a247 4
and store it on the remote machine.
If the remote path name is not specified, it is given the same name it has
on the local machine.
If the
d254 1
a254 2
Quit
.Nm sftp .
d284 2
@


1.1.1.4
log
@OpenSSH 3.7.1
@
text
@d1 1
a1 1
.\" $OpenBSD: sftp.1,v 1.45 2003/09/02 18:50:06 jmc Exp $
d46 1
a46 1
.Oo Oo Ar user Ns @@ Oc Ns
d50 1
a50 1
.Oo Oo Ar user Ns @@ Oc Ns
d55 1
a55 1
.Oo Ar user Ns @@ Oc Ns Ar host
d298 1
a298 1
.It Ic \&! Ar command
d302 1
a302 1
.It Ic \&!
d304 1
a304 1
.It Ic \&?
@


1.1.1.5
log
@Time to import OpenBSD once again. Expect breakage.
@
text
@d1 1
a1 1
.\" $OpenBSD: sftp.1,v 1.49 2003/12/16 15:49:51 markus Exp $
d34 4
a37 1
.Op Fl 1Cv
a38 1
.Op Fl b Ar batchfile
d40 1
a40 2
.Op Fl o Ar ssh_option
.Op Fl P Ar sftp_server_path
a42 1
.Op Fl s Ar subsystem | sftp_server
a86 9
.It Fl 1
Specify the use of protocol version 1.
.It Fl B Ar buffer_size
Specify the size of the buffer that
.Nm
uses when transferring files.
Larger buffers require fewer round trips at the cost of higher
memory consumption.
The default is 32768 bytes.
a106 10
.It Fl C
Enables compression (via ssh's
.Fl C
flag).
.It Fl F Ar ssh_config
Specifies an alternative
per-user configuration file for
.Xr ssh 1 .
This option is directly passed to
.Xr ssh 1 .
d118 29
a146 47
For full details of the options listed below, and their possible values, see
.Xr ssh_config 5 .
.Pp
.Bl -tag -width Ds -offset indent -compact
.It AddressFamily
.It BatchMode
.It BindAddress
.It ChallengeResponseAuthentication
.It CheckHostIP
.It Cipher
.It Ciphers
.It Compression
.It CompressionLevel
.It ConnectionAttempts
.It ConnectionTimeout
.It GlobalKnownHostsFile
.It GSSAPIAuthentication
.It GSSAPIDelegateCredentials
.It Host
.It HostbasedAuthentication
.It HostKeyAlgorithms
.It HostKeyAlias
.It HostName
.It IdentityFile
.It LogLevel
.It MACs
.It NoHostAuthenticationForLocalhost
.It NumberOfPasswordPrompts
.It PasswordAuthentication
.It Port
.It PreferredAuthentications
.It Protocol
.It ProxyCommand
.It PubkeyAuthentication
.It RhostsRSAAuthentication
.It RSAAuthentication
.It ServerAliveInterval
.It ServerAliveCountMax
.It SmartcardDevice
.It StrictHostKeyChecking
.It TCPKeepAlive
.It UsePrivilegedPort
.It User
.It UserKnownHostsFile
.It VerifyHostKeyDNS
.El
.It Fl P Ar sftp_server_path
d163 2
a164 11
.It Fl s Ar subsystem | sftp_server
Specifies the SSH2 subsystem or the path for an sftp server
on the remote host.
A path is useful for using
.Nm
over protocol version 1, or when the remote
.Xr sshd 8
does not have an sftp subsystem configured.
.It Fl v
Raise logging level.
This option is also passed to ssh.
d173 1
a173 1
.Bl -tag -width "lmdir path"
d180 3
a221 3
.It Ic lcd Ar path
Change local directory to
.Ar path .
d283 3
a288 3
.It Ic rmdir Ar path
Remove remote directory specified by
.Ar path .
a307 1
.Xr ftp 1 ,
@


1.1.1.6
log
@Import OpenBSD as of today again (seems pretty stable, I hope)

Prominent changes: more bgpd, tcpmd5; tcpdump/isakmpd fixes
@
text
@d1 1
a1 1
.\" $OpenBSD: sftp.1,v 1.51 2004/01/13 12:17:33 jmc Exp $
a102 5
A
.Ar batchfile
of
.Sq \-
may be used to indicate standard input.
d113 1
a113 1
.Sq \-
@


1.1.1.7
log
@we got a new OpenSSH, port it over
@
text
@d1 1
a1 1
.\" $OpenBSD: sftp.1,v 1.52 2004/03/05 10:53:58 markus Exp $
a165 1
.It IdentitiesOnly
@


1.1.1.8
log
@large-scale import of OpenBSD 3.5-current source base including many fixes
note: from now, we will not be binary compatible with OpenBSD apps any
longer (due to syscall numbering differences); both an OpenBSD compat and
a conversion tool for old MirOS #7 apps will be delivered later.

The src/ tree is locked from now.
@
text
@d1 1
a1 1
.\" $OpenBSD: sftp.1,v 1.54 2004/05/02 23:02:17 dtucker Exp $
d156 1
a156 1
.It ConnectTimeout
a178 1
.It SendEnv
@


1.1.1.9
log
@openssh 3.9 (hopefully)
@
text
@d1 1
a1 1
.\" $OpenBSD: sftp.1,v 1.57 2004/06/21 22:41:31 djm Exp $
a156 2
.It ControlMaster
.It ControlPath
a303 18
The
.Fl n
flag will produce a long listing with user and group information presented
numerically.
.Pp
By default,
.Ic ls
listings are sorted in lexicographical order.
This may be changed by specifying the
.Fl S
(sort by file size),
.Fl t
(sort by last modification time), or
.Fl f
(don't sort at all) flags.
Additionally, the sort order may be reversed using the
.Fl r
flag.
@


1.1.1.10
log
@import some updates/fixes from openbsd
@
text
@d1 1
a1 1
.\" $OpenBSD: sftp.1,v 1.58 2004/10/07 10:10:24 djm Exp $
a168 1
.It KbdInteractiveDevices
@


1.1.1.11
log
@your daily dose of bugfixes and security updates from obsd
@
text
@d1 1
a1 1
.\" $OpenBSD: sftp.1,v 1.59 2004/11/29 00:05:17 jmc Exp $
d196 1
a196 1
.Xr ssh 1 ) .
@


1.1.1.12
log
@some more updates/fixes
@
text
@d1 1
a1 1
.\" $OpenBSD: sftp.1,v 1.60 2004/12/05 23:55:07 jaredy Exp $
d74 1
a74 3
The third usage format allows
.Nm
to start in a remote directory.
d227 3
a229 7
Commands are case insensitive.
Pathnames that contain spaces must be enclosed in quotes.
Any special characters contained within pathnames that are recognized by
.Xr glob 3
must be escaped with backslashes
.Pq Sq \e .
.Bl -tag -width Ds
a240 4
.Ar path
may contain
.Xr glob 3
characters and may match multiple files.
a247 4
.Ar path
may contain
.Xr glob 3
characters and may match multiple files.
a252 4
.Ar path
may contain
.Xr glob 3
characters and may match multiple files.
d259 1
a259 1
.Op Fl P
a268 9
.Ar remote-path
may contain
.Xr glob 3
characters and may match multiple files.
If it does and
.Ar local-path
is specified, then
.Ar local-path
must specify a directory.
d271 1
a271 1
flag is specified, then full file permissions and access times are
a283 8
.Ar ls-options
may contain any flags supported by the local system's
.Xr ls 1
command.
.Ar path
may contain
.Xr glob 3
characters and may match multiple files.
d295 1
a295 1
.Op Fl 1aflnrSt
d298 1
a298 1
Display a remote directory listing of either
d300 1
a300 1
or the current directory if
d303 8
a310 4
.Ar path
may contain
.Xr glob 3
characters and may match multiple files.
d312 1
a312 1
The following flags are recognized and alter the behaviour of
d314 11
a324 23
accordingly:
.Bl -tag -width Ds
.It Fl 1
Produce single columnar output.
.It Fl a
List files beginning with a dot
.Pq Sq \&. .
.It Fl f
Do not sort the listing.
The default sort order is lexicographical.
.It Fl l
Display additional details including permissions
and ownership information.
.It Fl n
Produce a long listing with user and group information presented
numerically.
.It Fl r
Reverse the sort order of the listing.
.It Fl S
Sort the listing by file size.
.It Fl t
Sort the listing by last modification time.
.El
d334 1
a334 1
.Op Fl P
a342 9
.Ar local-path
may contain
.Xr glob 3
characters and may match multiple files.
If it does and
.Ar remote-path
is specified, then
.Ar remote-path
must specify a directory.
a382 1
.Xr ls 1 ,
a386 1
.Xr glob 3 ,
@


