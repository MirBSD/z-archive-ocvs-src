head	1.17;
access;
symbols
	tg-mergetmp-mirosx-1:1.17
	tg-mergefixes-1-branch:1.17.0.8
	tg-mergefixes-1-base:1.17
	MIROS_X:1.17.0.6
	MIROS_X_BASE:1.17
	tg-mergetmp-3:1.17
	cvs-200412111650:1.1.1.9
	cvs-200412031430:1.1.1.9
	cvs-200411261545:1.1.1.9
	MIRBSD_XP_MIRPPC:1.17.0.4
	cvs-200411131700:1.1.1.9
	cvs-200410311900:1.1.1.9
	cvs-200410222040:1.1.1.9
	tg-mergetmp-1:1.1.1.9
	MIRBSD_XP_SPARC_BASE:1.17
	MIRBSD_XP_SPARC:1.17.0.2
	cvs-200410012000:1.1.1.9
	cvs-200408281215:1.1.1.9
	cvs-200408220030:1.1.1.9
	MIRBSD_7quater:1.10
	cvs-200405160640:1.1.1.8
	cvs-200403222025:1.1.1.8
	cvs-200403101630:1.1.1.8
	cvs-200401271800:1.1.1.8
	cvs-200401261630:1.1.1.8
	cvs-200401021645:1.1.1.8
	MIRBSD_7_ALPHA:1.10.0.6
	MIRBSD_7:1.10.0.4
	cvs-200312222040:1.1.1.7
	MIRBSD_7ter:1.10
	MIRBSD_7_DEV:1.10.0.2
	cvs-200310021412:1.1.1.7
	cvs-200310020700:1.1.1.7
	cvs-200309271030:1.1.1.6
	cvs-200309251530:1.1.1.6
	cvs-200309162245:1.1.1.6
	cvs-200308302005:1.1.1.6
	cvs-200308171200:1.1.1.5
	ctm-3496:1.1.1.4
	ctm-3449:1.1.1.4
	ctm-3437:1.1.1.3
	cvs-200307191805:1.1.1.3
	ctm-3425:1.1.1.3
	cvs-200307091500:1.1.1.3
	ctm-3389:1.1.1.3
	cvs-200306291430:1.1.1.3
	ctm-3341:1.1.1.2
	MIRBSD_5:1.4
	cvs-200306082100:1.1.1.2
	ctm-3316:1.1.1.2
	ctm-3272:1.1.1.1
	ctm-3264:1.1.1.1
	cvs-200305071630:1.1.1.1
	MIRBSD_4:1.2
	ctm-3203:1.1.1.1
	cvs-20030410-1130:1.1.1.1
	ctm-3155:1.1.1.1
	ctm-3132:1.1.1.1
	openbsd:1.1.1;
locks; strict;
comment	@# @;


1.17
date	2004.09.01.17.56.07;	author tg;	state Exp;
branches;
next	1.16;

1.16
date	2004.08.22.00.47.57;	author tg;	state Stab;
branches;
next	1.15;

1.15
date	2004.01.03.03.32.55;	author tg;	state Exp;
branches;
next	1.14;

1.14
date	2003.11.24.17.28.04;	author tg;	state Exp;
branches;
next	1.13;

1.13
date	2003.11.19.17.31.28;	author tg;	state Exp;
branches;
next	1.12;

1.12
date	2003.10.26.21.32.05;	author tg;	state Exp;
branches;
next	1.11;

1.11
date	2003.10.26.21.02.36;	author tg;	state Exp;
branches;
next	1.10;

1.10
date	2003.10.02.14.52.49;	author tg;	state Exp;
branches;
next	1.9;

1.9
date	2003.09.01.17.36.48;	author tg;	state Exp;
branches;
next	1.8;

1.8
date	2003.08.31.20.55.06;	author tg;	state Exp;
branches;
next	1.7;

1.7
date	2003.08.17.18.57.07;	author tg;	state Exp;
branches;
next	1.6;

1.6
date	2003.07.26.16.08.38;	author tg;	state Exp;
branches;
next	1.5;

1.5
date	2003.06.29.19.52.40;	author tg;	state Exp;
branches;
next	1.4;

1.4
date	2003.06.06.18.30.15;	author tg;	state Exp;
branches;
next	1.3;

1.3
date	2003.05.22.14.09.10;	author tg;	state Exp;
branches;
next	1.2;

1.2
date	2003.03.31.17.16.39;	author tg;	state Exp;
branches;
next	1.1;

1.1
date	2003.03.22.17.53.23;	author tg;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2003.03.22.17.53.23;	author tg;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	2003.06.05.17.44.33;	author tg;	state Exp;
branches;
next	1.1.1.3;

1.1.1.3
date	2003.06.29.17.37.12;	author tg;	state Exp;
branches;
next	1.1.1.4;

1.1.1.4
date	2003.07.26.13.24.42;	author tg;	state Exp;
branches;
next	1.1.1.5;

1.1.1.5
date	2003.08.17.14.46.40;	author tg;	state Exp;
branches;
next	1.1.1.6;

1.1.1.6
date	2003.08.30.23.38.17;	author tg;	state Exp;
branches;
next	1.1.1.7;

1.1.1.7
date	2003.10.02.07.50.37;	author tg;	state Exp;
branches;
next	1.1.1.8;

1.1.1.8
date	2004.01.02.18.05.23;	author tg;	state Exp;
branches;
next	1.1.1.9;

1.1.1.9
date	2004.08.22.00.32.34;	author tg;	state Exp;
branches;
next	;


desc
@@


1.17
log
@react on http://pacsec.jp/advisories.html
@
text
@# $MirBSD: src/usr.bin/ssh/sshd_config,v 1.16 2004/08/22 00:47:57 tg Stab $
# $OpenBSD: sshd_config,v 1.69 2004/05/23 23:59:53 dtucker Exp $

# This is the sshd server system-wide configuration file.  See
# sshd_config(5) for more information.

# The strategy used for options in the default sshd_config shipped with
# OpenSSH is to specify options with their default value where
# possible, but leave them commented.  Uncommented options change a
# default value.

#Port 22
# Change default value below to match HostKey directives beyond
#Protocol 2,1
Protocol 2
#ListenAddress 0.0.0.0
#ListenAddress ::
#Cipher blowfish
#Ciphers blowfish-cbc,aes256-cbc,aes128-cbc,arcfour,cast128-cbc,rijndael-cbc@@lysator.liu.se,3des-cbc,aes192-cbc,aes128-ctr,aes192-ctr,aes256-ctr
#MACs hmac-ripemd160,hmac-ripemd160@@openssh.com,hmac-sha1,hmac-md5,hmac-sha1-96,hmac-md5-96

# Default for the following options (HostKey) is: all three
# commented out equals all three in action. If only one or
# two is given, the others are not checked (by default, only
# the RSAv2 key is enabled).

# HostKey for protocol version 1
#HostKey /etc/ssh/ssh_host_key
# HostKeys for protocol version 2
HostKey /etc/ssh/ssh_host_rsa_key
#HostKey /etc/ssh/ssh_host_dsa_key

# Lifetime and size of ephemeral version 1 server key
#KeyRegenerationInterval 1h
#ServerKeyBits 768

# Logging
#obsoletes QuietMode and FascistLogging
#SyslogFacility AUTH
#LogLevel INFO

# Authentication:

#LoginGraceTime 2m
#PermitRootLogin no
#StrictModes yes
#MaxAuthTries 6

#RSAAuthentication yes
#PubkeyAuthentication yes
#AuthorizedKeysFile	.etc/ssh/authorized_keys

# For this to work you will also need host keys in /etc/ssh/ssh_known_hosts
#RhostsRSAAuthentication no
# similar for protocol version 2
#HostbasedAuthentication no
# Change to yes if you don't trust ~/.etc/ssh/known_hosts for
# RhostsRSAAuthentication and HostbasedAuthentication
#IgnoreUserKnownHosts no
# Don't read the user's ~/.rhosts and ~/.shosts files
#IgnoreRhosts yes

# To disable tunneled clear text passwords, change to no here!
#PasswordAuthentication yes
#PermitEmptyPasswords no

# Change to no to disable s/key passwords
#ChallengeResponseAuthentication yes

# Set AllowTcpForwarding to NO when running anoncvs!
#AllowTcpForwarding yes
#GatewayPorts no
#X11Forwarding no
#X11DisplayOffset 10
#X11UseLocalhost yes
#PrintMotd yes
#PrintLastLog yes
#TCPKeepAlive yes
#UseLogin no
#UsePrivilegeSeparation yes
#PermitUserEnvironment no
#Compression yes
#ClientAliveInterval 0
#ClientAliveCountMax 3
#UseDNS yes
#PidFile /var/run/sshd.pid
#MaxStartups 10

# no default banner path
#Banner /some/path

# override default of no subsystems to enable use of SFTP:
Subsystem	sftp	/usr/libexec/sftp-server
@


1.16
log
@stupid merge
@
text
@d1 1
a1 1
# $MirBSD: src/usr.bin/ssh/sshd_config,v 1.15 2004/01/03 03:32:55 tg Exp $
d70 1
@


1.15
log
@* merge OpenBSD
* remove all Kerberos, GSS, AFS related code
* bump version
@
text
@d1 2
a2 2
# $MirBSD: sshd_config,v 1.14 2003/11/24 17:28:04 tg Exp $
# $OpenBSD: sshd_config,v 1.68 2003/12/29 16:39:50 millert Exp $
d47 1
@


1.14
log
@fix up Protocol for HostKey change, this time tested :)
@
text
@d1 2
a2 2
# $MirBSD: sshd_config,v 1.13 2003/11/19 17:31:28 tg Exp $
# $OpenBSD: sshd_config,v 1.66 2003/09/29 20:19:57 markus Exp $
d76 1
a76 1
#KeepAlive yes
@


1.13
log
@sshd will use only RSAv2 by default from now on
document that in afterboot
while there, adjust afterboot for .Mx BSD
and implement .Mx BSD and .Mx Linux :)
@
text
@d1 1
a1 1
# $MirBSD: sshd_config,v 1.12 2003/10/26 21:32:05 tg Exp $
d13 1
d15 1
@


1.12
log
@Enable SFTP over SSHv2 by default, requested by bsiegert@@

Rationale:
- scp uses protocol version 1(iirc), shell, and has problems with
  file names with spaces (though I know how to circumvent it)
- scp doesn't do ls(1), you would have to use ssh for it
- scp opens a new connection for each transfer
- <bsiegert> sftp works well because it's enabled by default
@
text
@d1 2
a2 2
#	$MirBSD: sshd_config,v 1.11 2003/10/26 21:02:36 tg Exp $
#	$OpenBSD: sshd_config,v 1.66 2003/09/29 20:19:57 markus Exp $
d20 5
d28 1
a28 1
#HostKey /etc/ssh/ssh_host_rsa_key
@


1.11
log
@Harden MirBSD:
* disallow remote root logins by default
* document that SFTP is disabled by default (since not that long ago)

Fix documentation:
* fix Cipher (sshv1), Ciphers (sshv2) and MACs in the code,
  configuration file and manual page to agree
* synchronize docs with reality

While here, the usual cleanup:
* no whitespace at end of line
* no usage of the character 0x60 in my tree!
* add/change RCS Id

Bump version number, as this is a user-visible change.
@
text
@d1 1
a1 1
#	$MirBSD: sshd_config,v 1.10 2003/10/02 14:52:49 tg Exp $
d84 1
a84 1
#Subsystem	sftp	/usr/libexec/sftp-server
@


1.10
log
@Merge in OpenBSD
@
text
@d1 1
a1 1
#	$MirBSD: sshd_config,v 1.9 2003/09/01 17:36:48 tg Exp $
d16 3
d38 1
a38 1
#PermitRootLogin yes
a81 1
#Ciphers blowfish-cbc,aes128-cbc,cast128-cbc,arcfour,3des-cbc,aes192-cbc,aes256-cbc
@


1.9
log
@o ~/.ssh -> ~/.etc/ssh
o bump MirBSD/SSH patchlevel
o adjust the rest of the tree accordingly
@
text
@d1 2
a2 2
#	$MirBSD: sshd_config,v 1.8 2003/08/31 20:55:06 tg Exp $
#	$OpenBSD: sshd_config,v 1.65 2003/08/28 12:54:34 markus Exp $
d81 2
a82 2
# override default of no subsystems
Subsystem	sftp	/usr/libexec/sftp-server
@


1.8
log
@Merge import of OpenBSD source, ports and XF4 tree.

While here,
o clean up differences where possible
o whitespace cleanup
o ifdef ./. if defined()
o '...' ./. "..."
o echo foo > bar ./. echo foo >bar
o `...` ./. $(...) ./. $$(...)
o `...' ./. '...'
o modernize "our" tree, e.g. WWW in ports
o fix some typos and brainos introduced when renaming OpenBSD to MirBSD
o use hardware 80387 by default
o migrate Apache 1.3.28 OpenBSD ./. MirBSD ./. KAME
o work around as many CVS bugs as possible (add back/delete files, ...)

Synchronize stuff, ready for ongoing changes.
@
text
@d1 1
a1 1
#	$MirBSD: sshd_config,v 1.7 2003/08/17 18:57:07 tg Exp $
d40 1
a40 1
#AuthorizedKeysFile	.ssh/authorized_keys
d46 1
a46 1
# Change to yes if you don't trust ~/.ssh/known_hosts for
@


1.7
log
@merge OpenBSD, remove a few 0x60
@
text
@d1 2
a2 2
#	$MirBSD: sshd_config,v 1.6 2003/07/26 16:08:38 tg Exp $
#	$OpenBSD: sshd_config,v 1.63 2003/08/13 08:46:31 markus Exp $
@


1.6
log
@merge CVS; fix here and there a bit
@
text
@d1 2
a2 2
#	$MirBSD: sshd_config,v 1.5 2003/06/29 19:52:40 tg Exp $
#	$OpenBSD: sshd_config,v 1.62 2003/07/23 07:42:43 markus Exp $
a41 4
# rhosts authentication should not be used
#RhostsAuthentication no
# Don't read the user's ~/.rhosts and ~/.shosts files
#IgnoreRhosts yes
d49 2
@


1.5
log
@merge the import
amd (automount dæmon) bites the dust
rewrite fake-NLS emulation, copyright to me
foobar! fnord!
@
text
@d1 2
a2 2
#	$MirBSD: sshd_config,v 1.4 2003/06/06 18:30:15 tg Exp $
#	$OpenBSD: sshd_config,v 1.61 2003/06/20 05:48:21 djm Exp $
@


1.4
log
@Merge OpenBSD-current
@
text
@d1 2
a2 2
#	$MirBSD: sshd_config,v 1.3 2003/05/22 14:09:10 tg Exp $
#	$OpenBSD: sshd_config,v 1.60 2003/06/02 09:17:34 markus Exp $
d24 1
a24 1
#KeyRegenerationInterval 3600
d34 1
a34 1
#LoginGraceTime 120
d61 2
d73 5
a78 1
#MaxStartups 10
a81 1
#UseDNS yes
@


1.3
log
@merge CVS import stuff
@
text
@d1 2
a2 2
#	$MirBSD: sshd_config,v 1.2 2003/03/31 17:16:39 tg Exp $
#	$OpenBSD: sshd_config,v 1.59 2002/09/25 11:17:16 markus Exp $
a74 1
#VerifyReverseMapping no
d76 1
@


1.2
log
@adjust default configs
@
text
@d1 1
a1 1
#	$MirBSD$
d76 1
a79 3

# Note: this one is different in MirBSD!
#Ciphers blowfish-cbc,aes128-cbc,cast128-cbc,arcfour,3des-cbc,aes192-cbc,aes256-cbc
@


1.1
log
@Initial revision
@
text
@d1 1
a60 10
# Kerberos options
#KerberosAuthentication no
#KerberosOrLocalPasswd yes
#KerberosTicketCleanup yes

#AFSTokenPassing no

# Kerberos TGT Passing only works with the AFS kaserver
#KerberosTgtPassing no

d79 3
@


1.1.1.1
log
@Import OpenBSD 3.3 source repository from CTM 3132 the first time
This opens an OpenBSD-mirabile (aka MirBSD) repository.

### MirBSD is:
# Copyright (c) 1982-2003 by Thorsten "mirabile" Glaser <x86@@ePost.de>
# Copyright © 1968-2003  The authors of And contributors to UNIX®, the
#       C Language, BSD/Berkeley Unix; 386BSD, NetBSD 1.1 and OpenBSD.
#
# Anyone who obtained a copy of this work is hereby permitted to freely use,
# distribute, modify, merge, sublicence, give away or sell it as long as the
# authors are given due credit and the following notice is retained:
#
# This work is provided "as is", with no explicit or implicit warranty what-
# soever. Use it only at your own risk. In no event may an author or contri-
# butor be held liable for any damage, directly or indirectly, that origina-
# ted through or is caused by creation or modification of this work.

MirBSD is my private tree. MirBSD does not differ very much from OpenBSD
and intentionally tracks OpenBSD. That's why it _is_ OpenBSD, just not the
official one. It's like with DarrenBSD.

At time of this writing, no advertising for MirBSD must be done,
because the advertising clause has not yet been sorted out.

http://templeofhate.com/tglaser/MirBSD/index.php
@
text
@@


1.1.1.2
log
@Import latest OpenBSD CVS tree by CTM in order
to sync the base system and ports tree with Them.

This includes the recent licence changes as well - by
importing the changed base and re-applying the diffs
(with cvs up -j -j) they are inherited, and we're not
bound to the removed clauses any longer.
@
text
@d1 1
a1 1
#	$OpenBSD: sshd_config,v 1.60 2003/06/02 09:17:34 markus Exp $
d84 1
a84 1
#UseDNS yes
@


1.1.1.3
log
@the previous cvs import did not finish due to 'memory fault'
sync with OpenBSD-cvs
@
text
@d1 1
a1 1
#	$OpenBSD: sshd_config,v 1.61 2003/06/20 05:48:21 djm Exp $
d23 1
a23 1
#KeyRegenerationInterval 1h
d33 1
a33 1
#LoginGraceTime 2m
a69 2
#AllowTcpForwarding yes
#GatewayPorts no
d80 1
a80 4
#ClientAliveInterval 0
#ClientAliveCountMax 3
#UseDNS yes
#PidFile /var/run/sshd.pid
a81 1

d84 1
@


1.1.1.4
log
@Import latest OpenBSD ports, XFree and source in sync
@
text
@d1 1
a1 1
#	$OpenBSD: sshd_config,v 1.62 2003/07/23 07:42:43 markus Exp $
d64 4
@


1.1.1.5
log
@Import OpenBSD source tree from CVS (anoncvs canada)
of roughly 12:00 UTC today. Bumps us to OpenBSD 3.4
and makes source/ports in sync. Hopefully.
@
text
@d1 1
a1 1
#	$OpenBSD: sshd_config,v 1.63 2003/08/13 08:46:31 markus Exp $
d41 4
a51 2
# Don't read the user's ~/.rhosts and ~/.shosts files
#IgnoreRhosts yes
@


1.1.1.6
log
@Synchronize with OpenBSD 3.4-beta
@
text
@d1 1
a1 1
#	$OpenBSD: sshd_config,v 1.65 2003/08/28 12:54:34 markus Exp $
d62 1
a62 4

# GSSAPI options
#GSSAPIAuthentication no
#GSSAPICleanupCreds yes
@


1.1.1.7
log
@Import OpenBSD source tree again, with critical bug fixes
(OpenSSL, bc, dc, sensorsd, pf, ...)
@
text
@d1 1
a1 1
#	$OpenBSD: sshd_config,v 1.66 2003/09/29 20:19:57 markus Exp $
d65 1
a65 1
#GSSAPICleanupCredentials yes
@


1.1.1.8
log
@Import OpenBSD again, for various reasons.
@
text
@d1 1
a1 1
#	$OpenBSD: sshd_config,v 1.68 2003/12/29 16:39:50 millert Exp $
a61 1
#KerberosGetAFSToken no
d74 1
a74 1
#TCPKeepAlive yes
@


1.1.1.9
log
@openssh 3.9 (hopefully)
@
text
@d1 1
a1 1
#	$OpenBSD: sshd_config,v 1.69 2004/05/23 23:59:53 dtucker Exp $
a35 1
#MaxAuthTries 6
@


